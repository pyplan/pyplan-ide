/*! Copyright Pyplan 2020. All rights reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[107,23],{1410:function(n,e,t){"use strict";(function(l,c){var i,a,o=t(18);i=[t(726),t(1411)],void 0===(a=function(n,e){return l.View.extend({el:c("body"),currentLicence:void 0,render:function(){var t=this;(new n).getLicenceKey(this.options.licResult.companyId,function(n){t.options.licResult&&!t.options.licResult.licError&&n.currentLicenceValidation&&n.currentLicenceValidation.errorText&&(t.options.licResult.licError=n.currentLicenceValidation.errorText),t.options.licResult.licError||(t.options.licResult.licError=(0,o.translate)("licenceok"));var l={licInfo:n,licError:t.options.licResult.licError};t.currentLicence=n;var i=e(l);t.$el.removeClass("login"),c("body").css("background-color","rgb(54, 142, 224)"),t.$el.html(i),t.addHandlers()})},addHandlers:function(){var e=this.$el.find(".invalidKey"),t=this;e.find("textarea[name='licenceKey']").focus(function(){c(this).select()}),e.find("button.btnValidate").on("click",function(){e.find(".lblInvalid").hide(),e.find(".lblValid").hide(),t.currentLicence.licence=e.find("textarea[name='licenceKey']").val(),(new n).setLicenceKey(t.currentLicence,function(n){n?e.find(".lblValid").show():e.find(".lblInvalid").show()})}),e.find(".btnMore").on("click",function(){e.find(".licDetail").toggle()}),e.find("a.btnReload").on("click",function(){window.location.reload(!1)}),e.find(".licDetail input").focus(function(){c(this).select();var n=this;setTimeout(function(){"selectionStart"in n?console.log(n.selectionStart,n.selectionEnd):document.selection&&console.log(document.selection)},1e3)})}})}.apply(e,i))||(n.exports=a)}).call(this,t(218),t(1))},1411:function(n,e,t){var l=t(690);function c(n){return n&&(n.__esModule?n.default:n)}n.exports=(l.default||l).template({compiler:[7,">= 4.0.0"],main:function(n,e,l,i,a){var o,s=n.lambda,r=n.escapeExpression,d=null!=e?e:n.nullContext||{};return'\n<div class="licInfo invalidKey ">\n\n    <div class="error wrapper ">\n\n        <div class="licError">\n            <h2 class="code">'+r(s(null!=e?e.licError:e,e))+'</h2>\n\n            <a href="#" class="btnMore">View Detail</a>\n            \n        </div>\n\n        <div class="licDetail nodisplay">\n            <div class="code">\n\n                <h3>'+r(c(t(688)).call(d,"activation_code",{name:"L",hash:{},data:a}))+' </h3>\n                <input type="text" readonly="readonly"  value="'+r(s(null!=(o=null!=e?e.licInfo:e)?o.companyCode:o,e))+"|"+r(s(null!=(o=null!=e?e.licInfo:e)?o.hostId:o,e))+'" style="cursor:text" class="form-control" />\n            </div>\n            <div class="desc">\n\n                <h3>'+r(c(t(688)).call(d,"licence_key",{name:"L",hash:{},data:a}))+'</h3>\n                <textarea rows="5" class="form-control" name="licenceKey" placeholder="(paste your licence key here)" >'+r(s(null!=(o=null!=e?e.licInfo:e)?o.licence:o,e))+'</textarea>\n                <h3> <button class="btn btn-darkblue btnValidate" >'+r(c(t(688)).call(d,"validate",{name:"L",hash:{},data:a}))+'</button> </h3>\n\n                <div class="alert alert-danger lblInvalid nodisplay">'+r(c(t(688)).call(d,"licence_invalid",{name:"L",hash:{},data:a}))+'</div>\n                <div class="alert alert-success lblValid nodisplay">'+r(c(t(688)).call(d,"licence_ok_a",{name:"L",hash:{},data:a}))+' <a href="#" class="btnReload" style="color: #368ee0;">'+r(c(t(688)).call(d,"click_here",{name:"L",hash:{},data:a}))+"</a> "+r(c(t(688)).call(d,"login_again",{name:"L",hash:{},data:a}))+"</div>\n            </div>\n        </div>\n\n    </div>\n</div>"},useData:!0})},726:function(n,e,t){"use strict";(function(l){var c,i=t(693);void 0===(c=function(){return l.Model.extend({list:function(n){(0,i.send)("companies/?limit=1000&offset=0",null,null,n)},fullList:function(n){(0,i.send)("companies/list_with_groups_and_depts/",null,null,n)},getCompany:function(n,e){(0,i.send)("companies/".concat(n,"/"),null,null,e)},update:function(n,e,t){(0,i.send)("companies/".concat(n,"/"),JSON.stringify(e),{type:"PUT",contentType:"application/json;charset=utf-8",dataType:"text"},t)},partialUpdate:function(n,e,t){(0,i.send)("companies/".concat(n,"/"),JSON.stringify(e),{type:"PATCH",contentType:"application/json;charset=utf-8",dataType:"text"},t)},create:function(n,e){(0,i.send)("companies/",n,{type:"POST"},e)},delete:function(n,e){(0,i.send)("companies/".concat(n,"/"),null,{type:"DELETE"},e)},UpdateCompanyPreference:function(n,e,t){var l={companyId:__currentSession.companyId,preferenceCode:n,value:e};(0,i.send)("company/UpdateCompanyPreference",l,{type:"PUT"},t)},GetCompanyPreference:function(n,e){(0,i.send)("companies/preference_by_code/?code=".concat(n),null,{type:"GET"},e)},sendTestEmail:function(n,e){(0,i.send)("company/SendTestEmail",n,{type:"PUT"},e)},getLicenceKey:function(n,e){(0,i.send)("company/GetLK/"+n,null,null,e)},setLicenceKey:function(n,e){(0,i.send)("company/SetLK/",n,{type:"POST"},e)}})}.apply(e,[]))||(n.exports=c)}).call(this,t(218))}}]);