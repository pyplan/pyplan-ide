/*! Copyright Pyplan 2020. All rights reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[109,24],{1380:function(n,e,l){"use strict";(function(c,t){var i,a,o=l(18);i=[l(725),l(1381)],void 0===(a=function(n,e){return c.View.extend({el:t("body"),currentLicence:void 0,render:function(){var l=this;(new n).getLicenceKey(this.options.licResult.companyId,function(n){l.options.licResult&&!l.options.licResult.licError&&n.currentLicenceValidation&&n.currentLicenceValidation.errorText&&(l.options.licResult.licError=n.currentLicenceValidation.errorText),l.options.licResult.licError||(l.options.licResult.licError=(0,o.translate)("licenceok"));var c={licInfo:n,licError:l.options.licResult.licError};l.currentLicence=n;var i=e(c);l.$el.removeClass("login"),t("body").css("background-color","rgb(54, 142, 224)"),l.$el.html(i),l.addHandlers()})},addHandlers:function(){var e=this.$el.find(".invalidKey"),l=this;e.find("textarea[name='licenceKey']").focus(function(){t(this).select()}),e.find("button.btnValidate").on("click",function(){e.find(".lblInvalid").hide(),e.find(".lblValid").hide(),l.currentLicence.licence=e.find("textarea[name='licenceKey']").val(),(new n).setLicenceKey(l.currentLicence,function(n){n?e.find(".lblValid").show():e.find(".lblInvalid").show()})}),e.find(".btnMore").on("click",function(){e.find(".licDetail").toggle()}),e.find("a.btnReload").on("click",function(){window.location.reload(!1)}),e.find(".licDetail input").focus(function(){t(this).select();var n=this;setTimeout(function(){"selectionStart"in n?console.log(n.selectionStart,n.selectionEnd):document.selection&&console.log(document.selection)},1e3)})}})}.apply(e,i))||(n.exports=a)}).call(this,l(218),l(1))},1381:function(n,e,l){var c=l(690);function t(n){return n&&(n.__esModule?n.default:n)}n.exports=(c.default||c).template({compiler:[8,">= 4.3.0"],main:function(n,e,c,i,a){var o,s=n.lambda,r=n.escapeExpression,d=null!=e?e:n.nullContext||{};return'\n<div class="licInfo invalidKey ">\n\n    <div class="error wrapper ">\n\n        <div class="licError">\n            <h2 class="code">'+r(s(null!=e?e.licError:e,e))+'</h2>\n\n            <a href="#" class="btnMore">View Detail</a>\n            \n        </div>\n\n        <div class="licDetail nodisplay">\n            <div class="code">\n\n                <h3>'+r(t(l(688)).call(d,"activation_code",{name:"L",hash:{},data:a,loc:{start:{line:16,column:20},end:{line:16,column:43}}}))+' </h3>\n                <input type="text" readonly="readonly"  value="'+r(s(null!=(o=null!=e?e.licInfo:e)?o.companyCode:o,e))+"|"+r(s(null!=(o=null!=e?e.licInfo:e)?o.hostId:o,e))+'" style="cursor:text" class="form-control" />\n            </div>\n            <div class="desc">\n\n                <h3>'+r(t(l(688)).call(d,"licence_key",{name:"L",hash:{},data:a,loc:{start:{line:21,column:20},end:{line:21,column:39}}}))+'</h3>\n                <textarea rows="5" class="form-control" name="licenceKey" placeholder="(paste your licence key here)" >'+r(s(null!=(o=null!=e?e.licInfo:e)?o.licence:o,e))+'</textarea>\n                <h3> <button class="btn btn-darkblue btnValidate" >'+r(t(l(688)).call(d,"validate",{name:"L",hash:{},data:a,loc:{start:{line:23,column:67},end:{line:23,column:83}}}))+'</button> </h3>\n\n                <div class="alert alert-danger lblInvalid nodisplay">'+r(t(l(688)).call(d,"licence_invalid",{name:"L",hash:{},data:a,loc:{start:{line:25,column:69},end:{line:25,column:92}}}))+'</div>\n                <div class="alert alert-success lblValid nodisplay">'+r(t(l(688)).call(d,"licence_ok_a",{name:"L",hash:{},data:a,loc:{start:{line:26,column:68},end:{line:26,column:88}}}))+' <a href="#" class="btnReload" style="color: #368ee0;">'+r(t(l(688)).call(d,"click_here",{name:"L",hash:{},data:a,loc:{start:{line:26,column:143},end:{line:26,column:161}}}))+"</a> "+r(t(l(688)).call(d,"login_again",{name:"L",hash:{},data:a,loc:{start:{line:26,column:166},end:{line:26,column:185}}}))+"</div>\n            </div>\n        </div>\n\n    </div>\n</div>"},useData:!0})},725:function(n,e,l){"use strict";(function(c){var t,i=l(693);void 0===(t=function(){return c.Model.extend({list:function(n){(0,i.send)("companies/?limit=1000&offset=0",null,null,n)},getCompany:function(n,e){(0,i.send)("companies/".concat(n,"/"),null,null,e)},update:function(n,e,l){(0,i.send)("companies/".concat(n,"/"),JSON.stringify(e),{type:"PUT",contentType:"application/json;charset=utf-8",dataType:"text"},l)},partialUpdate:function(n,e,l){(0,i.send)("companies/".concat(n,"/"),JSON.stringify(e),{type:"PATCH",contentType:"application/json;charset=utf-8",dataType:"text"},l)},create:function(n,e){(0,i.send)("companies/",n,{type:"POST"},e)},delete:function(n,e){(0,i.send)("companies/".concat(n,"/"),null,{type:"DELETE"},e)},UpdateCompanyPreference:function(n,e,l){var c={companyId:__currentSession.companyId,preferenceCode:n,value:e};(0,i.send)("company/UpdateCompanyPreference",c,{type:"PUT"},l)},GetCompanyPreference:function(n,e){(0,i.send)("companies/preference_by_code/?code=".concat(n),null,{type:"GET"},e)},sendTestEmail:function(n,e){(0,i.send)("company/SendTestEmail",n,{type:"PUT"},e)},getLicenceKey:function(n,e){(0,i.send)("company/GetLK/"+n,null,null,e)},setLicenceKey:function(n,e){(0,i.send)("company/SetLK/",n,{type:"POST"},e)}})}.apply(e,[]))||(n.exports=t)}).call(this,l(218))}}]);