/*! Copyright Pyplan 2020. All rights reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[115],{1048:function(e,n,t){"use strict";(function(o,i){var a,s,c=t(18);t(1457);a=[t(220),t(662),t(2203)],void 0===(s=function(e,n,t){return o.View.extend({el:i("#main"),cumTime:0,categories:[],currentTable:void 0,points:[],pos:0,debugData:[],chart:void 0,render:function(){var e=this,o=t(this.options);(new n).show({title:"".concat((0,c.translate)("debug_node"),": ").concat(this.options.nodeTitle," (").concat(this.options.nodeId,")"),html:o,modalClass:"debugNodeView",onLoad:function(){var n=i("#main-modal"),t=n.find(".debugLog"),o=parseInt(.9*i(window).height()-200).toString();t.css("height","".concat(o,"px")),n.on("debug_info",(function(o,i){e.updateDebugInfo(n,t,i)})),n.find(".btnStartDebug").on("click",(function(){e.startDebug(n,t)})),t.on("click",".viewtable",(function(){e.showTable(n)})),(0,c.postRender)(n)},onClose:function(){e.points=[],e.categories=[],e.debugData=void 0,e.chart=void 0,e.currentTable&&e.currentTable.destroy()}})},startDebug:function(n,t){n.find(".btnStartDebug").attr("disabled",!0),n.find(".tableLog").hide(),t.text("").show(),n.find(".cumMem").text("-"),n.find(".cumTime").text("-"),n.find(".progressChartContainer").hide(),this.points=[],this.categories=[],this.cumTime=0,this.pos=0,this.debugData=[],this.currentTable&&this.currentTable.destroy(),(new e).previewNode(this.options.nodeId,(function(e){n.find(".btnStartDebug").attr("disabled",!1)}),(function(){n.find(".btnStartDebug").attr("disabled",!1)}),n.find("#reset_model_option_node").is(":checked")?"node":"model")},updateDebugInfo:function(e,n,t){if("endPreview"==t.action)i("<br>").appendTo(n),i("<span></span>").text("".concat((0,c.translate)("process_completed")," ")).appendTo(n),i('<a href="#"></a>').addClass("viewtable").text((0,c.translate)("view_table")).appendTo(n),n.scrollTop(n.prop("scrollHeight")),this.createChart(e);else{var o="<code ".concat("endCalc"==t.action?"title='Time:".concat(t.time,"'"):""," class='").concat(t.action,"'>").concat(t.action,"</code> ").concat(t.fromDynamic?'<code class="dynamic">dynamic</code>':""," <span>").concat(t.title," (").concat(t.node,")</span>");if(i("".concat(o,"<br>")).appendTo(n),n.scrollTop(n.prop("scrollHeight")),"endCalc"==t.action){this.cumTime+=parseFloat(t.time);var a=t.totalMemory>0?parseFloat(t.usedMemory/t.totalMemory*100):0;e.find(".cumMem").text("".concat(t.usedMemory.toFixed(2)," Gb - ").concat(a.toFixed(0),"%")),e.find(".cumTime").text("".concat(this.cumTime.toFixed(2)," sec.")),this.categories.push(t.node),this.points.push(t.usedMemory),t.pos=this.pos,t.fromDynamic&&(t.title='<code class="dynamic">dyn</code>'.concat(" ",t.title)),this.debugData.push(t),this.pos++}}},showTable:function(e){var n=this,t=e.find(".debugLog"),o=t.height()-50;t.hide();var a=e.find(".tableLog").show(),s=a.DataTable({searching:!0,scrollY:"".concat(o,"px"),paging:!1,ordering:!0,info:!1,data:this.debugData,columns:[{name:"Pos",title:"Pos",data:"pos"},{name:"Node",title:"Node",data:"title"},{name:"Identifier",title:"Identifier",data:"node"},{name:"Time",title:"Time",data:"time",type:"num",render:function(e){return parseFloat(e).toFixed(3)}}]});a.on("mouseover","tbody tr",(function(e){var t=parseInt(i(e.currentTarget).find("td").first().text());n.chart.tooltip.refresh(n.chart.series[0].data[t])})),this.currentTable=s},createChart:function(e){e.find(".progressChartContainer").show(),this.$el.find(".progress_chart").highcharts({chart:{type:"area",zoomType:"xy",height:e.find(".debugLog").height()-e.find(".cumTime").closest(".box").height()-60,marginTop:10},title:!1,xAxis:{categories:this.categories,labels:{enabled:!1}},yAxis:{title:{text:"Memory (gb)"}},legend:!1,exporting:{enabled:!1},credits:!1,series:[{name:"Memory (gb)",data:this.points,tooltip:{valueDecimals:2,valueSuffix:" gb"}}]}),this.chart=this.$el.find(".progress_chart").highcharts()}})}.apply(n,a))||(e.exports=s)}).call(this,t(219),t(1))},1195:function(e,n){function t(e){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=1195},1511:function(e,n){function t(e){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=1511},1517:function(e,n){function t(e){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=1517},1518:function(e,n){function t(e){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=1518},1536:function(e,n){function t(e){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=1536},1538:function(e,n){function t(e){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=1538},2203:function(e,n,t){var o=t(669);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(o.default||o).template({compiler:[8,">= 4.3.0"],main:function(e,n,o,a,s){var c=null!=n?n:e.nullContext||{},r=e.escapeExpression;return'<div class="row withBottomMargin">\n  <div class="col-sm-12">\n    <button class="btn btn-orange btn--icon btnStartDebug"><i class="fa fa-bug"></i>'+r(i(t(667)).call(c,"start_debug",{name:"L",hash:{},data:s,loc:{start:{line:3,column:84},end:{line:3,column:103}}}))+'</button>\n\n    <input type="radio" class=\'icheck-me checked\' id="reset_model_option_node" name="reset_model_option"\n      data-skin="square" data-color="blue" checked="checked">\n    <label class=\'inline\' for="reset_model_option_node">'+r(i(t(667)).call(c,"reset_this_node",{name:"L",hash:{},data:s,loc:{start:{line:7,column:56},end:{line:7,column:79}}}))+'</label>\n\n    <input type="radio" class=\'icheck-me\' id="reset_model_option_model" name="reset_model_option" data-skin="square"\n      data-color="blue">\n    <label class=\'inline\' for="reset_model_option_model">'+r(i(t(667)).call(c,"reset_entire_model",{name:"L",hash:{},data:s,loc:{start:{line:11,column:57},end:{line:11,column:83}}}))+'</label>\n  </div>\n\n</div>\n\n<div class="row">\n  <div class="col-sm-6">\n    <pre class="debugLog"></pre>\n    <table class="table table-hover table-nomargin table-condensed tableLog nodisplay" width="100%"></table>\n  </div>\n  <div class="col-sm-6">\n\n    <div class="row">\n\n      <div class="col-sm-6">\n        <div class="box">\n          <div class="box-title">\n            <h3>\n              <i class="fa fa-clock"></i>\n              '+r(i(t(667)).call(c,"acc_calc_time",{name:"L",hash:{},data:s,loc:{start:{line:30,column:14},end:{line:30,column:35}}}))+'\n            </h3>\n          </div>\n          <div class="box-content">\n            <div class="row text-center">\n              <h2 class="name cumTime">-</h2>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class="col-sm-6">\n        <div class="box">\n          <div class="box-title">\n            <h3>\n              <i class="fa fa-bars"></i>\n              '+r(i(t(667)).call(c,"container_memory",{name:"L",hash:{},data:s,loc:{start:{line:46,column:14},end:{line:46,column:38}}}))+'\n            </h3>\n          </div>\n          <div class="box-content">\n            <div class="row text-center">\n              <h2 class="name cumMem">-</h2>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="row">\n\n      <div class="col-sm-12 progressChartContainer nodisplay ">\n        <div class="box">\n          <div class="box-title">\n            <h3>\n              <i class="fa fa-chart-line"></i>\n              '+r(i(t(667)).call(c,"memory_progress",{name:"L",hash:{},data:s,loc:{start:{line:65,column:14},end:{line:65,column:37}}}))+'\n            </h3>\n          </div>\n          <div class="box-content">\n            <div class="row">\n              <div class="progress_chart">\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n  </div>\n</div>'},useData:!0})}}]);