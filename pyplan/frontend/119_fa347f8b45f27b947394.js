/*! Copyright Pyplan 2020. All rights reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[119],{1167:function(n,e,t){"use strict";(function(i,a){var l,o;l=[t(1494),t(1495)],void 0===(o=function(n,e){return i.View.extend({el:a("#main"),inQuery:!1,render:function(){var n=e();this.$el.append(n),this.addHandlers()},addHandlers:function(){var e=this,t=e.$el.find(".dbAdmin"),i=t.find(".sqlEditor").get()[0];ace.require("ace/ext/language_tools");var l=ace.edit(i);l.setTheme("ace/theme/sqlserver"),l.getSession().setMode("ace/mode/sqlserver"),l.setHighlightActiveLine(!1),l.setShowPrintMargin(!1),l.setOptions({enableBasicAutocompletion:!0,enableSnippets:!1,enableLiveAutocompletion:!0}),t.find("input[name='connectString']").val(a.cookie("cubeplanmilano_lastcn"));var o=a.cookie("cubeplanmilano_lastquery");o&&l.setValue(o),this.$el.find(".dbAdmin .btnRun").on("click",function(){if(!e.inQuery){e.inQuery=!0,e.$el.find(".dbAdmin .query-result").html("Running...");var i={connectString:t.find("input[name='connectString']").val(),query:l.getValue()};(new n).runQuery(i,function(n){e.inQuery=!1,e.renderResult(n)},function(){e.inQuery=!1}),a.cookie("cubeplanmilano_lastcn",i.connectString),a.cookie("cubeplanmilano_lastquery",i.query)}})},renderResult:function(n){this.$el.find(".dbAdmin .query-result").html(n)}})}.apply(e,l))||(n.exports=o)}).call(this,t(218),t(1))},1494:function(n,e,t){"use strict";(function(i){var a,l=t(693);void 0===(a=function(){return i.Model.extend({runQuery:function(n,e,t){(0,l.send)("DBAdmin/runQuery",n,{type:"POST"},e,t)}})}.apply(e,[]))||(n.exports=a)}).call(this,t(218))},1495:function(n,e,t){var i=t(690);function a(n){return n&&(n.__esModule?n.default:n)}n.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(n,e,i,l,o){var r=null!=e?e:n.nullContext||{},c=n.escapeExpression;return'<div class="abm-base-tmp container-fluid mainTask dbAdmin" data-rel="dbadmin" data-type="tab-content" >\n    <div class="row-fluid">\n        <div class="span12">\n            <div class="box box-bordered box-color">\n                <div class="box-title">\n                    <h3><i class="fa fa-th-list"></i>'+c(a(t(688)).call(r,"DBAdmin",{name:"L",hash:{},data:o,loc:{start:{line:6,column:53},end:{line:6,column:68}}}))+'</h3>\n                </div>\n                <div class="box-content">\n\n\n                    <label>'+c(a(t(688)).call(r,"connection_string",{name:"L",hash:{},data:o,loc:{start:{line:11,column:27},end:{line:11,column:52}}}))+'</label>\n                    <input type="text" class="form-control" name="connectString" />\n                    <br/>\n                    <label>'+c(a(t(688)).call(r,"query",{name:"L",hash:{},data:o,loc:{start:{line:14,column:27},end:{line:14,column:40}}}))+'</label>\n                    <div class="sqlEditor"></div>\n                    <br/>\n\n                    <button class="btnRun btn btn-grey-1">'+c(a(t(688)).call(r,"run_query",{name:"L",hash:{},data:o,loc:{start:{line:18,column:58},end:{line:18,column:75}}}))+'</button>\n\n                    <div class="query-result">\n\n                    </div>\n\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'},useData:!0})},688:function(n,e,t){"use strict";var i=t(18);n.exports=function(n){return(0,i.translate)(n)}}}]);