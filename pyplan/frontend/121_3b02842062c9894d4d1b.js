/*! Copyright Pyplan 2020. All rights reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[121,5,26,47,59,167,281],{1024:function(e,n,t){"use strict";(function(o){var a,i=t(693);void 0===(a=function(){return o.Model.extend({sendPasswordResetEmail:function(e,n,t,o){(0,i.send)("sendPasswordResetEmail/",JSON.stringify({username:e,publicUrl:n}),{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},t,o)},passwordReset:function(e,n,t){(0,i.send)("passwordReset/",JSON.stringify({query:e}),{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},n,t)}})}.apply(n,[]))||(e.exports=a)}).call(this,t(218))},1144:function(e,n,t){"use strict";(function(o,a){var i,r,s=t(18);var l="en";try{"es"!=(l=(l=navigator.language?navigator.language:navigator.userLanguage).substr(0,2).toLowerCase())&&"en"!=l&&(l="en")}catch(e){}i=[t(724),t(1024),t(1442)("./login-"+l),t(702),t(764),t(1443),t(1444),t(1445)],void 0===(r=function(e,n,i,r,l,c,u,d){return(0,s.setLanguageDictionary)(new i),o.View.extend({el:a("#content"),isAuth:!1,companyId:"-1",events:{"submit #frmLogin":"login","click #forgotPassword":"forgotPassword"},render:function(){var e={usingSSO:this.options&&this.options.fromSSO,fromLoginAs:this.options&&this.options.fromLoginAs,fromSocialAuth:this.options&&this.options.fromSocialAuth,socialLogins:__socialLogins.length>0};(__customerStyles?(__customerStyles.customerTitle?e.title=__customerStyles.customerTitle:e.title=__appName,e.colorSchema=__customerStyles.customerColorSchema):(e.title=__appName,e.colorSchema="blue"),this.options&&this.options.fromSocialAuth&&1==this.options.userToken.companies.length)?this._performCreateSession(-1):this._performLogin("user","Pyplan123!",1)},login:function(){a("#loginError").hide(),a("#frmLogin .form-group").removeClass("has-error"),a("#imgLoading").show(),a("#frmLogin button[type='submit']").attr("disabled","disabled");var e=a("input[name='user']").val(),n=a("input[name='pass']").val();return"-1"!==this.companyId&&a.cookie("pyplan_company",this.companyId,{expires:30}),this._performLogin(e,n,this.companyId),!1},_performLogin:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2?arguments[2]:void 0,i=this,r=new e;this.options&&this.options.fromLoginAs?r.loginas(this.options.userId,this.options.userToken,o,function(e){i.showHome()},function(e){i.manageLoginError(e,"","",o)}):this.isAuth||this.options&&this.options.fromSocialAuth?i._performCreateSession(o):r.connect(n,t,o,function(e){i.isAuth=!0,a("#remember").is(":checked")?a.cookie("pyplan_username",n,{expires:20}):a.removeCookie("pyplan_username"),e&&e.companies&&(1==e.companies.length?i._performCreateSession(-1):i.showCompanySelector(e))},function(e){i.manageLoginError(e,n,t,o)})},_performCreateSession:function(n){var t=new e,o=this,i=void 0,c=setTimeout(function(){(i=new l).render({custom_el:a("body")})},5e3);t.createSession(n,function(e){clearTimeout(c),i&&i.done();var n=new URLSearchParams(window.location.search);if(n.has("callback")){var t=JSON.parse(atob(n.get("callback")));t.my_userId=__currentSession.userId,t.my_username=__currentSession.userName,t.my_firstName=__currentSession.userFirstName,t.my_lastName=__currentSession.userLastName,window.location.href="http://localhost:9740/#myaccount/".concat(btoa(JSON.stringify(t)))}else if(o.options&&o.options.callbackFromMy){var a=o.options.callbackFromMy.my_userId?o.options.callbackFromMy.my_userId:null,l=o.options.callbackFromMy.my_username?o.options.callbackFromMy.my_username:null,u=o.options.callbackFromMy.my_firstName?o.options.callbackFromMy.my_firstName:null,d=o.options.callbackFromMy.my_lastName?o.options.callbackFromMy.my_lastName:null,p=o.options.callbackFromMy.action?o.options.callbackFromMy.action:null;o.updateUser({my_uuid:a,my_username:l,first_name:u,last_name:d},function(e){if(__currentSession.my_uuid=a,__currentSession.my_username=l,__currentSession.userFirstName=u,__currentSession.userLastName=d,p)switch(p){case"publish_item_to_mypyplan":(new r).publishToMyPyplanModal({title:(0,s.translate)("publish_dashboard_to_my_pyplan"),okOnEnter:!0,modalClass:"smallModal",itemId:o.options.callbackFromMy.itemId,itemType:o.options.callbackFromMy.itemType}),o.showHome();break;default:o.showHome()}else o.showHome()})}else o.showHome()},function(e){clearTimeout(c),i&&i.close(),o.manageLoginError(e)})},showHome:function(){Promise.resolve().then(function(){var e=[t(683)];(function(e){(new e).showApp()}).apply(null,e)}).catch(t.oe)},updateUser:function(e,n){a.ajax({url:"".concat(__apiURL,"/users/").concat(__currentSession.userId,"/"),method:"PATCH",contentType:"application/json;charset=utf-8",dataType:"text",data:JSON.stringify(e),success:function(e){return n(e)},error:function(e){window.history.replaceState({},document.title,"/")}})},showCompanySelector:function(e){var n=this;a("#imgLoading").hide(),a("#frmLogin button[type='submit']").attr("disabled",!1).hide(),a(".login-social").remove(),a(".whiteLoginDiv").removeClass("col-sm-6 col-sm-12"),a(".whiteLoginDiv").addClass("col-sm-12"),a(".login-body").removeClass("col-md-8 col-md-6 col-md-offset-2 col-md-offset-3 col-lg-6 col-lg-4 col-lg-offset-3 col-lg-offset-4"),a(".login-body").addClass("col-md-6 col-md-offset-3 col-lg-4 col-lg-offset-4");var t=a("div.company-selector"),o=d(e);t.html(o),(0,s.select2)("#frmLogin"),a("div.login-body div.forget").hide(),a("input[name='user']").hide(),a("input[name='pass']").hide(),a("#frmLogin div.remember").hide(),a("#frmLogin input[type='submit']").val((0,s.translate)("select")),a("#frmLogin button[type='submit']").focus(),t.show(),a(".companyCard").on("click",function(e){e.preventDefault(),e.stopPropagation(),this.classList.contains("disabled")||(a(".companyCard").addClass("disabled"),n.companyId=a(this).attr("id"),n.login())})},manageLoginError:function(e){a("#loginError").show(),a("#imgLoading").hide(),a("#loginError").html(e),a("#frmLogin button[type='submit']").attr("disabled",!1)},forgotPassword:function(){a("#frmLogin .form-group").removeClass("has-error"),a("#imgLoading").show(),a("#frmLogin input[type='submit']").attr("disabled","disabled"),a("#loginError").html("");var e=a("input[name='user']").val();if(""==e)a("#loginError").html((0,s.translate)("input_username")),a("#frmLogin button[type='submit']").attr("disabled",!1);else{var t=window.location.href,o=this.sanitizeUri(t);(new n).sendPasswordResetEmail(e,o,function(e){a("#frmLogin button[type='submit']").attr("disabled",!1),e?a("#loginError").html((0,s.translate)("email_sent_password")):a("#loginError").html((0,s.translate)("email_error_password"))},function(e){a("#frmLogin button[type='submit']").attr("disabled",!1),a("#loginError").html(e)})}return!1},sanitizeUri:function(e){var n=new RegExp("(index.html|#)","ig");return e=e.replace(n,"")}})}.apply(n,i))||(e.exports=r)}).call(this,t(218),t(1))},1145:function(e,n,t){"use strict";(function(t){var o;void 0===(o=function(){return t.Model.extend({sign_in:"Sign in",user:"User",password:"Password",remember_me:"Remember me",login_to_cubeplan:"Login",dont_have_an_account:"Don't have an account?",or_request_a_free_account:"or request a free account",here:"here",connect_with:"Connect with",forgot_password:"Forgot password?",user_not_found:"The user or password is incorrect",input_username:"Please input yout username",email_sent_password:"We have sent you an email to reset your password",email_error_password:"There was a problem sending you the email, please try again later",user_inactive:"The user is not active",select_company:"(select company)",select:"Select",starting_environment:"Starting environment",creating_environment:"Creating environment",loading_workspace:"Loading workspace",starting_pyplan_calc_engine:"Starting Pyplan calc engine",opening_model:"Opening model",licenceok:"Your licence is valid",activation_code:"Activation code",licence_key:"Licence key",validate:"Validate",licence_invalid:"The licence key is not valid. Please contact your administrator",licence_ok_a:"The licence key is ok",click_here:"Click here",login_again:"and login again.",privacy_policy:"By signing up, you agree to the <a href='http://pyplan.com/privacy-notes/Pyplan%20Terms%20of%20Service.pdf' target='_blank'>Terms of Service</a> and <a href='http://pyplan.com/privacy-notes/Pyplan%20Privacy%20Policy.pdf' target='_blank'>Privacy Policy</a>"})}.apply(n,[]))||(e.exports=o)}).call(this,t(218))},1146:function(e,n,t){"use strict";(function(t){var o;void 0===(o=function(){return t.Model.extend({sign_in:"Iniciar",user:"Usuario",password:"Contraseña",remember_me:"Recordar datos",login_to_cubeplan:"Iniciar sesión",dont_have_an_account:"¿No posee una cuenta?",or_request_a_free_account:"o solicite una cuenta gratis",here:"aquí",connect_with:"Conectar con",forgot_password:"¿Olvidó su contraseña?",user_not_found:"El usuario o la contraseña no es correcta",input_username:"Por favor ingrese un nombre de usuario",email_sent_password:"Te enviamos un email para resetear tu contraseña",email_error_password:"Ha ocurrido un problema al enviar el email, por favor vuelve a intentar más tarde",user_inactive:"El usuario se encuentra desactivado",select_company:"(selecciona una empresa)",select:"Seleccionar",starting_environment:"Iniciando entorno",creating_environment:"Creando entorno",loading_workspace:"Cargando espacio de trabajo",starting_pyplan_calc_engine:"Iniciando motor de cálculo de Pyplan",opening_model:"Abriendo modelo",licenceok:"Your licence is valid",activation_code:"Activation code",licence_key:"Licence key",validate:"Validate",licence_invalid:"The licence key is not valid. Please contact your administrator",licence_ok_a:"The licence key is ok",click_here:"Click here",login_again:"and login again.",privacy_policy:"El uso de Pyplan implica la aceptación de los <a href='http://pyplan.com/privacy-notes/Pyplan%20Terms%20of%20Service.pdf' target='_blank'>Términos de Servicio</a> y <a href='http://pyplan.com/privacy-notes/Pyplan%20Privacy%20Policy.pdf' target='_blank'>Política de Privacidad</a>"})}.apply(n,[]))||(e.exports=o)}).call(this,t(218))},1442:function(e,n,t){var o={"./login-en":1145,"./login-en.js":1145,"./login-es":1146,"./login-es.js":1146};function a(e){var n=i(e);return t(n)}function i(e){var n=o[e];if(!(n+1)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n}a.keys=function(){return Object.keys(o)},a.resolve=i,e.exports=a,a.id=1442},1443:function(e,n,t){var o=t(690);function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(o.default||o).template({1:function(e,n,t,o,a){return" col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\n      "},3:function(e,n,t,o,a){return" col-sm-10 col-sm-offset-1 col-md-6 col-md-offset-3 col-lg-4 col-lg-offset-4 "},5:function(e,n,t,o,a){return" col-sm-6 "},7:function(e,n,t,o,a){return" col-sm-12 "},9:function(e,n,t,o,a){return" "},11:function(e,n,t,o,a){var i;return" "+(null!=(i=t.if.call(null!=n?n:e.nullContext||{},null!=n?n.fromLoginAs:n,{name:"if",hash:{},fn:e.program(9,a,0),inverse:e.program(12,a,0),data:a}))?i:"")+" "},12:function(e,n,o,i,r){var s=null!=n?n:e.nullContext||{},l=e.escapeExpression;return'\n\n                  <div class="form-group">\n                    <div class="email controls">\n                      <input type="text" name=\'user\' placeholder="'+l(a(t(688)).call(s,"user",{name:"L",hash:{},data:r}))+'" class=\'form-control\'\n                        data-rule-required="true" data-noshow-error="true" autocomplete="off">\n                    </div>\n                  </div>\n\n                  <div class="form-group">\n                    <div class="pw controls">\n                      <input type="password" name="pass" placeholder="'+l(a(t(688)).call(s,"password",{name:"L",hash:{},data:r}))+'" class=\'form-control\'\n                        data-rule-required="true" data-noshow-error="true" autocomplete="off">\n                    </div>\n                  </div>\n                  '},14:function(e,n,o,i,r){var s=null!=n?n:e.nullContext||{},l=e.escapeExpression;return'        <div class="col-sm-6 login-social">\n          <div class="panel">\n            <div class="panel-heading">\n              <h3 class="panel-title">'+l(a(t(688)).call(s,"dont_have_an_account",{name:"L",hash:{},data:r}))+'</h3>\n            </div>\n            <ul class="list-group">\n              <li class="list-group-item">\n                <button type="button" class="btn btn-md btn-block btn-linkedin">\n                  <i class="fab fa-linkedin" />\n                  '+l(a(t(688)).call(s,"connect_with",{name:"L",hash:{},data:r}))+' LinkedIn\n                </button>\n              </li>\n              <li class="list-group-item">\n                <button type="button" class="btn btn-md btn-block btn-google">\n                  <i class="fab fa-google-plus-square" />\n                  '+l(a(t(688)).call(s,"connect_with",{name:"L",hash:{},data:r}))+' Google\n                </button>\n              </li>\n              <li class="list-group-item text-center">\n                '+l(a(t(688)).call(s,"or_request_a_free_account",{name:"L",hash:{},data:r}))+' <a href="http://pyplan.com/contact/" target="_blank">'+l(a(t(688)).call(s,"here",{name:"L",hash:{},data:r}))+"</a>\n              </li>\n            </ul>\n          </div>\n        </div>\n"},16:function(e,n,o,i,r){var s;return'      <div class="row">\n        <div class="col-md-12">\n          <div class="text-center">\n            '+(null!=(s=a(t(688)).call(null!=n?n:e.nullContext||{},"privacy_policy",{name:"L",hash:{},data:r}))?s:"")+"\n          </div>\n        </div>\n      </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,o,i,r){var s,l=null!=n?n:e.nullContext||{},c=e.escapeExpression;return'<div class="container-fluid logincontent">\n  <div class="row">\n    <div class="'+(null!=(s=o.if.call(l,null!=n?n.socialLogins:n,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.program(3,r,0),data:r}))?s:"")+' login-body">\n      <div class="row">\n        <div class="col-md-12">\n          <div class="isologo center-block" />\n        </div>\n\n        <div class="'+(null!=(s=o.if.call(l,null!=n?n.socialLogins:n,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.program(7,r,0),data:r}))?s:"")+' whiteLoginDiv">\n          <div class="panel">\n            <div class="panel-heading">\n              <h3 class="panel-title">'+c(a(t(688)).call(l,"sign_in",{name:"L",hash:{},data:r}))+'</h3>\n            </div>\n            <ul class="list-group">\n              <li class="list-group-item">\n                <form action="#" method=\'get\' class=\'form-validate\' id="frmLogin">\n\n                  <div class="company-selector">\n\n                  </div>\n\n                  '+(null!=(s=o.if.call(l,null!=n?n.usingSSO:n,{name:"if",hash:{},fn:e.program(9,r,0),inverse:e.program(11,r,0),data:r}))?s:"")+'\n\n                  <div class="submit">\n                    <div class="row login-button">\n                      <div class="col-md-12">\n                        <button class="btn btn-lg btn-primary btn-block" type="submit">\n                          '+c(a(t(688)).call(l,"login_to_cubeplan",{name:"L",hash:{},data:r}))+'\n                        </button>\n                      </div>\n                    </div>\n                    <div class="row">\n                      <div class="col-sm-6">\n                        <div class="remember">\n                          <input type="checkbox" name="remember" class=\'icheck-me\' data-skin="square"\n                            data-color="'+c(e.lambda(null!=n?n.colorSchema:n,n))+'" id="remember" checked="checked">\n                          <label for="remember">'+c(a(t(688)).call(l,"remember_me",{name:"L",hash:{},data:r}))+'</label>\n                        </div>\n                      </div>\n                      <div class="col-sm-6">\n                        <div class="forget">\n                          <a id="forgotPassword" href="#">\n                            <span>'+c(a(t(688)).call(l,"forgot_password",{name:"L",hash:{},data:r}))+'</span>\n                          </a>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <span id="loginError" class="help-block login_error"></span>\n                </form>\n              </li>\n            </ul>\n          </div>\n        </div>\n'+(null!=(s=o.if.call(l,null!=n?n.socialLogins:n,{name:"if",hash:{},fn:e.program(14,r,0),inverse:e.noop,data:r}))?s:"")+'        <div class="col-md-12">\n          <div class="poweredBy"></div>\n        </div>\n      </div>\n'+(null!=(s=o.if.call(l,null!=n?n.socialLogins:n,{name:"if",hash:{},fn:e.program(16,r,0),inverse:e.noop,data:r}))?s:"")+"    </div>\n  </div>\n</div>\n"},useData:!0})},1444:function(e,n,t){var o=t(690);e.exports=(o.default||o).template({1:function(e,n,t,o,a){var i,r=null!=n?n:e.nullContext||{},s=t.helperMissing,l=e.escapeExpression;return'<option value="'+l("function"==typeof(i=null!=(i=t.value||(null!=n?n.value:n))?i:s)?i.call(r,{name:"value",hash:{},data:a}):i)+'" selected="'+l("function"==typeof(i=null!=(i=t.selected||(null!=n?n.selected:n))?i:s)?i.call(r,{name:"selected",hash:{},data:a}):i)+'">'+l("function"==typeof(i=null!=(i=t.name||(null!=n?n.name:n))?i:s)?i.call(r,{name:"name",hash:{},data:a}):i)+"</option>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,o,a){var i;return null!=(i=t.each.call(null!=n?n:e.nullContext||{},null!=n?n.options:n,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?i:""},useData:!0})},1445:function(e,n,t){var o=t(690);e.exports=(o.default||o).template({1:function(e,n,o,a,i){var r,s=e.lambda,l=e.escapeExpression;return'<div class="companyCard col-xs-12 col-sm-12 col-md-6 col-lg-6" id='+l(s(null!=n?n.id:n,n))+'>\n  <div class="row" style="height:100%;">\n    <div class="companyLogo hidden-xs hidden-sm col-md-4 col-lg-4">\n'+(null!=(r=function(e){return e&&(e.__esModule?e.default:e)}(t(689)).call(null!=n?n:e.nullContext||{},null!=n?n.image_url:n,"!=",null,{name:"ifCond",hash:{},fn:e.program(2,i,0),inverse:e.program(4,i,0),data:i}))?r:"")+'    </div>\n    <div class="companyName col-xs-12 col-sm-12 col-md-8 col-lg-8">\n      <p>'+l(s(null!=n?n.name:n,n))+"</p>\n    </div>\n  </div>\n</div>\n"},2:function(e,n,t,o,a){return'      <img class="image_url img-fluid" src='+e.escapeExpression(e.lambda(null!=n?n.image_url:n,n))+" />\n"},4:function(e,n,t,o,a){return"      <img class=\"image_url img-fluid\" src='data:image/png;base64,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' />\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,o,a){var i;return null!=(i=t.each.call(null!=n?n:e.nullContext||{},null!=n?n.companies:n,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?i:""},useData:!0})},219:function(e,n,t){"use strict";(function(o,a){var i,r,s=t(18),l=t(693);i=[t(686)],void 0===(r=function(e){var n=function(n,t,a,i){if(__currentSession.modelInfo=n,o("#licenceExpiration").hide(),__currentSession.modelInfo.daysToExpire)try{var r=parseInt(__currentSession.modelInfo.daysToExpire)-1;r>=0&&r<15&&(r>=0?o("#licenceExpiration span").html((0,s.translate)("days_to_expire").replace("#days#",r)):o("#licenceExpiration span").html((0,s.translate)("license_expired")),o("#licenceExpiration").show(),setTimeout(function(){o("#licenceExpiration").hide()},15e3))}catch(e){}if(""!=n.new_session_key){var c=__currentSession.session_key;__currentSession.session_key=n.new_session_key,(0,l.ajaxSetup)(),(new e).changeSessionKey(c,__currentSession.session_key)}if(t(n),o(".wikiLink").attr("href","http://docs.pyplan.org"),a||o("#summary").trigger("refresh"),o("#navigation .modelopened").show(),o("#left .navigation .modelopened").show(),o("#currentModel").html(n.uri.substring(n.uri.lastIndexOf("/")+1,n.uri.lastIndexOf("."))),n.useSnapshot){var u=(0,s.translate)("use_snapshot");o("#navigation .snapshotactive").show().attr("title",u).attr("data-snapdate",n.snapshotDate)}var d=o("#navigation li.modelopened[data-key='btnSaveModelAs'] a"),p=o("#navigation li.modelopened[data-key='btnSaveModelAs'] a i");i.canEdit()?(o("#navigation li.modelopened[data-key='btnSaveModel']").show(),p.removeClass("fa-paste").addClass("fa-save-all"),d.prop("title",(0,s.translate)("save_model_as")),o("#navigation li.modelopened[data-key='btnSaveModelAs']").show(),__currentSession.modelInfo&&__currentSession.modelInfo.readonly&&(o("#navigation li.modelopened[data-key='btnSaveModel']").hide(),(0,s.showMessage)(__currentSession.modelInfo.readOnlyReason,"","info",!1))):(o("#navigation li.modelopened[data-key='btnSaveModel']").hide(),i.isInPublic(),o("#navigation li.modelopened[data-key='btnSaveModelAs']").hide())};return a.Model.extend({openModel:function(e,t,a,i){o("#navigation .snapshotactive").hide();var r=this;(0,l.send)("modelManager/openModel/",{file:e},null,function(e){e&&n(e,t,a,r)},i)},createNewModel:function(e,t,a,i){o("#navigation .snapshotactive").hide();var r=this;(0,l.send)("modelManager/createNewModel/",{modelName:e},null,function(e){e&&n(e,t,a,r)},i)},closeModel:function(e){(0,l.send)("modelManager/closeModel/",null,null,function(){Promise.all([t.e(2),t.e(4),t.e(59)]).then(function(){var n=[t(683)];(function(n){(new n).clearUI(),e()}).apply(null,n)}).catch(t.oe)})},saveModel:function(e){(0,l.send)("modelManager/saveModel/",null,{dataType:"text"},function(){e()})},saveModelAs:function(e,n){(0,l.send)("modelManager/saveModelAs/",{name:e},{type:"GET"},function(e){n(e)})},saveModelToMyWorkspace:function(e,n,t,o){(0,l.send)("modelManager/saveModelToMyWorkspace/?source=".concat(encodeURIComponent(e),"&name=").concat(n,"&fileLocation=").concat(encodeURIComponent(t)),null,{type:"GET",dataType:"text"},o)},getModelInfo:function(e){(0,l.send)("modelManager/getModelInfo/",null,null,e)},isInPublic:function(){return!!(__currentSession.modelInfo.uri&&__currentSession.modelInfo.uri.toLowerCase().indexOf("/public/")>=0)},canEdit:function(){var e=!1,n=this.isInPublic();return((0,s.haveAccess)("change_model")&&!n||(0,s.haveAccess)("change_public_model")&&n)&&(e=!0),e},setModelPreferences:function(e,n,t,a){(0,l.send)("modelManager/setModelPreferences/",JSON.stringify(e),{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},function(e){void 0!=n&&n(e),o("body").trigger("pendingChanges",[!0])},function(e){t(e)},!1,a)},getModelPreferences:function(e,n,t){(0,l.send)("modelManager/getModelPreferences/",null,{type:"GET"},e,n,!0,t)},setNodeProperties:function(e,n,t,a,i,r){void 0===r&&(r=!0),(0,l.send)("modelManager/setNodeProperties/",JSON.stringify({node:e,properties:n}),{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},function(e){void 0!=t&&t(e),o("body").trigger("pendingChanges",[r])},function(e){a(e)},!1,i)},setNodesProperties:function(e,n){(0,l.send)("modelManager/setNodesProperties/",JSON.stringify(e),{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},function(e){n(e),o("body").trigger("pendingChanges",[!0])})},setNodeIdFromTitle:function(e,n){(0,l.send)("modelManager/setNodeIdFromTitle/",{value:e},{type:"POST"},function(e){n(e),o("body").trigger("pendingChanges",[!0])})},getNodeProperties:function(e,n,t,o,a,i){(0,l.send)("modelManager/getNodeProperties/",JSON.stringify({node:e,properties:n,forceThisNode:i}),{type:"POST",contentType:"application/json;charset=utf-8"},t,o,!0,a)},getInputs:function(e,n){(0,l.send)("modelManager/getNodeInputs/?node="+e,null,{type:"GET"},n)},getOutputs:function(e,n){(0,l.send)("modelManager/getNodeOutputs/?node="+e,null,{type:"GET"},n)},executeForRefresh:function(e){(0,l.send)("modelManager/executeForRefresh/",null,{type:"POST",dataType:"text"},function(n){void 0!=e&&e(n)})},createNode:function(e,n,t){(0,l.send)("modelManager/createNode/",e,{type:"POST"},function(e){o("body").trigger("pendingChanges",[!0]),void 0!=n&&n(e)},t)},createAlias:function(e,n,t){(0,l.send)("modelManager/createAlias/",JSON.stringify({values:e}),{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},function(e){o("body").trigger("pendingChanges",[!0]),void 0!=n&&n(e)},t)},createInputNode:function(e,n,t){(0,l.send)("modelManager/createInputNode/",JSON.stringify({values:e}),{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},function(e){o("body").trigger("pendingChanges",[!0]),void 0!=n&&n(e)},t)},deleteNodes:function(e,n,t){(0,l.send)("modelManager/deleteNodes/",JSON.stringify({values:e}),{type:"DELETE",contentType:"application/json;charset=utf-8",dataType:"text"},function(e){o("body").trigger("pendingChanges",[!0]),void 0!=n&&n(e)},t)},searchNode:function(e,n,t){var o=e.text,a=void 0===o?"":o,i=e.extraClasses,r=void 0===i?[]:i,s=e.moduleId,c=e.nodeClass,u=e.fillDetail;(0,l.send)("modelManager/searchNodes/?text=".concat(a).concat(s?"&moduleId=".concat(s):"").concat(c?"&nodeClass=".concat(c):"").concat(u?"&fillDetail=".concat(u):""),JSON.stringify({extraClasses:r}),{type:"POST",contentType:"application/json;charset=utf-8"},n,t)},SearchForAutocomplete:function(e,n,t){(0,l.send)("modelManager/searchForAutocomplete/",{text:e},{type:"GET",dataType:"text"},n,t)},navigateDiagram:function(e,n,t){(0,l.send)("modelManager/navigateDiagram/",{moduleId:e,includeArrows:!1},null,n,t)},getArrows:function(e,n,t){(0,l.send)("modelManager/getArrows/",{moduleId:e},null,n,t)},executeButton:function(e,n,t){(0,l.send)("modelManager/executeButton/",JSON.stringify({nodeId:e}),{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},n,t)},evaluateNode:function(e,n,t){(0,l.send)("dashboardManager/getOrCreate/",{node:e},void 0,n,t)},isInBackground:function(e,n,t){(0,l.send)("modelManager/isInBackground/",{nodeId:e},{type:"GET",contentType:"application/json;charset=utf-8",dataType:"text"},n,t,!0)},abortProcess:function(e,n){(0,l.send)("modelManager/abortProcess/",null,{type:"GET"},e,n)},getIndexValues:function(e,n){(0,l.send)("dashboardManager/getIndexValues/",e,null,function(e){e&&n(e)})},getNodeIndexes:function(e,n){(0,l.send)("dashboardManager/getNodeIndexes/",{node:e},null,function(e){e&&n(e)})},getSelector:function(e,n){(0,l.send)("modelManager/getSelector/",{node:e},{type:"POST"},n)},exportFlatNode:function(e,n,o,a,i,r){var s={nodeId:e,fileFormat:n,numberFormat:o,columnFormat:a,compressed:i},l=new XMLHttpRequest;l.responseType="arraybuffer",l.open("POST","".concat(__apiURL,"/modelManager/exportFlatNode/")),l.setRequestHeader("Authorization","Token ".concat(__currentToken)),l.setRequestHeader("session-key",__currentSession?__currentSession.session_key:""),l.setRequestHeader("Content-type","application/json;charset=utf-8"),l.onreadystatechange=function(e){var n=e.currentTarget;n.readyState==n.DONE&&(200==n.status?r(n):Promise.all([t.e(2),t.e(60)]).then(function(){var e=[t(685)];(function(e){(new e).show({title:"ERROR!",text:n.response,notifyType:"error"})}).apply(null,e)}).catch(t.oe))},l.send(JSON.stringify(s))},exportCurrentNode:function(e,n,o,a,i,r,s){var l={nodeId:e,fileFormat:n,numberFormat:o,columnFormat:a,compressed:i,nodeQuery:r},c=new XMLHttpRequest;c.responseType="arraybuffer",c.open("POST","".concat(__apiURL,"/modelManager/exportCurrentNode/")),c.setRequestHeader("Authorization","Token ".concat(__currentToken)),c.setRequestHeader("session-key",__currentSession?__currentSession.session_key:""),c.setRequestHeader("Content-type","application/json;charset=utf-8"),c.onreadystatechange=function(e){var n=e.currentTarget;n.readyState==n.DONE&&(200==n.status?s(n):Promise.all([t.e(2),t.e(60)]).then(function(){var e=[t(685)];(function(e){(new e).show({title:"ERROR!",text:n.response,notifyType:"error"})}).apply(null,e)}).catch(t.oe))},c.send(JSON.stringify(l))},getDepartments:function(e,n){(0,l.send)("departments/by_current_company/",null,{type:"GET"},e,n)},getDeniedDepartments:function(e,n){(0,l.send)("departments/denied/?module=".concat(e),null,{type:"GET"},n)},setDeniedModule:function(e,n){(0,l.send)("departments/deny_items/",JSON.stringify(e),{type:"POST",contentType:"application/json;charset=utf-8"},n)},openParallelModel:function(e,n){(0,l.send)("ModelManager/openParallelModel/?file="+e,null,{type:"GET"},n)},closeParallelModel:function(e,n){(0,l.send)("ModelManager/closeParallelModel/?parallelToken="+e,null,{type:"GET"},n)},moveNodes:function(e,n,t){(0,l.send)("modelManager/moveNodes/",JSON.stringify({values:e}),{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},function(e){o("body").trigger("pendingChanges",[!0]),void 0!=n&&n(e)},t)},copyNodes:function(e,n,t){(0,l.send)("modelManager/copyNodes/",JSON.stringify({values:e}),{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},function(e){o("body").trigger("pendingChanges",[!0]),void 0!=n&&n(e)},t)},copyAsValues:function(e,n,t,a){(0,l.send)("modelManager/copyAsValues/",JSON.stringify({nodeId:e,asNewNode:n}),{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},function(e){o("body").trigger("pendingChanges",[!0]),void 0!=t&&t(e)},a)},setNodePosition:function(e,n,t){(0,l.send)("modelManager/setNodesPosition/",JSON.stringify({values:e}),{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},function(e){o("body").trigger("pendingChanges",[!0]),void 0!=n&&n(e)},t)},setNodeSize:function(e,n,t){(0,l.send)("modelManager/setNodesSize/",JSON.stringify({values:e}),{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},function(e){o("body").trigger("pendingChanges",[!0]),void 0!=n&&n(e)},t)},setNodeZ:function(e,n,t){(0,l.send)("modelManager/setNodeZ/",JSON.stringify({values:e}),{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},function(e){o("body").trigger("pendingChanges",[!0]),void 0!=n&&n(e)},t)},changeSession:function(e,o){var a=this;(0,l.send)("modelManager/changeToOtherModelSession/",{new_session_key:e},null,function(e){Promise.all([t.e(2),t.e(4),t.e(59)]).then(function(){var i=[t(683)];(function(t){(new t).clearUI(),n(e,o,!0,a)}).apply(null,i)}).catch(t.oe)})},getSharedNode:function(e,n){(0,l.send)("result/by_node_id/".concat(e,"/"),null,{type:"GET"},function(e){e&&n(e)},function(e,t){e&&n&&n(e)})},setSharedNode:function(e,n){(0,l.send)("result/".concat(e.id,"/"),JSON.stringify(e),{type:"PATCH",contentType:"application/json;charset=utf-8"},function(e){e&&n&&n(e)})},exportModuleToFile:function(e,n,t,o){var a={moduleId:e,exportType:n},i=new XMLHttpRequest;i.responseType="arraybuffer",i.open("POST","".concat(__apiURL,"/modelManager/exportModuleToFile/")),i.setRequestHeader("Authorization","Token ".concat(__currentToken)),i.setRequestHeader("session-key",__currentSession?__currentSession.session_key:""),i.setRequestHeader("Content-type","application/json;charset=utf-8"),i.onreadystatechange=function(e){var n=e.currentTarget;n.readyState==n.DONE&&(200==n.status?t(n):o(n.response))},i.send(JSON.stringify(a))},importModuleFromFile:function(e,n,t){(0,l.send)("modelManager/importModuleFromFile/",JSON.stringify(e),{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},function(e){o("body").trigger("pendingChanges",[!0]),void 0!=n&&n(e)},t)},getProfile:function(e,n,t,o){(0,l.send)("modelManager/getNodeProfile/",{nodeId:e},{type:"GET"},n,t,!0,o)},previewNode:function(e,n,t){var o={node:e};(0,l.send)("modelManager/previewNode/",o,{type:"POST"},n,t)},stopProcess:function(e,n){(0,l.send)("modelManager/stop/",null,{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},e,n,!1,!1)},listShortcuts:function(e){(0,l.send)("diagramShortcut/",null,{type:"GET"},e)},createShortcut:function(e,n){(0,l.send)("diagramShortcut/?node_id=".concat(e),null,{type:"POST"},function(e){void 0!=n&&n(e)})},deleteShortcut:function(e,n){(0,l.send)("diagramShortcut/".concat(e,"/"),null,{type:"DELETE"},function(e){void 0!=n&&n(e)})},getToolbars:function(e){(0,l.send)("modelManager/getToolbars/",null,{type:"GET"},e)},callWizard:function(e,n,t){(0,l.send)("modelManager/callWizard/",JSON.stringify(e),{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},n,t)},getFilesForImportWizard:function(e,n){(0,l.send)("modelManager/getFilesForImportWizard/",{extension:e},{type:"GET",contentType:"application/json;charset=utf-8",dataType:"text"},n)},installLibrary:function(e,n){(0,l.send)("modelManager/installLibrary/",JSON.stringify({lib:e}),{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},n)},listInstalledLibraries:function(e){(0,l.send)("modelManager/listInstalledLibraries/",null,{type:"GET",contentType:"application/json;charset=utf-8",dataType:"text"},e)},uninstallLibrary:function(e,n,t){(0,l.send)("modelManager/uninstallLibrary/",JSON.stringify({lib:e,target:n}),{type:"DELETE",contentType:"application/json;charset=utf-8",dataType:"text"},t)},getInstallProgress:function(e,n,t){(0,l.send)("modelManager/getInstallProgress/",{from_line:e},{type:"GET",contentType:"application/json;charset=utf-8",dataType:"text"},n,t,!0,!0)}})}.apply(n,i))||(e.exports=r)}).call(this,t(1),t(218))},684:function(e,n,t){"use strict";(function(o){var a;void 0===(a=function(){return o.Controller.extend({name:"showModal",show:function(e){Promise.all([t.e(2),t.e(120)]).then(function(){var n=[t(700)];(function(n){(new n).render(e)}).apply(null,n)}).catch(t.oe)}})}.apply(n,[]))||(e.exports=a)}).call(this,t(694))},686:function(e,n,t){"use strict";(function(o,a){var i,r,s=t(18);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var c=(l(r={},0,"info"),l(r,1,"success"),l(r,2,"error"),r);void 0===(i=function(){return o.Controller.extend({name:"ws",socket:void 0,changeSessionKey:function(e,n){this.socket?(this.socket.send(JSON.stringify({command:"leave",room:e,message:"Leaving!"})),this.socket.send(JSON.stringify({command:"join",room:n,message:"Joining!"}))):this.start()},start:function(){var e=__currentSession.company_code;this.socket=new WebSocket("".concat(__wsURL,"/notifications/").concat(e,"/?apiKey=").concat(__currentToken)),this.events()},events:function(){var e=this,n=__currentSession,t=(n.company_code,n.session_key);this.socket.onopen=function(n){e.socket.send(JSON.stringify({command:"join",room:t,message:"Joining!"}))},this.socket.onmessage=this.processMessage,this.socket.onclose=function(n){console.log("Client notified socket has closed",n),setTimeout(function(){e.start()},5e3)}},triggerEvent:function(e,n){this.socket&&this.socket.connected&&this.socket.send({type:e,session_key:__currentSession.session_key,message:n})},processMessage:function(e){var n,o=function(e){(0,s.showMessage)(e.message?(0,s.translate)(e.message):"",e.title?(0,s.translate)(e.title):"",e.not_level?c[e.not_level]:"info",-1,!1)},a=(l(n={},0,function(e){o(e)}),l(n,1,function(e){o(e),setTimeout(function(){location.reload()},2e3)}),l(n,4,function(e){!function(e){Promise.all([t.e(2),t.e(4),t.e(56)]).then(function(){var n=[t(696)];(function(n){(new n).showProgressBar(e)}).apply(null,n)}).catch(t.oe)}(e)}),n);if(e){var i=JSON.parse(e.data);i&&(i.title||i.message||"number"==typeof i.progress)&&"number"==typeof i.msg_type&&a[i.msg_type]&&a[i.msg_type](i)}},to_delete_processMessage:function(e){if(e){var n=JSON.parse(e.data);switch(n.msg_type){case"MemoryQuotaExceeded":a("body").trigger("memoryQuotaExceeded",[n.body]);break;case"ProcessCancelByMemoryQuotaExceeded":var o=(0,s.translate)("process_cancel_by_quota").replace("##quota##",n.body.memoryQuota).replace("##current##",n.body.modelMemory);(0,s.showMessage)(o,void 0,"error");break;case"modelmsgbox":Promise.all([t.e(2),t.e(4),t.e(56)]).then(function(){var e=[t(696)];(function(e){(new e).showMsgBox(n.body)}).apply(null,e)}).catch(t.oe);break;case"DashboardShareAfterSave":a("#model-summary").trigger("reloadShared",[n.body]);break;case"loadInputTemplate":case"unloadInputTemplate":case"setInputTemplatePos":case"setInputTemplateValues":a(".inputFormTask").trigger("collabMessage",[n.event,n.body]);break;case"ModelEditionAvailable":n&&n.body&&n.body.message&&((0,s.showMessage)(n.body.message,void 0,"info"),__currentSession.modelInfo&&__currentSession.modelInfo.uri==n.body.modelfile&&t.e(107).then(function(){var e=[t(219)];(function(e){(new e).canEdit()&&(a("#navigation li.modelopened[data-key='btnSaveModel']").show(),a("#navigation li.modelopened[data-key='btnSaveModelAs']").show())}).apply(null,e)}).catch(t.oe))}}}})}.apply(n,[]))||(e.exports=i)}).call(this,t(694),t(1))},702:function(e,n,t){"use strict";(function(o,a){var i,r;i=[t(683),t(703)],void 0===(r=function(e,n){return o.Controller.extend({name:"dashboardManager",showDashboard:function(n,o,i,r,s,l,c){var u="dashboard-"+n,d=new e;d.existsTask(u)?(d.selectTask(u),r&&a(".mainTask[data-rel='"+u+"']").length>0&&a(".mainTask[data-rel='"+u+"']").trigger("refreshView")):(d.addSimpleTask(u,i),t.e(44).then(function(){var e=[t(805)];(function(e){(new e).render(n,o,s,l,c),d.selectTask(u)}).apply(null,e)}).catch(t.oe))},showEmbeddableDashboard:function(n,o,i,r,s,l){var c="dashboard-"+n,u=new e;__currentSession.fromEmbedded,u.existsTask(c)?(u.selectTask(c),r&&a(".mainTask[data-rel='"+c+"']").length>0&&a(".mainTask[data-rel='"+c+"']").trigger("refreshView")):(u.addSimpleTask(c,i),Promise.all([t.e(44),t.e(168)]).then(function(){var e=[t(889)];(function(e){(new e).render(n,o,i,s,l),u.selectTask(c)}).apply(null,e)}).catch(t.oe))},removeDashboardTaskFromHome:function(n){var t="dashboard-"+n,o=new e;o.existsTask(t)&&o.removeTask(t)},drawDashboardBars:function(e,n){this.drawToolbar(e,function(){n()})},drawBottombar:function(e,n){t.e(169).then(function(){var o=[t(890)];(function(t){var o=new t;o.setElement(e),o.render(),void 0!=n&&n()}).apply(null,o)}).catch(t.oe)},showNodeInfo:function(e){Promise.all([t.e(11),t.e(16),t.e(65)]).then(function(){var n=[t(768)];(function(n){new n(e).render()}).apply(null,n)}).catch(t.oe)},removeNodeInfo:function(e){Promise.all([t.e(11),t.e(16),t.e(65)]).then(function(){var n=[t(768)];(function(n){(new n).remove(e)}).apply(null,n)}).catch(t.oe)},drawToolbar:function(e,n){t.e(41).then(function(){var o=[t(749)];(function(t){(new t).show({el:e,positions:["left","right"],onLoad:n,className:"dockDashboardProperty"})}).apply(null,o)}).catch(t.oe)},drawMoreDashboard:function(e,n){t.e(170).then(function(){var e=[t(891)];(function(e){var t=new e;t.setElement("body"),t.render(n)}).apply(null,e)}).catch(t.oe)},getDefaultContent:function(e,n){Promise.all([t.e(0),t.e(7),t.e(66)]).then(function(){var o=[t(742)];(function(t){var o=new t({model:e});n(o)}).apply(null,o)}).catch(t.oe)},getEmptyContent:function(e,n){Promise.all([t.e(0),t.e(67)]).then(function(){var o=[t(769)];(function(t){var o=new t({model:e});n(o)}).apply(null,o)}).catch(t.oe)},getChartToolbar:function(e,n,o,a){var i;switch(e){case"linechart":i="line/lineToolbar";break;case"columnchart":case"columnchartstacked":case"columnchartpercent":case"barchart":case"barchartstacked":case"barchartpercent":i="columnAndBar/columnAndBarToolbar";break;case"areachart":case"areachartstacked":case"areachartpercent":i="area/areaToolbar";break;case"piechart":i="pie/pieToolbar";break;case"funnelchart":i="funnelToolbar/funnelToolbar";break;case"pyramidchart":i="pyramidToolbar/pyramidToolbar";break;case"gaugechart":i="gauge/gaugeToolbar";break;case"waterfallchart":i="waterfall/waterfallToolbar";break;case"scatterchart":i="scatter/scatterToolbar";break;case"table":i="table/tableToolbar";break;case"indexlist":i="index/indexToolbar";break;case"map":i="map/mapToolbar";break;case"indicator":i="indicator/indicatorToolbar";break;case"selector":i="selector/selectorToolbar";break;case"formnode":i="formnode/formnodeToolbar";break;case"nodetable":i="nodeTable/nodetableToolbar";break;case"button":i="button/buttonToolbar";break;case"analyticachart":i="analyticaChart/analyticaChartToolbar";break;case"objectItem":switch(n){case"texteditor":i="texteditor/texteditorToolbar";break;case"cubeviewer":i="cubeviewer/cubeviewerToolbar";break;case"diagramviewer":i="diagramViewer/diagramViewerToolbar";break;case"mapviewer":i="mapViewer/mapViewerToolbar";break;case"inputform":i="inputForm/inputFormToolbar";break;case"menuwidget":i="menuWidget/menuWidgetToolbar";break;case"dashboardcontainer_QUITAR_ESTO_PARA_MOSTRAR":i="dashboardContainer/dashboardContainerToolbar"}break;case"complexchart":i="complexchart/complexChartToolbar";break;default:i=!1}i?Promise.all([t.e(24),t.e(171)]).then(function(){var e=[t(892)("./"+i)];(function(e){var n=new e({model:o});a(n)}).apply(null,e)}).catch(t.oe):Promise.all([t.e(24),t.e(54),t.e(172)]).then(function(){var e=[t(893)];(function(e){var n=new e({model:o});a(n)}).apply(null,e)}).catch(t.oe)},getChartItemViewFromType:function(e,n){switch(e){case"empty":Promise.all([t.e(0),t.e(67)]).then(function(){var e=[t(769)];(function(e){n(e)}).apply(null,e)}).catch(t.oe);break;case"linechart":Promise.all([t.e(0),t.e(7),t.e(173)]).then(function(){var e=[t(894)];(function(e){n(e)}).apply(null,e)}).catch(t.oe);break;case"columnchart":Promise.all([t.e(0),t.e(7),t.e(66)]).then(function(){var e=[t(742)];(function(e){n(e)}).apply(null,e)}).catch(t.oe);break;case"columnchartstacked":Promise.all([t.e(0),t.e(7),t.e(174)]).then(function(){var e=[t(895)];(function(e){n(e)}).apply(null,e)}).catch(t.oe);break;case"columnchartpercent":Promise.all([t.e(0),t.e(7),t.e(175)]).then(function(){var e=[t(896)];(function(e){n(e)}).apply(null,e)}).catch(t.oe);break;case"barchart":Promise.all([t.e(0),t.e(7),t.e(176)]).then(function(){var e=[t(788)];(function(e){n(e)}).apply(null,e)}).catch(t.oe);break;case"barchartstacked":Promise.all([t.e(0),t.e(7),t.e(177)]).then(function(){var e=[t(897)];(function(e){n(e)}).apply(null,e)}).catch(t.oe);break;case"barchartpercent":Promise.all([t.e(0),t.e(7),t.e(178)]).then(function(){var e=[t(898)];(function(e){n(e)}).apply(null,e)}).catch(t.oe);break;case"areachart":Promise.all([t.e(0),t.e(7),t.e(179)]).then(function(){var e=[t(789)];(function(e){n(e)}).apply(null,e)}).catch(t.oe);break;case"areachartstacked":Promise.all([t.e(0),t.e(7),t.e(180)]).then(function(){var e=[t(899)];(function(e){n(e)}).apply(null,e)}).catch(t.oe);break;case"areachartpercent":Promise.all([t.e(0),t.e(7),t.e(181)]).then(function(){var e=[t(900)];(function(e){n(e)}).apply(null,e)}).catch(t.oe);break;case"piechart":Promise.all([t.e(0),t.e(7),t.e(182)]).then(function(){var e=[t(901)];(function(e){n(e)}).apply(null,e)}).catch(t.oe);break;case"gaugechart":Promise.all([t.e(0),t.e(7),t.e(183)]).then(function(){var e=[t(902)];(function(e){n(e)}).apply(null,e)}).catch(t.oe);break;case"waterfallchart":Promise.all([t.e(0),t.e(7),t.e(184)]).then(function(){var e=[t(903)];(function(e){n(e)}).apply(null,e)}).catch(t.oe);break;case"scatterchart":Promise.all([t.e(0),t.e(7),t.e(185)]).then(function(){var e=[t(904)];(function(e){n(e)}).apply(null,e)}).catch(t.oe);break;case"complexchart":Promise.all([t.e(0),t.e(7),t.e(186)]).then(function(){var e=[t(905)];(function(e){n(e)}).apply(null,e)}).catch(t.oe);break;case"table":Promise.all([t.e(0),t.e(11),t.e(187)]).then(function(){var e=[t(906)];(function(e){n(e)}).apply(null,e)}).catch(t.oe);break;case"indexlist":Promise.all([t.e(0),t.e(188)]).then(function(){var e=[t(907)];(function(e){n(e)}).apply(null,e)}).catch(t.oe);break;case"map":Promise.all([t.e(33),t.e(0),t.e(11),t.e(91),t.e(189)]).then(function(){var e=[t(908)];(function(e){n(e)}).apply(null,e)}).catch(t.oe);break;case"indicator":Promise.all([t.e(89),t.e(312),t.e(0),t.e(190)]).then(function(){var e=[t(909)];(function(e){n(e)}).apply(null,e)}).catch(t.oe);break;case"selector":Promise.all([t.e(0),t.e(191)]).then(function(){var e=[t(930)];(function(e){n(e)}).apply(null,e)}).catch(t.oe);break;case"formnode":Promise.all([t.e(0),t.e(192)]).then(function(){var e=[t(931)];(function(e){n(e)}).apply(null,e)}).catch(t.oe);break;case"nodetable":Promise.all([t.e(0),t.e(15),t.e(34),t.e(193)]).then(function(){var e=[t(932)];(function(e){n(e)}).apply(null,e)}).catch(t.oe);break;case"button":Promise.all([t.e(0),t.e(194)]).then(function(){var e=[t(933)];(function(e){n(e)}).apply(null,e)}).catch(t.oe);break;case"funnelchart":Promise.all([t.e(0),t.e(7),t.e(195)]).then(function(){var e=[t(934)];(function(e){n(e)}).apply(null,e)}).catch(t.oe);break;case"pyramidchart":Promise.all([t.e(0),t.e(7),t.e(196)]).then(function(){var e=[t(935)];(function(e){n(e)}).apply(null,e)}).catch(t.oe);break;case"analyticachart":Promise.all([t.e(0),t.e(197)]).then(function(){var e=[t(936)];(function(e){n(e)}).apply(null,e)}).catch(t.oe)}},getObjectItemViewFromType:function(e,n){switch(e){case"texteditor":Promise.all([t.e(0),t.e(90),t.e(198)]).then(function(){var e=[t(937)];(function(e){n(e)}).apply(null,e)}).catch(t.oe);break;case"cubeviewer":Promise.all([t.e(0),t.e(15),t.e(34),t.e(199)]).then(function(){var e=[t(938)];(function(e){n(e)}).apply(null,e)}).catch(t.oe);break;case"diagramviewer":Promise.all([t.e(0),t.e(11),t.e(16),t.e(200)]).then(function(){var e=[t(939)];(function(e){n(e)}).apply(null,e)}).catch(t.oe);break;case"mapviewer":Promise.all([t.e(33),t.e(0),t.e(11),t.e(92),t.e(201)]).then(function(){var e=[t(940)];(function(e){n(e)}).apply(null,e)}).catch(t.oe);break;case"inputform":Promise.all([t.e(0),t.e(15),t.e(35),t.e(202)]).then(function(){var e=[t(941)];(function(e){n(e)}).apply(null,e)}).catch(t.oe);break;case"dashboardcontainer":Promise.all([t.e(0),t.e(203)]).then(function(){var e=[t(942)];(function(e){n(e)}).apply(null,e)}).catch(t.oe);case"menuwidget":Promise.all([t.e(0),t.e(24),t.e(204)]).then(function(){var e=[t(943)];(function(e){n(e)}).apply(null,e)}).catch(t.oe)}},getFilterView:function(e){t.e(205).then(function(){var n=[t(944)];(function(n){e(n)}).apply(null,n)}).catch(t.oe)},showCopyDashboard:function(e,n,o){t.e(206).then(function(){var a=[t(945)];(function(t){(new t).render(e,n,o)}).apply(null,a)}).catch(t.oe)},showDashboardComments:function(e){t.e(207).then(function(){var n=[t(946)];(function(n){var t=new n;t.setElement(e.parent),t.render(e)}).apply(null,n)}).catch(t.oe)},refreshAllOpenDashboards:function(){a(".mainTask.dashboardTask .btnRefresh").trigger("click")},showTimeFrameSetting:function(e){t.e(208).then(function(){var n=[t(947)];(function(n){var t=new n(e);t.setElement(e.el),t.render()}).apply(null,n)}).catch(t.oe)},updatePrintReportProgress:function(e){t.e(45).then(function(){var n=[t(739)];(function(n){new n(e).updatePrintReportProgress()}).apply(null,n)}).catch(t.oe)},updatePrintReportMessage:function(e){t.e(45).then(function(){var n=[t(739)];(function(n){new n(e).updatePrintReportMessage()}).apply(null,n)}).catch(t.oe)},updatePrintReportComplete:function(e){t.e(45).then(function(){var n=[t(739)];(function(n){new n(e).updatePrintReportComplete()}).apply(null,n)}).catch(t.oe)},loginInToMyPyplanModal:function(e){t.e(209).then(function(){var n=[t(948)];(function(n){(new n).render(e)}).apply(null,n)}).catch(t.oe)},publishToMyPyplanModal:function(e){t.e(210).then(function(){var n=[t(949)];(function(n){(new n).render(e)}).apply(null,n)}).catch(t.oe)}})}.apply(n,i))||(e.exports=r)}).call(this,t(694),t(1))},703:function(e,n,t){"use strict";(function(o,a){var i,r=t(693);void 0===(i=function(){return o.Model.extend({defaults:{dashId:null,dashboardViewList:[],modifiedDash:!1,noQuery:[],styleLibraries:[],nodeOwner:"",extraOptions:void 0},resizeTimeOut:0,getDashboard:function(e,n){(0,r.send)("dashboardManager/by_id/".concat(e,"/"),null,null,function(e){e&&(n(e),a("#summary").trigger("refresh"))})},getNavigator:function(e,n){var t=e.reportId,o=void 0===t?null:t,a=e.dashboardId,i=void 0===a?null:a,s="";o?(s="?report_id=".concat(o),i&&(s+="&dashboard_id=".concat(i))):i&&(s="?dashboard_id=".concat(i)),(0,r.send)("reportManager/getNavigator/".concat(s),null,null,n)},calculateScaleFactor:function(e,n){if(this.getItemsModel().length>0)for(var t=this.getItemsModel(),o=0;o<t.length;o++)t[o].calculateScaleFactor(e,n)},updateSizes:function(e,n){if(this.getItemsModel().length>0){var t=300;n&&(t=1),clearTimeout(this.resizeTimeOut);var o=this.getItemsModel();this.resizeTimeOut=setTimeout(function(){var e;for(e=0;e<o.length;e++)o[e].baseUpdateSize(),o[e].updateSize()},t)}},setStateModified:function(e){this.set({modifiedDash:e})},getStateModified:function(){return this.get("modifiedDash")},addItemToModel:function(e){this.get("dashboardViewList").push(e)},getItemsModel:function(){return this.get("dashboardViewList")},getItemModel:function(e){var n,t=this.getItemsModel();for(n=0;n<t.length;n++)if(t[n].tagId==e)return t[n]},countItemsModelByNodeId:function(e){for(var n=0,t=this.getItemsModel(),o=0;o<t.length;o++)t[o].currentNodeId&&e&&t[o].currentNodeId.toLowerCase()==e.toLowerCase()&&n++;return n},removeItemModel:function(e){var n,t=this.getItemsModel();for(n=0;n<t.length;n++)if(t[n].tagId==e.tagId){t.splice(n,1);break}this.set({dashboardViewList:t})},removeAllItemsModel:function(){this.set("dashboardViewList",[])},changeItemModel:function(e,n){this.removeItemModel(e),this.addItemToModel(n)},setNodeOwner:function(e){this.set("node",e)},getNodeOwner:function(){return this.get("node")},onFilterChange:function(e,n,t,o,a,i){if(a){var r=this.getItemModel(a);if(r&&r.isUnlinkedIndex(e))return void r.onFilterChange(e,n,t,o,!0)}var s=this.getItemsModel();if(s)for(var l=0;l<s.length;l++)s[l].onFilterChange(e,n,t,o,!1,i)},onFiltersChange:function(e){var n=this.getItemsModel();if(n)for(var t=0;t<n.length;t++)n[t].onFiltersChange(e)},synchronizeDrop:function(e,n,t,o,a,i,r){if(r){var s=this.getItemsModel();if(s)for(var l=0;l<s.length;l++)s[l].tagId&&s[l].tagId!=r&&s[l].onSynchronizeDrop(e,n,t,o,a,i)}},synchronizeLevel:function(e,n,t){if(t){var o=this.getItemsModel();if(o)for(var a=0;a<o.length;a++)o[a].tagId&&o[a].tagId!=t&&o[a].onSynchronizeLevel(e,n)}},getNodeFullData:function(e,n,t,o){var a={node:e};n&&(a.fromRow=1,a.toRow=n),(0,r.send)("dashboardManager/getNodeFullData/",a,{type:"GET"},t,o)},getNodeIndexes:function(e,n){(0,r.send)("dashboardManager/getNodeIndexes/",{node:e},null,function(e){e&&n(e)})},getIndexValues:function(e,n){(0,r.send)("dashboardManager/getIndexValues/",e,null,function(e){e&&n(e)})},getGeoDef:function(e,n){(0,r.send)("Dashboard/GetGeoDef/"+e,null,null,function(e){e&&n(e)})},evaluateNode:function(e,n,t,o,a,i,s,l,c,u,d,p,f,m,h){l||(l="sum");var g={node:e,dims:n,rows:t,columns:o,summaryBy:l,bottomTotal:d,rightTotal:p,timeFormat:f,timeFormatType:m,calendarType:h},y="evaluateNode";i&&(y="evaluateNodeDef"),c&&c>0&&u&&u>0&&(g.fromRow=c*(u-1)+1,g.toRow=c*u),(0,r.send)("dashboardManager/".concat(y,"/"),JSON.stringify(g),{type:"POST",contentType:"application/json;charset=utf-8"},a,s)},evaluateNodeForPivot:function(e,n,t,o){(0,r.send)("Dashboard/EvaluateNodeForPivot/",{node:e},{type:"GET"},function(e){var i=e.value,r={success:function(e,t,o){n(e)},complete:function(){a("#mainLoading").hide(),a("#secondLoading").hide(),t()},dataType:"json",progress:function(e){if(e.lengthComputable){var n=e.loaded/e.total*100;o(n)}else try{var t=this.getResponseHeader("X-Content-Length");n=e.loaded/t*100;o(n)}catch(e){}}};a("#secondLoading").show(),a.ajax("".concat(__apiURL,"/scripts/download.aspx?name=").concat(i),r)},t)},updateDefinition:function(e,n,t,o){var i=[];t&&a.each(t,function(e,n){i.push({id:n})});var s={dashboardId:e,definition:n,styles:t};(0,r.send)("dashboardManager/".concat(e,"/"),JSON.stringify(s),{type:"PATCH",contentType:"application/json;charset=utf-8",dataType:"text"},function(e){void 0!=o&&o(e)})},updateDashboardImage:function(e,n,t){var o={id:e,fileData:n};(0,r.send)("Dashboard/UpdateImage/",o,{type:"PUT"},function(n){a("#summary").trigger("refresh"),a("#model-summary").trigger("refresh",{id:e}),n&&t&&t(n)})},validateIndexes:function(e,n){var t=function(n){var t;for(t=0;t<e.length;t++)if(e[t].field==n)return e[t]},o=function(e){var n,o;for(n=0;n<e.length;n++)void 0!=(o=t(e[n].field))&&(e[n].name=o.name)};o(n.dims),o(n.rows),o(n.columns)},initializeDashboardQuery:function(e){this.set("noQuery",e),this._initNoQuery()},_initNoQuery:function(){var e=this.get("noQuery");e&&e.length>0&&a.each(e,function(e,n){n.started=!1})},isReadyForEvaluate:function(e,n){var t=!0,o=this.get("noQuery");return o&&o.length>0&&a.each(o,function(o,a){a.node==e?a.started=!0:0==a.started&&a.rel&&a.rel.indexOf(n)>=0&&(t=!1)}),t},setNodeValueChanges:function(e,n){(0,r.send)("dashboardManager/pivotGrid/setCubeChanges/",JSON.stringify(e),{type:"POST",contentType:"application/json;charset=utf-8"},function(e){n(e),a("body").trigger("pendingChanges",[!0])})},isResultComputed:function(e,n){(0,r.send)("dashboardManager/isResultComputed/",JSON.stringify({nodes:e}),{type:"POST",contentType:"application/json;charset=utf-8"},function(e){n(e)})},reevaluateNodesNeeded:function(e){a(".dashboardTask").trigger("reevaluateNodesNeeded",[e])},reevaluateNodesNeededInThisDashboard:function(e){for(var n=[],t=this.getItemsModel(),o=0;o<t.length;o++){var i=t[o].getNodesOfView();i&&(n=n.concat(i))}n.length>0&&this.isResultComputed(n,function(n){if(n&&n.length>0)for(var o=0;o<t.length;o++)e&&t[o].tagId==e||(n.indexOf(t[o].currentNodeId)>=0&&a(t[o].tagId).trigger("evaluateNodeFromCurrentResult"),t[o].needRefresh(n)&&t[o].refreshItemDash())})},applyNumberFormat:function(e){for(var n=this.getItemsModel(),t=0;t<n.length;t++)n[t].currentNodeId==e&&n[t].applyNumberFormat()},getStyleLibrary:function(e){var n=this.get("styleLibraries");if(n)for(var t=0;t<n.length;t++)if(n[t].id==e)return n[t].definition;return[]},getStyleLibraries:function(){return this.get("styleLibraries")},setStyleLibraries:function(e){return this.set("styleLibraries",e)},refreshStyleLibraries:function(e){var n=this;t.e(63).then(function(){var o=[t(728)];(function(t){(new t).list(null,function(t){n.set("styleLibraries",t),e(t)})}).apply(null,o)}).catch(t.oe)},syncDrilldown:function(e,n,t){var o=this.getItemsModel();if(o)for(var a=0;a<o.length;a++)o[a].tagId!=t&&o[a].syncDrilldown(e,n,t)},syncDrillUp:function(e,n){var t=this.getItemsModel();if(t)for(var o=0;o<t.length;o++)t[o].tagId!=n&&t[o].syncDrillup(e,n)},syncShowHideLegend:function(e,n,t){},viewAsChart:function(e,n){(0,r.send)("Dashboard/viewAsChart/",e,{type:"POST"},n)}})}.apply(n,[]))||(e.exports=i)}).call(this,t(218),t(1))},724:function(e,n,t){"use strict";(function(o){var a,i=t(18),r=t(693);void 0===(a=function(){var e=function(e,n,o){null!==e.companySettingFile&&""!==e.companySettingFile&&t.e(39).then(function(){var n=[t(713)("./".concat(e.companySettingFile))];(function(){Promise.resolve().then(function(){t(221)}).catch(t.oe)}).apply(null,n)}).catch(t.oe),__currentSession=e,(0,i.setProcessDictionary)(e.process),(0,r.ajaxSetup)(),Promise.all([t.e(2),t.e(4),t.e(40)]).then(function(){var o=[t(683)];(function(t){(new t).clearUI(),n(e)}).apply(null,o)}).catch(t.oe)};return o.Model.extend({isConnected:function(){return""!=__currentToken&&null!==__currentSession},connect:function(e,n,t,o,a){var i={error:function(e,n,t){alert("Could not contact server ".concat(__apiURL))},type:"POST"};(0,r.send)("token-auth/",{username:e,password:n},i,function(e){e&&e.token&&(__currentToken=e.token,(0,r.ajaxSetup)(),o(e))},a,!0,!0)},createSession:function(n,t,o){(0,r.send)("security/createSession",{companyId:n,appVersion:__appVersion},{type:"POST"},function(n){e(n,t)},o)},getUserCompanies:function(e,n,t){(0,r.send)("security/getUserCompanies",{user:e,password:n},null,function(e){t(e)})},getUserCompaniesFromUserId:function(e,n){(0,r.send)("security/GetUserCompaniesFromUserId/?userId=".concat(e),null,null,function(e){n(e)})},logout:function(e){(0,r.send)("security/logout/",null,{dataType:"text"},function(n){void 0!=e&&e(n)})},getAllSessions:function(e){(0,r.send)("security/getAllSessions/",null,null,e,null,!0)},getMySessions:function(e){(0,r.send)("security/getMySessions/",null,null,e,null,!0)},getAllProcess:function(e){(0,r.send)("security/getAllProcess",null,null,e)},createFromToken:function(e,n,t){__currentToken=e,__currentSession={},(0,i.setProcessDictionary)([]),(0,r.ajaxSetup)(),(0,i.setLanguageDictionary)({}),n()},useExternalLink:function(e,n){(0,r.send)("security/useExternalLink/?guid=".concat(e),null,null,function(e,o){200===o.status?(null!==e.session.companySettingFile&&""!==e.session.companySettingFile&&t.e(39).then(function(){var n=[t(713)("./".concat(e.session.companySettingFile))];(function(){Promise.resolve().then(function(){t(221)}).catch(t.oe)}).apply(null,n)}).catch(t.oe),n(e,o)):n(e,o)})},killSessionByKey:function(e,n){(0,r.send)("security/killSessionByKey/",{session_key:e},{type:"GET",dataType:"text"},n)},createNewSession:function(n,t){(0,r.send)("security/createNewSession/",null,null,function(t){e(t,n)})},requireLogoutSessionByToken:function(e,n){(0,r.send)("security/requireLogout/",{session_key:e},{type:"GET",dataType:"text"},n)},ssoTest:function(){(0,r.send)("security/ssoTest",null,null,function(e){console.log(e)})},ssoCheckUser:function(e,n){(0,r.send)("security/SSOCheckUser/",null,null,e,n)},loginas:function(n,t,o,a,i){var s={error:function(e,n,t){alert("Could not contact server ".concat(__apiURL))}};(0,r.send)("security/loginas",{userId:n,token:t,companyId:o},s,function(n){e(n,a)})},loginFromToken:function(n,t,o){var a={error:function(e,n,t){alert("Could not contact server ".concat(__apiURL))}};(0,r.send)("security/loginFromToken",{token:n},a,function(n){e(n,t)})}})}.apply(n,[]))||(e.exports=a)}).call(this,t(218))},764:function(e,n,t){"use strict";(function(o,a){var i,r,s=t(18);i=[t(684),t(783)],void 0===(r=function(e,n){return o.View.extend({el:a("#main"),is_done:!1,render:function(t){var o=this,i=n(),r=new e,l=void 0!=t&&t.custom_el?t.custom_el:a("#main");r.show({title:(0,s.translate)("starting_environment"),html:i,custom_el:l,modalClass:"",backdrop:"static",keyboard:!1,onLoad:function(){var e=a("#main-modal");e.find("button.close").hide();var n=3,t=0;!function a(){if(0!=e.length)if(o.is_done)o.updateProgressbar(100),e.find(".loading_progress").text("Done!"),setTimeout(function(){o.close()},200);else{(t+=n)>=99&&(t=99),o.updateProgressbar(t);var i="";switch(!0){case t<30:i="".concat((0,s.translate)("creating_environment")," ...");break;case t<60:i="".concat((0,s.translate)("starting_environment")," ...");break;case t<85:i="".concat((0,s.translate)("loading_workspace")," ..."),n=1.5;break;case t<96:n=.5,i="".concat((0,s.translate)("starting_pyplan_calc_engine")," ...");break;case t<=100:n=.2,i="".concat((0,s.translate)("opening_model")," ...")}e.find(".loading_progress").text(i),setTimeout(a,500)}}()}})},updateProgressbar:function(e){a("#main-modal .progress-bar").css("width","".concat(e,"%"))},close:function(){a("body").removeClass("modal-open"),a("#main-modal button.close").click()},done:function(){this.is_done=!0}})}.apply(n,i))||(e.exports=r)}).call(this,t(218),t(1))},783:function(e,n,t){var o=t(690);e.exports=(o.default||o).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,o,a){return'<div class="row">\n\n  <div class="progress progress-striped active" style="background-color:#f1f1f1; width:80%; margin: 0 auto;">\n    <div class="progress-bar" role="progressbar" aria-valuenow="1" aria-valuemin="0" aria-valuemax="100"\n      style="width: 1%">\n      <span class="sr-only"></span>\n    </div>\n  </div>\n\n</div>\n<div class="row text-center">\n  <h6 class="loading_progress"></h6>\n</div>'},useData:!0})}}]);