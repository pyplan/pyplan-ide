/*! Copyright Pyplan 2020. All rights reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[141],{1005:function(e,t,a){var l=a(690);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(l.default||l).template({compiler:[8,">= 4.3.0"],main:function(e,t,l,i,r){var n=null!=t?t:e.nullContext||{},o=e.escapeExpression;return'<div class="dataTables_paginate nodisplay" >\n    <button class="atBeginning paginate_button disabled " disabled="disabled"><i class="fa fa-step-backward"></i></button>\n\n    <button class="previous paginate_button disabled " disabled="disabled"><i class="fa fa-chevron-left"></i></button>\n    <button class="next paginate_button disabled" disabled="disabled"><i class="fa fa-chevron-right"></i></button>\n\n    <button class="atEnd paginate_button disabled"><i class="fa fa-step-forward"></i></button>\n\n    <span>'+o(s(a(688)).call(n,"showing",{name:"L",hash:{},data:r,loc:{start:{line:9,column:10},end:{line:9,column:25}}}))+'</span>\n    <span class="info" data-key="from"></span>\n    <span>'+o(s(a(688)).call(n,"to",{name:"L",hash:{},data:r,loc:{start:{line:11,column:10},end:{line:11,column:20}}}))+'</span>\n    <span class="info" data-key="to"></span>\n    <span>'+o(s(a(688)).call(n,"of",{name:"L",hash:{},data:r,loc:{start:{line:13,column:10},end:{line:13,column:20}}}))+'</span>\n    <span class="info" data-key="of"></span>\n</div>\n\n<table class="table table-hover table-nomargin table-bordered">\n\n</table>\n'},useData:!0})},1006:function(e,t,a){var l=a(690);e.exports=(l.default||l).template({1:function(e,t,l,s,i){var r,n=e.lambda,o=e.escapeExpression;return'        <option value="'+o(n(i&&i.index,t))+'" '+(null!=(r=function(e){return e&&(e.__esModule?e.default:e)}(a(689)).call(null!=t?t:e.nullContext||{},null!=t?t.selected:t,"==",!0,{name:"ifCond",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i,loc:{start:{line:3,column:35},end:{line:3,column:97}}}))?r:"")+" >"+o(n(null!=t?t.value:t,t))+"</option>\n"},2:function(e,t,a,l,s){return' selected="selected" '},compiler:[8,">= 4.3.0"],main:function(e,t,a,l,s){var i;return"<select class='selector' data-def=\""+e.escapeExpression(e.lambda(null!=t?t.def:t,t))+'">\n'+(null!=(i=a.each.call(null!=t?t:e.nullContext||{},null!=t?t.values:t,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s,loc:{start:{line:2,column:4},end:{line:4,column:13}}}))?i:"")+"</select>\n\n"},useData:!0})},1007:function(e,t,a){var l=a(690);e.exports=(l.default||l).template({compiler:[8,">= 4.3.0"],main:function(e,t,a,l,s){var i,r=null!=t?t:e.nullContext||{},n=e.hooks.helperMissing,o=e.escapeExpression;return"<a class='choiceSelector editable-click' data-index=\""+o("function"==typeof(i=null!=(i=a.index||(null!=t?t.index:t))?i:n)?i.call(r,{name:"index",hash:{},data:s,loc:{start:{line:1,column:53},end:{line:1,column:62}}}):i)+'" data-includeAll="'+o("function"==typeof(i=null!=(i=a.includeAll||(null!=t?t.includeAll:t))?i:n)?i.call(r,{name:"includeAll",hash:{},data:s,loc:{start:{line:1,column:81},end:{line:1,column:95}}}):i)+'">'+o("function"==typeof(i=null!=(i=a.currentValue||(null!=t?t.currentValue:t))?i:n)?i.call(r,{name:"currentValue",hash:{},data:s,loc:{start:{line:1,column:97},end:{line:1,column:113}}}):i)+"</a>"},useData:!0})},1008:function(e,t,a){var l=a(690);e.exports=(l.default||l).template({compiler:[8,">= 4.3.0"],main:function(e,t,a,l,s){var i;return'<div class="progress small"><div class="bar" style="width:'+e.escapeExpression("function"==typeof(i=null!=(i=a.percent||(null!=t?t.percent:t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"percent",hash:{},data:s,loc:{start:{line:1,column:58},end:{line:1,column:69}}}):i)+'%"></div></div>\n\n'},useData:!0})},1009:function(e,t,a){var l=a(690);e.exports=(l.default||l).template({compiler:[8,">= 4.3.0"],main:function(e,t,a,l,s){var i,r=null!=t?t:e.nullContext||{},n=e.hooks.helperMissing,o=e.escapeExpression;return'<div class="conditional-format-item" data-pos="'+o("function"==typeof(i=null!=(i=a.pos||(null!=t?t.pos:t))?i:n)?i.call(r,{name:"pos",hash:{},data:s,loc:{start:{line:1,column:47},end:{line:1,column:54}}}):i)+'">\n    <span class="item-title">From</span>\n    <span class="item-data">'+o("function"==typeof(i=null!=(i=a.from||(null!=t?t.from:t))?i:n)?i.call(r,{name:"from",hash:{},data:s,loc:{start:{line:3,column:28},end:{line:3,column:36}}}):i)+'</span>\n    <span class="item-title">To</span>\n    <span class="item-data">'+o("function"==typeof(i=null!=(i=a.to||(null!=t?t.to:t))?i:n)?i.call(r,{name:"to",hash:{},data:s,loc:{start:{line:5,column:28},end:{line:5,column:34}}}):i)+'</span>\n\n\n    <button class="btn btn-red btn-mini btnRemoveFormat"><i class="fa fa-minus"></i></button>\n    <button class="btn btn-satblue btn-mini btnModifyFormat"><i class="fa fa-pencil"></i></button>\n\n</div>\n'},useData:!0})},708:function(e,t){e.exports=function(){return""}},820:function(module,exports,__webpack_require__){"use strict";(function($,jQuery,_,Highcharts,chroma){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,_globalFxs=__webpack_require__(18);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(730),__webpack_require__(708),__webpack_require__(1005),__webpack_require__(1006),__webpack_require__(1007),__webpack_require__(1008),__webpack_require__(1009)],__WEBPACK_AMD_DEFINE_RESULT__=function(BaseItemDashboard,GeneralContent,TableHTML,SelectHTML,ChoiceHTML,ProgressBarHTML,conditionalItemHTML){var view=BaseItemDashboard.extend({el:$("#n_o_n_e"),table:void 0,currentIndexStyle:"",currentValueStyle:"",pageSize:100,currentPage:1,resultTotalRows:-1,lastScaleFactor:1,fromPaginate:!1,heatMapData:void 0,drilldownHelper:void 0,forceReloadMenu:!0,scrollToBottom:!1,scrollToRight:!1,editModeChanged:function(){this.editMode?this.showStylesFor("_alltable_",-1):this.unselectAll()},toolbarCreated:function(){this.editMode&&this.showStylesFor("_alltable_",-1)},render:function(e){this.baseRender(e),$(this.tagId).find("div[data-rel='exports']").hide(),this.drawItem()},updateSize:function(e,t,a){if(void 0!=this.table&&$(this.tagId).length>0)if(this.lastScaleFactor!=this.maxScaleFactorW)this.redrawTable();else{var l=0;this.pageSize>0&&$(this.tagId).find(".dataTables_paginate").is(":visible")&&(l=32);t=this.getBoxHeight()-l;1==$(this.tagId).find("item-area").closest(".main-fullscreen").length&&(t=$(this.tagId).find(".main-fullscreen").height()-80-l),$(this.tagId).find(".dataTables_scrollBody").css("height",t).css("max-height",t),this.updateFixedColumn(),this.checkTableWidth()}},onRemoveItemView:function(){if(this.destroyAllSparklines(),this.table)try{this.table.destroy()}catch(e){}this.currentIndexStyle=null,this.currentValueStyle=null,this.drilldownHelper=null,this.heatMapData=null},getOptionsMenu:function(){var e=this,t="far fa-square",a="far fa-square";e.currentResult&&e.currentResult.itemProperties&&(e.currentResult.itemProperties.rightTotal&&(a="fa fa-check-square"),e.currentResult.itemProperties.bottomTotal&&(t="fa fa-check-square"));var l={callback:function(t){switch(t){case"_view_detail":e.toggleViewDetail(!0);break;case"_full":e.fullScreen();break;case"_export":e.exportItem();break;case"_knowledge":e.addDocumetation();break;case"_workflow":e.addTask();break;case"_view_in_diagram":e.viewInDiagram();break;case"_columnTotal":var a=!0;e.currentResult&&e.currentResult.itemProperties&&(a=!e.currentResult.itemProperties.rightTotal),e.setRightTotal(a);break;case"_rowTotal":a=!0;e.currentResult&&e.currentResult.itemProperties&&(a=!e.currentResult.itemProperties.bottomTotal),e.setBottomTotal(a);break;case"_chartToRight":case"_chartToBottom":e.splitPane("_chartToRight"==t?"splith":"splitv",function(t){e.model.updateSizes(!0,!0),setTimeout(function(){var a=$.extend(!0,{},e.currentResult);a.itemId=$.uuid(),a.itemType="columnchart",a.itemProperties.bottomTotal=!1,a.itemProperties.rightTotal=!1,t.createNewView(a,!1),t.$el.closest(".mainTask").trigger("updateScaleFactor")},100)})}},items:{_full:{type:"icon_text",name:(0,_globalFxs.translate)("fullscreen"),iconClass:"fa fa-expand"},_view_detail:{type:"icon_text",name:(0,_globalFxs.translate)("toggle_index_detail"),iconClass:"fa fa-info-circle"},sep1:"---------",_columnTotal:{type:"icon_text",name:(0,_globalFxs.translate)("menu_column_total"),iconClass:a,persist:!1},_rowTotal:{type:"icon_text",name:(0,_globalFxs.translate)("menu_row_total"),iconClass:t,persist:!1},sep2:"---------",_export:{type:"icon_text",name:(0,_globalFxs.translate)("_export"),iconClass:"fa fa-download"},sep3:"---------",_splitBy:{name:(0,_globalFxs.translate)("split_chart"),iconClass:"fa fa-bar-chart",items:{_chartToRight:{type:"icon_text",name:(0,_globalFxs.translate)("to_right"),iconClass:"fa fa-caret-square-o-right"},_chartToBottom:{type:"icon_text",name:(0,_globalFxs.translate)("to_bottom"),iconClass:"fa fa-caret-square-o-down"}}}}};return l.items._knowledge={type:"icon_text",name:(0,_globalFxs.translate)("knowledge_base"),iconClass:"fa fa-graduation-cap"},(0,_globalFxs.haveAnyAccess)("LISTASSIGNEDWORKFLOWTASKS,LISTALLWORKFLOWTASKS")&&(l.items._workflow={type:"icon_text",name:(0,_globalFxs.translate)("workflow"),iconClass:"fa fa-tasks"}),(0,_globalFxs.haveAccess)("view_influence_diagram")&&(l.items._view_in_diagram={type:"icon_text",name:(0,_globalFxs.translate)("view_in_diagram"),iconClass:"fa fa-sitemap"}),e.fromEmbedded&&(delete l.items.sep2,delete l.items._splitBy,delete l.items._knowledge,delete l.items._workflow,delete l.items._view_in_diagram),l},addDocumetation:function(){var e=this;__webpack_require__.e(14).then(function(){var t=[__webpack_require__(754)];(function(t){(new t).show(e.currentNodeId)}).apply(null,t)}).catch(__webpack_require__.oe)},addTask:function(){var e=this;__webpack_require__.e(9).then(function(){var t=[__webpack_require__(703)];(function(t){(new t).showAddTaskForNode(e.currentNodeId)}).apply(null,t)}).catch(__webpack_require__.oe)},exportItem:function(){var e,t=this.currentNodeId;this.currentResult.itemProperties&&(e=this.currentResult.itemProperties.summaryBy);var a={dims:this.currentResult.dims,rows:this.currentResult.rows,columns:this.currentResult.columns,summaryBy:e};__webpack_require__.e(10).then(function(){var e=[__webpack_require__(700)];(function(e){(new e).exportNode(t,a)}).apply(null,e)}).catch(__webpack_require__.oe)},checkTableWidth:function(){},preEvaluateNode:function(e,t,a,l){this.currentResult},updateValues:function(e){this.resultTotalRows=-1,this.drilldownHelper=null,e&&this.addFloatItems(e),e&&e.pageInfo&&(this.resultTotalRows=e.pageInfo.totalRows),this.fromPaginate?this.updateTableValuesFromPaginate(e):this.drawTable($(this.tagId).find(".item-area ").first(),e),this.fromPaginate=!1,this.isReady=!0},drawItem:function(){var e=GeneralContent();if($(this.tagId).find(".item-area").empty(),$(this.tagId).find(".item-area").html(e),this.currentResult&&this.currentResult.itemProperties){var t=$.extend({},this.getItemStyle("_alltable_",-1));t&&t.style?parseInt(t.style.pagination)>0?(this.pageSize=parseInt(t.style.pagination),this.currentPage=1):(this.pageSize=-1,this.currentPage=-1):(this.updateTableStyle("pagination",100,!0),this.pageSize=100,this.currentPage=1)}this.drawTable($(this.tagId).find(".item-area ").first())},drawTable:function(e,t){var a,l,s=this;if(this.lastScaleFactor=this.maxScaleFactorW,this.destroyAllSparklines(),this.$el.find(".dataTables_scrollBody").length>0&&(this.scrollToBottom||this.scrollToRight)&&(l=this.$el.find(".dataTables_scrollBody").get(0).scrollWidth,a=this.$el.find(".dataTables_scrollBody").get(0).scrollHeight),this.table)try{this.table.destroy()}catch(e){}var i=TableHTML();if(e.html(i),void 0==t&&this.currentResult&&(t=this.currentResult.nodeResult),t){t.pageInfo&&(this.resultTotalRows=t.pageInfo.totalRows),this.currentResult&&this.currentResult.itemProperties&&this.currentResult.itemProperties.emptyTotal&&this.filterEmptyData(t);var r=this.getHasSparkLine(),n=[];t.series.forEach(function(e){var t=[];t.push(e.name),e.data.forEach(function(e){t.push(e),r.enabled&&t.push("")}),n.push(t)});var o="";try{o=t.newDims.find(function(e){return e.field===t.indexOnRow}).name}catch(e){}var d=[];d.push({sTitle:o,sClass:"fixed-column"}),t.columns||(t.columns={},t.columns.categories=[]),t.columns.categories.forEach(function(e){d.push({sTitle:e}),r.enabled&&d.push({sTitle:(0,_globalFxs.translate)("_by")+" "+r.title,sClass:"sparkline",sWidth:120*s.maxScaleFactorW})}),this.calculateAutomaticColumnsWidth(d,n),this.updatePaginationInfo(t);$.extend({},this.getItemStyle("_alltable_",-1));this.generateHeatMap(n);var c=this;this.table=e.find("table").DataTable({destroy:!0,fixedColumns:{leftColumns:1},data:n,columns:d,scrollY:this.getBoxHeight()-(this.pageSize>0&&$(this.tagId).find(".dataTables_paginate").is(":visible")?40:0)+"px",scrollX:"100px",autoWidth:!1,sort:!1,paginate:!1,dom:"rt",preDrawCallback:function(){$(this).width("10px")},drawCallback:function(){c.applyOtherStyles(),c.updateTableColumnWidths(),setTimeout(function(){var e=c.$el.find(".dataTables_scrollBody");$(".main-fullscreen").is(":visible")&&(e=$(".main-fullscreen").find(".dataTables_scrollBody")),c.scrollToBottom&&(c.scrollToBottom=!1,e.scrollTop(e.scrollHeight),l&&(e.scrollLeft(l),l=null)),c.scrollToRight&&(c.scrollToRight=!1,e.scrollLeft(e.get(0).scrollWidth),a&&(e.scrollTop(a),a=null))},10),r.enabled&&setTimeout(function(){c.queryForSparkline()},10),setTimeout(function(){c.updateFixedColumn()},100)},rowCallback:function(e,t,a){var l,s,i,r=c.currentResult&&c.currentResult.itemProperties&&c.currentResult.itemProperties.defMode,n=t[0],o=$.extend({},c.getItemStyle("_alltable_",-1));s=c.getItemStyle(c.getRowIndexField(),n);var d=$(e).find("td");if(s){var u=c.getResultStyle(s),h=$(d[0]),f="font-size:"+u.style.fontSize*c.maxScaleFactorW+"px";f+=";color:"+u.style.fontColor,f+=";font-weight:"+(u.style.fontBold?"bold":"normal"),f+=";font-style:"+(u.style.fontItalic?"italic":"normal"),u.style.backgroundColor&&(f+=";background-color:"+u.style.backgroundColor),h.attr("style",f)}for(var m=1;m<t.length;m++){l=this.fnSettings().aoColumns[m].sTitle,i=c.getItemStyle(c.getColumnIndexField(),l);var p=c.getResultStyle(s,i,o),b=$(d[m]),g=c.getConditionalStyleFor(t[m],p.style),y=p.style.cellType;if(r)try{var _;(_=jQuery.parseJSON(t[m]))&&"object"==_typeof(_)&&_.hasOwnProperty("cellType")&&(y="defMode")}catch(e){}switch("choice"==y&&(p.style.choiceProperties&&p.style.choiceProperties.index?_=p.style.choiceProperties:y="number"),y){case"number":var v=c.numberFormat;p.style.numberFormat?v=p.style.numberFormat:c.currentResult&&c.currentResult.itemProperties&&c.currentResult.itemProperties.numberFormat&&(v=c.currentResult.itemProperties.numberFormat);var x=c.formatValue(t[m],v);if(g){var w="<i class='"+g.shape+"'></i>";"none"!=g.shape&&(x="left"==g.shapePosition?w+" "+x:"right"==g.shapePosition?x+" "+w:w)}b.html(x);break;case"defMode":var T="";switch(_.cellType){case"select":T=SelectHTML(_)}b.html(T);break;case"choice":T="";_.currentValue=t[m],_.currentValue&&"''"!=_.currentValue||(_.currentValue="(empty)"),T=ChoiceHTML(_),b.html(T);break;case"progressbar":var k={percent:t[m]};T=ProgressBarHTML(k);b.html(T)}var R=p.style.backgroundColor,I=!1;c.heatMapData&&c.heatMapData[a]&&c.heatMapData[a].length>m&&(R=c.heatMapData[a][m],I=!0);var C="font-size:"+p.style.fontSize*c.maxScaleFactorW+"px";if(C+=";color:"+p.style.fontColor,C+=";text-align:"+p.style.textAlign,C+=";font-weight:"+(p.style.fontBold?"bold":"normal"),C+=";font-style:"+(p.style.fontItalic?"italic":"normal"),C+=";text-decoration:"+(p.style.fontUnderline?"underline":"none"),C+=";background-color:"+R,b.attr("style",C),g&&("none"==g.shape?b.css("color",g.fontColor):b.find("i").css("color",g.fontColor),b.css("background-color",g.backgroundColor),b.css("font-size",g.fontSize*c.maxScaleFactorW+"px"),b.css("font-weight",g.fontBold?"bold":"normal"),b.css("font-style",g.fontItalic?"italic":"normal"),b.css("text-decoration",g.fontUnderline?"underline":"none"),g.dashboardId)){var S=$("<span></span").addClass("link-to-dashboard").attr("data-dashboard-id",g.dashboardId).attr("data-dashboard-name",g.dashboardName).attr("title",g.dashboardName).attr("style","color: inherit;");void 0!=g.target&&S.attr("data-target",g.target),b.wrapInner(S)}}if(c.drilldownHelper&&c.drilldownHelper[a]){var F=c.drilldownHelper[a],P=$(e);F.item&&(I||P.addClass(F.item.cssClass),P.attr("data-child",F.item.child),P.attr("data-level",F.item.level),P.find("td.fixed-column").removeClass("fordrilldown").css("padding-left",5+5*F.item.level)),F.parent&&(P.addClass("expanded"),P.attr("data-parent",F.parent.parent),P.attr("data-drilldownby",F.parent.drilldownby))}}}),this.updateTableColumnWidths(),this.checkTableWidth(),this.addTableEvents(),this.addPaginationEvents()}},getResultStyle:function(e,t,a){var l;return(l=e&&t&&e.pos>t.pos?$.extend(!0,{},t,e):$.extend(!0,{},e,t))&&l.hasOwnProperty("style")||(l={style:{},pos:-1}),a&&(l=a.pos>l.pos?$.extend(!0,{},l,a):$.extend(!0,{},a,l)),l.style=$.extend({},this.getDefaultTableStyle(),l.style),l},updateTableColumnWidths:function(){if(this.table){var e=this,t=$.extend({},this.getItemStyle("_alltable_",-1));t||(t={style:{},pos:-1});var a=$(this.tagId).find(".dataTables_scroll .dataTables_scrollHead table"),l=this.table.$("tr").closest("table"),s=0;a.find("thead th").each(function(i){var r,n=$(this).html(),o=e.getItemStyle(e.getColumnIndexField(),n);o||(o={style:{},pos:-1}),r=o.pos>t.pos?$.extend(!0,{},t,o):$.extend(!0,{},o,t);var d=$(l).find("thead th").eq(i);if(r.style.hasOwnProperty("autoColumnWidth")&&0==r.style.autoColumnWidth){parseInt(r.style.columnWidth),d.width();var c=r.style.columnWidth*e.maxScaleFactorW;s+=parseInt(c),$(l).width(s),d.width(c),a.width(s),$(this).width(d.width())}else d.width($(this).width())})}},getDefaultTableStyle:function(){return{pagination:0,cellType:"number",autoColumnWidth:!0,columnWidth:100,fontSize:11,fontColor:"#000",textAlign:"right",fontBold:!1,fontItalic:!1,fontUnderline:!1,numberFormat:this.numberFormat,decimalPlaces:-1,symbol:"",symbolPos:"left",conditional:[],summaryBy:"sum"}},getConditionalStyleFor:function(e,t){if(t&&t.hasOwnProperty("conditional"))for(var a=0;a<t.conditional.length;a++)if(parseFloat(e)>=parseFloat(t.conditional[a].from)&&parseFloat(e)<=parseFloat(t.conditional[a].to)||e==t.conditional[a].from&&e==t.conditional[a].to)return t.conditional[a]},redrawTable:function(){$(this.tagId).trigger("evaluateNode")},getBoxHeight:function(){return $(this.tagId).height()-60-$(this.tagId).find(".detail-area").height()},getBaseItem:function(){return $(this.tagId).find(".item-area")},addTableEvents:function(){var e=this;this.getBaseItem().find(".dataTables_scrollBody").on("click","tr td",function(t){if(e.editMode){var a,l=$(this).closest("tr");if(0==$(this).index()?t.ctrlKey?l.hasClass("selected")?(l.removeClass("selected"),l.find("td").each(function(t){e.getBaseItem().find(".dataTables_scrollHead th").eq(t).hasClass("selected")||l.removeClass("selected")}),a=!0):(l.addClass("selected"),l.find("td").addClass("selected")):(e.unselectAll(),l.addClass("selected"),l.find("td").addClass("selected")):(e.unselectAll(),a=!0),a)if(e.getBaseItem().find(".dataTables_scrollBody tr.selected").length>0){var s=e.getUnformattedValue(e.getBaseItem().find(".dataTables_scrollBody tr.selected").first().find("td").first());e.showStylesFor(e.getRowIndexField(),s)}else e.showStylesFor("_alltable_",-1);else{s=e.getUnformattedValue(l.find("td").first());e.showStylesFor(e.getRowIndexField(),s)}e.updateFixedColumn()}}),this.getBaseItem().find(".dataTables_scrollHead th").on("click",function(t){if(e.editMode){var a,l=$(this).index();if(0==l)$(this).hasClass("selected")?e.unselectAll():(e.unselectAll(),$(this).addClass("selected"),e.getBaseItem().find(".dataTables_scrollBody tr").addClass("selected"),e.getBaseItem().find(".dataTables_scrollBody tr td").addClass("selected")),e.showStylesFor("_alltable_",-1);else if(t.ctrlKey?$(this).hasClass("selected")?($(this).removeClass("selected"),e.getBaseItem().find(".dataTables_scrollBody tr").each(function(){$(this).hasClass("selected")||$(this).find("td").eq(l).removeClass("selected")}),a=!0):($(this).addClass("selected"),e.getBaseItem().find(".dataTables_scrollBody tr").each(function(){$(this).find("td").eq(l).addClass("selected")})):(e.unselectAll(),$(this).addClass("selected"),e.getBaseItem().find(".dataTables_scrollBody tr").each(function(){$(this).find("td").eq(l).addClass("selected")})),a)if(e.getBaseItem().find(".dataTables_scrollHead th.selected").length>0){var s=e.getUnformattedValue(e.getBaseItem().find(".dataTables_scrollHead th.selected").first());e.showStylesFor(e.getColumnIndexField(),s)}else e.showStylesFor("_alltable_",-1);else{s=e.getUnformattedValue($(this));e.showStylesFor(e.getColumnIndexField(),s)}e.updateFixedColumn()}}),this.getBaseItem().find(".dataTables_scrollHead th").on("dblclick",function(t){e.editMode||0==$(this).index()&&$(this).closest(".item-area").find(".dataTables_scroll").selectText()}),this.getBaseItem().find(".dataTables_scrollBody").on("change","select.selector",function(t){var a=[];if(e.currentResult.columns.length>0){var l=e.getUnformattedText($(this).closest(".dataTables_scroll").find(".dataTables_scrollHead table tr").first().find("th").eq($(this).closest("td").index()));a.push({Key:e.currentResult.columns[0].field,Value:l})}if(e.currentResult.rows.length>0){var s=e.getUnformattedText($(this).closest("tr").find("td").first());a.push({Key:e.currentResult.rows[0].field,Value:s})}var i=$(this).attr("data-def");e.updateChoiceDefinition(e.currentResult.nodeId,a,i,$(this).val())}),this.getBaseItem().find(".dataTables_scrollBody").on("click",".choiceSelector",function(t){t.preventDefault();var a=$(this),l=$(this).attr("data-index"),s="true"==$(this).attr("data-includeAll"),i=[];if(e.currentResult.columns.length>0){var r=e.getUnformattedText($(this).closest(".dataTables_scroll").find(".dataTables_scrollHead table tr").first().find("th").eq($(this).closest("td").index()));i.push({Key:e.currentResult.columns[0].field,Value:r})}if(e.currentResult.rows.length>0){var n=e.getUnformattedText($(this).closest("tr").find("td").first());i.push({Key:e.currentResult.rows[0].field,Value:n})}var o={includeAll:s,index:l,callback:function(t){if(t){var l=t.id;e.updateNodeDefinition(e.currentResult.nodeId,l,function(t){a.text(l),e.model.reevaluateNodesNeeded(e.tagId)},i)}},event:t,currentValue:$(this).text(),selectedLabel:$(this).text()};__webpack_require__.e(86).then(function(){var e=[__webpack_require__(1355)];(function(e){new e(o).render()}).apply(null,e)}).catch(__webpack_require__.oe)}),this.getBaseItem().find(".dataTables_scrollBody").on("click","tr td",function(t){if(!e.editMode&&0==$(this).index()){var a=$(this).parent();if(e.currentResult&&e.currentResult.itemProperties&&e.currentResult.itemProperties.bottomTotal&&a.is(":last-child"))return;a.hasClass("expanded")?e.drillUp(a):e.checkForDrilldown(t,a)}}),this.getBaseItem().find(".dataTables_wrapper").on("click",".DTFC_LeftBodyLiner table tr td",function(t){var a=$(this).closest("tr").index(),l={type:"click",clientX:t.clientX,clientY:t.clientY,ctrlKey:t.ctrlKey};e.getBaseItem().find(".dataTables_scrollBody tbody tr").eq(a).find("td").first().trigger(l)})},updateFixedColumn:function(){this.table&&this.table.fixedColumns().relayout()},unselectAll:function(){this.table&&(this.getBaseItem().find(".dataTables_scrollBody tr").removeClass("selected"),this.getBaseItem().find(".dataTables_scrollBody td").removeClass("selected"),this.getBaseItem().find(".dataTables_scrollHead th").removeClass("selected"))},setTableCellType:function(e){this.updateTableStyle("cellType",e)},setTableFontSize:function(e){this.updateTableStyle("fontSize",e)},setTableNumberFormat:function(e){this.updateTableStyle("numberFormat",e)},setTableDecimalPlaces:function(e){this.updateTableStyle("decimalPlaces",e)},setTableFontStyle:function(e,t){this.updateTableStyle("font"+e,t)},setTableFontAlign:function(e){this.updateTableStyle("textAlign",e)},setFontColor:function(e){e?this.updateTableStyle("fontColor",e):this.clearTableStyle("fontColor")},setTableBackgroundColor:function(e){e?this.updateTableStyle("backgroundColor",e):this.clearTableStyle("backgroundColor")},setTableSymbol:function(e,t){this.updateTableStyle("symbol",e,!0),this.updateTableStyle("symbolPos",t)},setTablePagination:function(e){this.updateTableStyle("pagination",e),this.pageSize=e,e>0?this.currentPage=1:(this.currentPage=-1,this.pageSize=1e5),this.redrawTable(),this.showStylesFor("_alltable_",-1)},setTableHeatMap:function(e){this.updateTableStyle("heatMap",e),this.redrawTable(),this.showStylesFor("_alltable_",-1)},setTableHeatMapColor:function(e){this.updateTableStyle("heatMapColor",e),this.redrawTable(),this.showStylesFor("_alltable_",-1)},setHideColumnsHeaders:function(e){this.updateTableStyle("hideColumnsHeader",e,!0),this.redrawTable(),this.showStylesFor("_alltable_",-1)},setHideRowsHeaders:function(e){this.updateTableStyle("hideRowsHeader",e,!0),this.redrawTable(),this.showStylesFor("_alltable_",-1)},setSummaryBy:function(e){this.currentResult&&this.currentResult.itemProperties&&(this.currentResult.itemProperties.summaryBy=e,this.redrawTable(),this.showStylesFor("_alltable_",-1))},setEmptyTotal:function(e){this.currentResult&&this.currentResult.itemProperties&&(this.currentResult.itemProperties.emptyTotal=e,this.redrawTable(),this.showStylesFor("_alltable_",-1))},setDefMode:function(e){this.currentResult&&this.currentResult.itemProperties&&(this.currentResult.itemProperties.defMode=e,this.redrawTable(),this.showStylesFor("_alltable_",-1))},setBottomTotal:function(e){this.currentResult&&this.currentResult.itemProperties&&(this.currentResult.itemProperties.bottomTotal=e,e&&(this.scrollToBottom=!0),this.redrawTable(),this.showStylesFor("_alltable_",-1))},setRightTotal:function(e){this.currentResult&&this.currentResult.itemProperties&&(this.currentResult.itemProperties.rightTotal=e,e&&(this.scrollToRight=!0),this.redrawTable(),this.showStylesFor("_alltable_",-1))},setChartDrilldown:function(e){this.currentResult&&this.currentResult.itemProperties&&(this.currentResult.itemProperties.drilldown=e,this.redrawTable(),this.showStylesFor("_alltable_",-1))},setSparkline:function(e){this.currentResult&&this.currentResult.itemProperties&&(this.currentResult.itemProperties.sparkline=e,this.redrawTable())},setSparklineNode:function(e){this.currentResult&&this.currentResult.itemProperties&&(this.currentResult.itemProperties.sparklineNode=e,this.redrawTable())},setSparklineIndex:function(e,t){this.currentResult&&this.currentResult.itemProperties&&(this.currentResult.itemProperties.sparklineIndex=e,this.currentResult.itemProperties.sparklineIndexTitle=t,this.redrawTable())},setChoiceProperties:function(e){this.updateTableStyle("choiceProperties",e,!1)},setTableColumnWidth:function(e,t){this.updateTableStyle("autoColumnWidth",e,!0),this.updateTableStyle("columnWidth",t,!0),this.updateTableColumnWidths(),e&&this.table?this.redrawTable():this.updateFixedColumn()},updateTableConditionalFormat:function(e){var t=this.getCurrentStyle(),a=[];if(t&&t.style&&t.style.conditional&&(a=t.style.conditional),-1==e.pos)a.push(e),$(a).each(function(e){this.pos=e});else for(var l=0;l<a.length;l++)if(a[l].pos==e.pos){a[l]=e;break}this.updateTableStyle("conditional",a),this.showStylesFor()},removeTableConditionalFormat:function(e){var t=this.getCurrentStyle();if(t&&t.style&&t.style.conditional){var a=t.style.conditional;a.length>e&&(a.splice(e,1),$(a).each(function(e){this.pos=e}),this.updateTableStyle("conditional",a),this.showStylesFor())}},updateTableStyle:function(e,t,a){var l=this,s={styles:[]};$.extend(s,this.currentResult.itemProperties.table);var i=this.getCurrentSelection();void 0===i[0].value&&(i=[{index:"_alltable_",value:-1}]),$(i).each(function(){var a=l.getItemStyle(this.index,this.value,s.styles);void 0==a?a={}:s.styles.splice(a.pos,1),a.index=this.index,a.value=this.value,a.style||(a.style={}),a.style[e]=t,s.styles.push(a)}),this.currentResult.itemProperties.table=s,a||(this.table.draw(!1),this.updateTableColumnWidths())},clearTableStyle:function(e){if(this.currentResult.itemProperties.table&&this.currentResult.itemProperties.table.styles){var t=this.getCurrentSelection(),a=this;$(t).each(function(){var t=a.getItemStyle(this.index,this.value,a.currentResult.itemProperties.table.styles);t&&t.style&&delete t.style[e]}),a=null}this.table.draw(!1),this.updateTableColumnWidths()},getCurrentStyle:function(){var e={styles:[]};$.extend(e,this.currentResult.itemProperties.table);var t=this.getCurrentSelection();if(t&&t.length>0){var a=t.pop(),l=this.getItemStyle(a.index,a.value,e.styles);return void 0==l&&(l={}),l.style||(l.style={}),l}},getCurrentSelection:function(){var e=[];if(this.table&&!this.getBaseItem().find(".dataTables_scrollHead th").first().hasClass("selected")){var t=this,a=this.getRowIndexField();this.getBaseItem().find(".dataTables_scrollBody tr.selected").each(function(){var l=t.getUnformattedValue($(this).find("td").first());e.push({index:a,value:l})}),a=this.getColumnIndexField(),this.getBaseItem().find(".dataTables_scrollHead th.selected").each(function(){var l=t.getUnformattedValue($(this));e.push({index:a,value:l})})}return 0==e.length&&e.push({index:"_alltable_",value:-1}),e},restoreCurrentSelection:function(e){if(this.editMode&&e){var t=this;$(e).each(function(){t.getBaseItem().find(".dataTables_scrollBody tr td").find(":contains('"+this.value+"')").closest("tr").addClass("selected")})}},getItemStyle:function(e,t,a){if(void 0==a&&this.currentResult&&this.currentResult.itemProperties.hasOwnProperty("table")&&(a=this.currentResult.itemProperties.table.styles),a)for(var l=0;l<a.length;l++)if(a[l].index==e&&a[l].value==t)return a[l].pos=l,a[l]},resetTableStyle:function(){this.currentResult.itemProperties.table={styles:[]},this.getBaseItem().find("td.fixed-column").attr("style",null),this.table.draw(),this.unselectAll(),this.showStylesFor("_alltable_",-1)},showStylesFor:function(e,t){var a=this;setTimeout(function(){l()},200);var l=function(){void 0==e?e=a.currentIndexStyle:a.currentIndexStyle=e,void 0==t?t=a.currentValueStyle:a.currentValueStyle=t;var l=$(".left-menu[data-rel='"+a.tagId+"']"),s=a.getItemStyle(e,t);s||(s={style:{}});var i=$.extend({},a.getDefaultTableStyle(),s.style);if(l.find("ul[data-format-key='table.celltype'] li").removeClass("selected"),l.find("span[data-format-key='table.celltype']").text((0,_globalFxs.translate)("number")),i.cellType&&(l.find("span[data-format-key='table.celltype']").text((0,_globalFxs.translate)(i.cellType)),l.find("ul[data-format-key='table.celltype'] li[data-value='"+i.cellType+"']").addClass("selected")),"number"==i.cellType?l.find(".table-number-container").show():l.find(".table-number-container").hide(),"choice"==i.cellType?(l.find(".forchoice").show(),l.find(".format-checkbox[data-format-key='table.choice.includeall']").prop("checked",!1),l.find("input[name='table.indexForChoice']").val(""),i.choiceProperties&&(i.choiceProperties.index&&l.find("input[name='table.indexForChoice']").val(i.choiceProperties.index),i.choiceProperties.includeall&&l.find(".format-checkbox[data-format-key='table.choice.includeall']").prop("checked",!0))):l.find(".forchoice").hide(),l.find("span[data-format-key='table.fontSize']").text(i.fontSize),l.find(".size-selector .font-size").slider().slider("value",i.fontSize),l.data("currentNumberFormat",i.numberFormat),l.find(".font-style button.btn").removeClass("btn-inverse"),l.find(".font-style button.btn[data-format-key='Bold']").addClass(i.fontBold?"btn-inverse":""),l.find(".font-style button.btn[data-format-key='Italic']").addClass(i.fontItalic?"btn-inverse":""),l.find(".font-style button.btn[data-format-key='Underline']").addClass(i.fontUnderline?"btn-inverse":""),l.find("span[data-format-key='table.font.color']").css("background-color",i.fontColor),setTimeout(function(){l.find(".color-selector[data-format-key='table.font.color']").spectrum("set",i.fontColor)},10),l.find(".font-style button.btn[data-format-key='"+i.textAlign+"']").addClass("btn-inverse"),i.backgroundColor?(setTimeout(function(){l.find(".color-selector[data-format-key='table.background.color']").spectrum("set",i.backgroundColor)},10),l.find("span[data-format-key='table.background.color']").css("background-color",i.backgroundColor)):(l.find("span[data-format-key='table.background.color']").css("background-color","#FFF"),setTimeout(function(){l.find(".color-selector[data-format-key='table.background.color']").spectrum("set","#FFF")},10)),l.find("select[data-format-key='table.symbolPosition']").val(i.symbolPos),l.find("input[data-format-key='table.symbol']").val(i.symbol),"_alltable_"==e?(l.find(".foralltable").show(),l.find(".forrowcol").hide(),l.find(".advanced-options").show()):(l.find(".foralltable").hide(),l.find(".forrowcol").show(),l.find(".advanced-options").hide()),i.autoColumnWidth?(l.find("input[data-format-key='table.columnWidth']").prop("checked",!0),l.find("div.slider-column-width").slider().slider("disable")):(l.find(".format-checkbox[data-format-key='table.columnWidth']").prop("checked",!1),l.find("div.slider-column-width").slider("enable"),l.find("div.slider-column-width").slider("value",i.columnWidth)),"_alltable_"==e||a.getBaseItem().find(".dataTables_scrollHead th.selected").length>0?l.find("div.column-width-selector").show():l.find("div.column-width-selector").hide(),l.find("div.conditional-container").html(""),i.hasOwnProperty("conditional")&&i.conditional.length>0&&$(i.conditional).each(function(){var e=conditionalItemHTML(this);l.find("div.conditional-container").append(e)}),"_alltable_"==e){if(i.pagination>0&&(l.find("span[data-format-key='table.pagination']").text(i.pagination),l.find("ul[data-format-key='table.pagination'] li[data-value='"+i.pagination+"']").addClass("selected")),void 0!=i.heatMap&&(l.find("span[data-format-key='table.heatMap']").text((0,_globalFxs.translate)(i.heatMap)),l.find("ul[data-format-key='table.heatMap'] li[data-value='"+i.heatMap+"']").addClass("selected")),i.heatMapColor){l.find("ul[data-format-key='table.heatMapColor'] li[data-value='"+i.heatMapColor+"']").addClass("selected");var r=l.find("ul[data-format-key='table.heatMapColor'] li[data-value='"+i.heatMapColor+"'] span").text();l.find("span[data-format-key='table.heatMapColor']").text(r)}l.find("input[data-format-key='hideColumnsHeader']").prop("checked",!1),i.hideColumnsHeader&&l.find("input[data-format-key='hideColumnsHeader']").prop("checked",!0),l.find("input[data-format-key='hideRowsHeader']").prop("checked",!1),i.hideRowsHeader&&l.find("input[data-format-key='hideRowsHeader']").prop("checked",!0),l.find("input[data-format-key='rightTotal']").prop("checked",!1),a.currentResult&&a.currentResult.itemProperties&&a.currentResult.itemProperties.rightTotal&&l.find("input[data-format-key='rightTotal']").prop("checked",!0),l.find("input[data-format-key='bottomTotal']").prop("checked",!1),a.currentResult&&a.currentResult.itemProperties&&a.currentResult.itemProperties.bottomTotal&&l.find("input[data-format-key='bottomTotal']").prop("checked",!0),a.currentResult&&a.currentResult.itemProperties&&a.currentResult.itemProperties.sparkline?(l.find(".format-checkbox[data-format-key='table.sparkline']").prop("checked",!0),l.find("input[name='table.sparklineByNode']").val(a.currentResult.itemProperties.sparklineNode),l.find("select[name='table.sparklineByIndex']").val(a.currentResult.itemProperties.sparklineIndex),l.find("input[name='table.sparklineByNode']").trigger("update-indexes"),l.find("div.table_sparkline_data").show()):(l.find(".format-checkbox[data-format-key='table.sparkline']").prop("checked",!1),l.find("div.table_sparkline_data").hide())}}},checkForDrilldown:function(e,t){if(!this.currentResult||!this.currentResult.itemProperties||this.currentResult.itemProperties.drilldown){var a=[],l=this.getIndexes(),s=this,i=t.closest("table"),r="";if(t.attr("data-level")&&(r="[data-level='"+t.attr("data-level")+"']"),i.find("tr[data-drilldownby]"+r).length>0){var n=this.getIndexByField(i.find("tr[data-drilldownby]"+r).first().attr("data-drilldownby"));if(n)return void this.queryForDrilldown(e,n,t)}if($.each(l,function(e,t){if(t.field!=s.getRowIndexField()&&t.field!=s.getColumnIndexField()){var l=!1;i.find("tr[data-drilldownby='"+t.field+"']").length>0&&(l=!0),l||a.push(t)}}),a.length>0)if((a=_.sortBy(a,"name")).length>1){var o=this.tagId;$.contextMenu("destroy",o),$.contextMenu({selector:o,className:"context-menu-data-title",callback:function(l,i){s.queryForDrilldown(e,a[l],t),s=null},items:a,events:{hide:function(e){$.contextMenu("destroy",o)}},zIndex:0}),$(o).contextMenu({x:e.clientX,y:e.clientY}),$(".context-menu-data-title").attr("data-menutitle",(0,_globalFxs.translate)("drilldown_by"))}else this.queryForDrilldown(e,a[0],t)}},queryForDrilldown:function(e,t,a){var l=this.getRowIndex();if(l){var s=[],i=[],r=[],n=a.closest("table"),o=a.index();if(a.attr("data-level"))for(var d,c=a;c;)if(c.attr("data-child")){var u=c.attr("data-child"),h=c.find("td").first().text();c=n.find("tr[data-parent='"+u+"']"),(d=$.extend({},this.getIndexByField(c.attr("data-drilldownby")))).values=[{value:h,selected:!0}],s.push(d)}else(d=$.extend({},l)).values=[{value:c.find("td").first().text(),selected:!0}],s.push(d),c=null;else(d=$.extend({},l)).values=[{value:this.getUnformattedValue(a.find("td").first()),selected:!0}],s.push(d);void 0!=this.getColumnIndex()&&r.push(this.getColumnIndex()),i.push(t);var f=this.getIndexes();$.each(f,function(e,a){var l=!1;if((0==r.length||r[0].field!=a.field)&&t.field!=a.field){for(var i=0;i<s.length;i++)if(s[i].field==a.field){l=!0;break}l||s.push(a)}});var m="sum";this.currentResult&&this.currentResult.itemProperties&&this.currentResult.itemProperties.summaryBy&&(m=this.currentResult.itemProperties.summaryBy);var p=this.getTimeFrame(),b=this;this.model.evaluateNode(this.currentNodeId,s,i,r,function(e){try{if(b.table.settings().init().columns.length-1>e.columns.categories.length){var l=[];$.each(b.table.settings().init().columns,function(e,t){l.push(t.sTitle)}),l.splice(0,1);var s=e.columns.categories;e.columns.categories=l;for(var i=0;i<e.series.length;i++){for(var r=e.series[i],n=[],d=0;d<l.length;d++){var c=s.indexOf(l[d]);c>=0?n.push(r.data[c]):n.push(null)}e.series[i].data=n}}}catch(e){}if(b.addFloatItems(e),b.currentResult&&b.currentResult.itemProperties&&b.currentResult.itemProperties.emptyTotal){l=[];$.each(b.table.settings().init().columns,function(e,t){l.push(t.sTitle)}),b.filterEmptyData(e,l)}if(e&&e.columns&&e.columns.categories){$.extend({},b.getItemStyle("_alltable_",-1));var u=1;a.attr("data-level")&&(u=parseInt(a.attr("data-level"))+1);var h=$.uuid(),f=b.getHasSparkLine(),m=$.extend({},b.table.data()),p=0;b.drilldownHelper||(b.drilldownHelper={}),b.drilldownHelper[o]||(b.drilldownHelper[o]={parent:{}}),b.drilldownHelper[o].parent={cssClass:"expanded",parent:h,drilldownby:t.field},b.offsetDrilldownHelpers(o,e.series.length),$.each(e.series,function(e,t){for(var a=[t.name],l=0;l<t.data.length;l++)a.push(t.data[l]),f.enabled&&a.push("");m.splice(o+1+p,0,a),b.drilldownHelper[o+1+p]||(b.drilldownHelper[o+1+p]={item:{}}),b.drilldownHelper[o+1+p].item={cssClass:"child"+u,child:h,level:u},p++}),b.generateHeatMap(m);var g=$(b.tagId).find(".dataTables_scrollBody").scrollTop();b.table.clear(),b.table.rows.add(m),b.table.draw(),$(b.tagId).find(".dataTables_scrollBody").scrollTop(g)}},!1,null,m,2e3,1,!1,b.currentResult.itemProperties.rightTotal,p.timeFormat,p.timeFormatType,p.calendarType)}},applyOtherStyles:function(){var e=this.getItemStyle("_alltable_",-1);e&&e.style&&e.style.hideColumnsHeader&&$(this.tagId).find(".item-area .dataTables_scrollHead table").css("display","none"),e&&e.style&&e.style.hideRowsHeader&&($(this.tagId).find(".item-area .dataTables_scrollHead .fixed-column").css("display","none"),$(this.tagId).find(".item-area .dataTables_scrollBody table .fixed-column").css("display","none")),this.currentResult&&this.currentResult.itemProperties&&(this.currentResult.itemProperties.defMode&&(0==this.currentResult.dims.length?$(this.tagId).find(".item-area .dataTables_scrollBody select").prop("disabled",""):$(this.tagId).find(".item-area .dataTables_scrollBody select").prop("disabled","disabled")),this.currentResult.itemProperties.rightTotal&&$(this.tagId).find(".item-area .dataTables_scrollBody tr").each(function(e,t){var a=$(t).find("td:last");a.length>0&&a.css("background-color")&&a.css("background-color").match(/^(?:white|#fff(?:fff)?|rgba?\(\s*255\s*,\s*255\s*,\s*255\s*(?:,\s*1\s*)?\))$/i)&&a.css("background-color","#fafafa")}),this.currentResult.itemProperties.bottomTotal&&$(this.tagId).find(".item-area .dataTables_scrollBody tr:last td").each(function(e,t){var a=$(t);a.length>0&&a.css("background-color")&&a.css("background-color").match(/^(?:white|#fff(?:fff)?|rgba?\(\s*255\s*,\s*255\s*,\s*255\s*(?:,\s*1\s*)?\))$/i)&&a.css("background-color","#fafafa")}));var t=this;$(this.tagId).find(".item-area .dataTables_scrollBody tr").each(function(e,a){var l=$(a).find("td").first();if(!l.prop("data-fa")&&(l.prop("data-fa","1"),t.rowFormatter)){var s=l.text();l.prop("data-original",s),""!==s&&l.text(t.rowFormatter.format(s))}}),$(this.tagId).find(".item-area .dataTables_scrollHead tr th").each(function(e,a){var l=$(a);if(!l.prop("data-fa")&&(l.prop("data-fa","1"),t.columnFormatter)){var s=l.text();l.prop("data-original",s),""!==s&&l.text(t.columnFormatter.format(s))}}),setTimeout(function(){if(t.table&&t.currentResult&&t.currentResult.itemProperties&&t.currentResult.itemProperties.drilldown){var e=t.getIndexes().length;if(t.getRowIndex()&&e--,t.getColumnIndex()&&e--,e>0){var a=t.getBaseItem().find(".dataTables_scrollBody tr").filter(function(){return!$(this).attr("data-level")||$(this).attr("data-level")<e}).find("td.fixed-column").addClass("fordrilldown");t.currentResult.itemProperties.bottomTotal&&a.last().removeClass("fordrilldown"),t.updateFixedColumn()}}t=null},200),$(this.tagId).find(" table .fixed-column").css("font-size",11*this.maxScaleFactorW+"px"),$(this.tagId).find(".table.dataTable tr th.sorting_disabled").css("font-size",11*this.maxScaleFactorW+"px")},queryForSparkline:function(){if(this.table&&this.currentResult&&this.currentResult.itemProperties&&this.currentResult.itemProperties.sparkline){var e=this.currentResult.itemProperties.sparklineNode,t=this.currentResult.itemProperties.sparklineIndex,a=this.getColumnIndex(),l=this;if(e&&t&&a){a=$.extend({},a);var s=[];this.getBaseItem().find(".dataTables_scrollHead table th").each(function(e,t){$(this).hasClass("fixed-column")||$(this).hasClass("sparkline")||s.push($(this).text())});var i=[],r=[],n=[{field:t,values:[]}],o=this.getRowIndex();o&&r.push(o),$.each(this.getIndexes(),function(e,t){o&&o.field==t.field||a.field!=t.field&&i.push(t)}),i.push(a),$.each(s,function(t,s){a.values=[{value:s,selected:!0}],l.model.evaluateNode(e,i,r,n,function(e){l.drawSparkline(e,t)})})}}},drawSparkline:function(e,t){var a=this.getSparklineOptions(),l=this.getBaseItem().find(".dataTables_scrollBody table");e&&e.series&&($.each(e.series,function(e,s){var i=l.find("td.fixed-column").filter(function(){return $(this).text()===s.name}).closest("tr").find("td").eq(2*t+2);if(i.length>0){var r=$.extend({},a);r.chart.renderTo=i.get(0),r.series=[{data:s.data,pointStart:1}],new Highcharts.Chart(r)}}),this.updateFixedColumn())},destroyAllSparklines:function(){this.table&&this.getBaseItem().find(".dataTables_scrollBody table").find("td.sparkline").each(function(e,t){var a=$(t).highcharts();a&&a.destroy()})},getSparklineOptions:function(){return{chart:{backgroundColor:null,borderWidth:0,type:"area",margin:[2,0,2,0],height:20,style:{overflow:"visible"},skipClone:!0},title:!1,credits:{enabled:!1},xAxis:{labels:{enabled:!1},title:{text:null},startOnTick:!1,endOnTick:!1,tickPositions:[]},yAxis:{endOnTick:!1,startOnTick:!1,labels:{enabled:!1},title:{text:null},tickPositions:[0]},legend:{enabled:!1},exporting:{enabled:!1},tooltip:!1,plotOptions:{series:{animation:!1,lineWidth:1,shadow:!1,states:{hover:{lineWidth:1}},marker:{radius:1,states:{hover:{radius:2}}},fillOpacity:.25},column:{negativeColor:"#910000",borderColor:"silver"}}}},setPositionForDropDetails:function(){var e=$(this.tagId).find(".drop-area"),t=e.find(".for-column"),a=e.find(".for-row");t.find("span").text((0,_globalFxs.translate)("drop_column_here")),a.find("span").text((0,_globalFxs.translate)("drop_row_here"));var l=0;this.pageSize>0&&$(this.tagId).find(".dataTables_paginate").is(":visible")&&(l=27),t.css("left","10px").css("top",25+l+"px"),t.width(e.width()-20),t.height(26),a.css("left","10px").css("top",52+l+"px"),a.width(e.width()-20),a.height(e.height()-80-l)},addPaginationEvents:function(){var e=this;$(this.tagId).find(".dataTables_paginate button").on("click",function(){$(this).hasClass("disabled")||($(this).hasClass("previous")?e.currentPage>1&&e.currentPage--:$(this).hasClass("next")&&e.currentPage++,$(this).hasClass("atBeginning")?e.currentPage=1:$(this).hasClass("atEnd")&&(e.currentPage=Math.ceil(e.resultTotalRows/e.pageSize)),e.fromPaginate=!0,$(e.tagId).trigger("loadThisPageResult",[e.currentPage]))})},getHasSparkLine:function(){var e=!1,t="";if(this.currentResult&&this.currentResult.itemProperties&&this.currentResult.itemProperties.sparkline){var a=this.currentResult.itemProperties.sparklineNode,l=this.currentResult.itemProperties.sparklineIndex;a&&l&&(this.getRowIndex()&&this.getRowIndex().field==l||this.getColumnIndex()&&this.getColumnIndex().field!=l&&(e=!0,t=this.currentResult.itemProperties.sparklineIndexTitle))}return{enabled:e,title:t}},updateTableValuesFromPaginate:function(e){if(this.table&&(this.table.clear(),e.series)){this.currentResult&&this.currentResult.itemProperties&&this.currentResult.itemProperties.emptyTotal&&this.filterEmptyData(e);var t=this.getHasSparkLine(),a=this,l=[];$.each(e.series,function(e,s){for(var i=[s.name],r=0;r<s.data.length;r++)i.push(s.data[r]),t.enabled&&i.push("");a.table.row.add(i,!1),l.push(i)}),this.generateHeatMap(l),a=null,l=null,this.table.draw(),this.updatePaginationInfo(e)}},updatePaginationInfo:function(e){if(this.resultTotalRows>0&&e&&e.pageInfo){var t=$(this.tagId).find(".dataTables_paginate").show();0==t.length&&(t=$(".main-fullscreen .item-area[data-parent='"+this.tagId.substring(1)+"']").find(".dataTables_paginate")),t.find("span[data-key='from']").html(e.pageInfo.fromRow),t.find("span[data-key='to']").html(e.pageInfo.toRow),t.find("span[data-key='of']").html(e.pageInfo.totalRows),e.pageInfo.fromRow>1?(t.find("button.previous").removeClass("disabled").removeAttr("disabled"),t.find("button.atBeginning").removeClass("disabled").removeAttr("disabled")):(t.find("button.previous").addClass("disabled").attr("disabled","disabled"),t.find("button.atBeginning").addClass("disabled").attr("disabled","disabled")),e.pageInfo.toRow<e.pageInfo.totalRows?(t.find("button.next").removeClass("disabled").removeAttr("disabled"),t.find("button.atEnd").removeClass("disabled").removeAttr("disabled")):(t.find("button.next").addClass("disabled").attr("disabled","disabled"),t.find("button.atEnd").addClass("disabled").attr("disabled","disabled"))}},calculateAutomaticColumnsWidth:function(e,t){for(var a=$("<table><thead><th></th></thead><tbody></tbody></table>").css({position:"absolute",float:"left","white-space":"nowrap",visibility:"hidden","font-size":12*this.maxScaleFactorW+"px","font-family":"'Open Sans', sans-serif"}).appendTo($("body")),l=a.find("thead th"),s=a.find("tbody"),i=$.extend({},this.getItemStyle("_alltable_",-1)),r=0;r<e.length;r++){var n={};this.columnFormatter?l.html(this.columnFormatter.format(e[r].sTitle)):l.html(e[r].sTitle);var o=this.getItemStyle(this.getColumnIndexField(),e[r].sTitle),d=!1,c=!1;if(o&&o.style&&o.style.conditional)for(var u=0;u<o.style.conditional.length;u++)if(o.style.conditional[u].shape&&"none"!=o.style.conditional[u].shape){d=!0;break}o&&o.style&&o.style.numberFormat&&o.style.numberFormat.indexOf("%")>0&&(c=!0);for(var h=0;h<t.length;h++){var f=t[h][0],m=this.getItemStyle(this.getRowIndexField(),f),p=this.getResultStyle(m,o,i),b=t[h][r];if(void 0!=b){p&&p.style&&"choice"==p.style.cellType?b="long text select":$.isNumeric(b)?b=c?(100*parseFloat(b)).toFixed(2):parseFloat(b).toFixed(2):'{"def'==String(b).substr(0,5)&&(b="long text for space to select");var g=String(b).length;n[g]||(n[g]={needed:5,strings:[]}),n[g].needed&&(n[g].strings.push(b),n[g].needed--)}}for(var y in s.empty(),n)if(n.hasOwnProperty(y))for(var _=0;_<n[y].strings.length;_++)$("<tr><td>"+n[y].strings[_]+(d?" .... ":"")+(c?"....":"")+" </td></tr>").appendTo(s);e[r].sWidth=a.width()+10}a.remove(),n=null,a=null},setIndexEvent:function(e,t){this.currentResult.itemProperties.indexEvents||(this.currentResult.itemProperties.indexEvents={}),t?delete this.currentResult.itemProperties.indexEvents[e]:this.currentResult.itemProperties.indexEvents[e]=!0},applyNumberFormat:function(){this.redrawTable()},formatValue:function(e,t){this.numberFormatter&&this.numberFormatter.numberFormat==t||(this.numberFormatter=new _globalFxs.NovixFormatter(t));var a=""+e;return isNaN(parseFloat(a))||(a=this.numberFormatter.format(e)),a},generateHeatMap:function(e){if(e&&e.length){var t,a=!1,l=!1,s=!1,i=!1,r=!1;if(this.currentResult&&this.currentResult.itemProperties){i=this.currentResult.itemProperties.rightTotal,r=this.currentResult.itemProperties.bottomTotal;var n=$.extend({},this.getItemStyle("_alltable_",-1));n&&n.style&&n.style.heatMap&&("by_row"==n.style.heatMap?a=!0:"by_column"==n.style.heatMap?l=!0:"by_total"==n.style.heatMap&&(s=!0),n.style.heatMapColor&&(t=n.style.heatMapColor))}if(this.heatMapData=void 0,l||a||s){var o=e.length,d=e[0].length;this.heatMapData=new Array(o);for(var c=0;c<o;c++)this.heatMapData[c]=new Array(d);for(var u=new Array(o),h=0;h<o;h++)u[h]={};var f=new Array(d);for(h=0;h<d;h++)f[h]={};for(var m={},p=0;p<o;p++)for(var b=0;b<d;b++){var g=e[p][b];$.isNumeric(g)&&(a&&(!i||b<d-1)&&((void 0==u[p].min||g<u[p].min)&&(u[p].min=g),(void 0==u[p].max||g>u[p].max)&&(u[p].max=g)),l&&(!r||p<o-1)&&((void 0==f[b].min||g<f[b].min)&&(f[b].min=g),(void 0==f[b].max||g>f[b].max)&&(f[b].max=g)),s&&(!i||b<d-1)&&(!r||p<o-1)&&((void 0==m.min||g<m.min)&&(m.min=g),(void 0==m.max||g>m.max)&&(m.max=g)))}var y=["#ffffff","#ff0000"];t&&(y=t.split(","));var _=chroma.scale(y).mode("lab"),v=function(e,t,a){return t-e==0?1:(a-e)/(t-e)};for(p=0;p<o;p++)for(b=0;b<d;b++){g=e[p][b];$.isNumeric(g)&&(a&&(!i||b<d-1)&&(this.heatMapData[p][b]=_(v(u[p].min,u[p].max,g)).hex()),l&&(!r||p<o-1)&&(this.heatMapData[p][b]=_(v(f[b].min,f[b].max,g)).hex()),s&&(!i||b<d-1)&&(!r||p<o-1)&&(this.heatMapData[p][b]=_(v(m.min,m.max,g)).hex()))}}}},setNumberFormat:function(e){this.updateTableStyle("numberFormat",e);var t=this.getCurrentSelection();if(t&&t.length>0&&"_alltable_"==t[0].index){this.currentNodeId;this.currentResult.itemProperties.numberFormat=e}},getTableNumberFormat:function(){},drillUp:function(e){if(this.table){var t=this,a=e.index(),l=0;!function e(a){var s=a.attr("data-parent");s&&(a.attr("data-parent",""),a.closest("table").find("tr[data-child='"+s+"']").each(function(a,s){$(s).hasClass("expanded")&&e($(s)),delete t.drilldownHelper[$(s).index().toString()],t.table.row($(s)).remove(),l++}))}(e),e.removeClass("expanded").removeAttr("data-drilldownby").removeAttr("data-parent"),delete t.drilldownHelper[a.toString()].parent,this.offsetDrilldownHelpers(a,-l),t.generateHeatMap(t.table.data());var s=$(this.tagId).find(".dataTables_scrollBody").scrollTop();this.table.draw(),$(this.tagId).find(".dataTables_scrollBody").scrollTop(s),t=null}},offsetDrilldownHelpers:function(e,t){if(this.drilldownHelper){var a=[];for(var l in this.drilldownHelper)a.push(parseInt(l));t>0&&(a=a.reverse());for(var s=0;s<a.length;s++)a[s]>e&&(this.drilldownHelper[(a[s]+t).toString()]=this.drilldownHelper[a[s].toString()],delete this.drilldownHelper[a[s].toString()])}},getUnformattedText:function(e){var t=e.text();return e.prop("data-original")&&(t=e.prop("data-original")),t},getUnformattedValue:function(e){var t=e.text();return e.prop("data-original")&&(t=e.prop("data-original")),t},addFloatItems:function addFloatItems(result){var floats=this.getFloatItems();if(floats)for(var clearLocal=function(e){return e?((e=e.toLowerCase()).indexOf(".")>0&&(e="."+e.split(".")[1]),e):""},haveRequiredElements=!1,ff=0;ff<floats.length;ff++){var floatItem=floats[ff];if(result.indexOnColumn&&floatItem.index==clearLocal(result.indexOnColumn)){if((haveRequiredElements||result.columns.categories.length>=floatItem.minElements&&result.columns.categories.length<=floatItem.maxElements)&&(haveRequiredElements=!0,result.columns.categories.push(floatItem.title),result.series))for(var nn=0;nn<result.series.length;nn++){var serie=result.series[nn];serie.data||(serie.data=[]);var formula=floatItem.formula;if("bypos"==floatItem.type){for(var re=new RegExp("#([^#]+)#","g"),m;null!==(m=re.exec(formula));){var pos=Number(m[1]);if(pos<serie.data.length){var reg=new RegExp(m[0],"g");formula=formula.replace(reg,serie.data[pos])}}try{var resEval=eval(formula);serie.data.push(resEval)}catch(e){serie.data.push(e.message)}}}}else if(result.indexOnRow&&floatItem.index==clearLocal(result.indexOnRow)&&(result.series||(result.series=[]),haveRequiredElements||result.series.length>=floatItem.minElements&&result.series.length<=floatItem.maxElements)){haveRequiredElements=!0;for(var floatSerie={name:floatItem.title,data:[]},nn=0;nn<result.columns.categories.length;nn++){var formula=floatItem.formula;if("bypos"==floatItem.type){for(var re=new RegExp("#([^#]+)#","g"),m;null!==(m=re.exec(formula));){var pos=Number(m[1]);pos<result.series.length&&(reg=new RegExp(m[0],"g"),formula=formula.replace(reg,result.series[pos].data[nn]))}try{var resEval=eval(formula);floatSerie.data.push(resEval)}catch(e){floatSerie.data.push(e.message)}}}result.series.push(floatSerie)}}},getFloatItems:function(){var e=[];e.push({name:"Diference",title:"Dif.",index:"_scenario_",type:"bypos",formula:"#1# - #0#",minElements:2,maxElements:2});return e.push({name:"Percent dif",title:"Dif. (%)",index:"_scenario_",type:"bypos",formula:"if(#0#!=0){ (#1# - #0#) / #0# }else{0};",minElements:2,maxElements:2}),e}});return view}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}).call(this,__webpack_require__(1),__webpack_require__(1),__webpack_require__(220),__webpack_require__(26),__webpack_require__(753))}}]);