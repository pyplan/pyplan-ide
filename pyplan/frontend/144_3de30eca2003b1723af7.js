/*! Copyright Pyplan 2020. All rights reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[144],{1009:function(t,e,i){var r=i(690);t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,i,r,a){return'<div class="indicator">\n\n    <i class=""></i>\n    <span class="value"></span>\n    <span class="unit"></span>\n    \n</div>'},useData:!0})},708:function(t,e){t.exports=function(){return""}},823:function(t,e,i){"use strict";(function(r,a){var n,s,o=i(18);n=[i(730),i(708),i(1009)],void 0===(s=function(t,e,n){return t.extend({el:r("#n_o_n_e"),currentValue:void 0,detailDraggable:!1,render:function(t){this.baseRender(t),this.drawItem()},drawItem:function(){var t=e();r(this.tagId).find(".item-area").html(t),this.drawIndicator(r(this.tagId).find(".item-area").first())},onRemoveItemView:function(){this.currentValue=null},preEvaluateNode:function(t,e,i,r){this.ensureOnlyDims(e,i,r)},updateValues:function(t){this.drawIndicator(r(this.tagId).find(".item-area").first(),t)},drawIndicator:function(t,e){this.currentResult&&this.currentResult.itemProperties.detail&&this.currentResult.itemProperties.detail&&(this.currentResult.itemProperties.detail=!1);var i=n();if(t.html(i),void 0==e&&this.currentResult&&(e=this.currentResult.nodeResult),e){if(e.series.length>0&&e.series[0].data.length>0){var r=this.sumarizeValue(e);this.currentValue=r}e.nodeProperties&&e.nodeProperties.unit&&t.find(".indicator .unit").html(e.nodeProperties.unit),this.applyStyles()}},getOptionsMenu:function(){var t=this,e={callback:function(e){switch(e){case"_knowledge":t.addDocumetation();break;case"_workflow":t.addTask();break;case"_view_in_diagram":t.viewInDiagram()}},items:{}};return e.items._knowledge={type:"icon_text",name:(0,o.translate)("knowledge_base"),iconClass:"fa fa-graduation-cap"},(0,o.haveAnyAccess)("LISTASSIGNEDWORKFLOWTASKS,LISTALLWORKFLOWTASKS")&&(e.items._workflow={type:"icon_text",name:(0,o.translate)("workflow"),iconClass:"fa fa-tasks"}),(0,o.haveAccess)("view_influence_diagram")&&(e.items._view_in_diagram={type:"icon_text",name:(0,o.translate)("view_in_diagram"),iconClass:"fa fa-sitemap"}),t.fromEmbedded&&(delete e.items._knowledge,delete e.items._workflow,delete e.items._view_in_diagram),e},addDocumetation:function(){var t=this;i.e(14).then(function(){var e=[i(754)];(function(e){(new e).show(t.currentNodeId)}).apply(null,e)}).catch(i.oe)},addTask:function(){var t=this;i.e(9).then(function(){var e=[i(703)];(function(e){(new e).showAddTaskForNode(t.currentNodeId)}).apply(null,e)}).catch(i.oe)},applyDefaultProperties:function(t){return r.extend({},{styleLibrary:"",fontSize:13,fontColor:"#000",fontBold:!1,fontItalic:!1,fontUnderline:!1,numberFormat:",.",decimalPlaces:2},t)},setFontSize:function(t){this.updateTableStyle("fontSize",t)},setFontStyle:function(t,e){this.updateTableStyle("font"+t,e)},setFontColor:function(t){this.updateTableStyle("fontColor",t)},setStyleLibrary:function(t){this.updateTableStyle("styleLibrary",t)},updateTableStyle:function(t,e,i){var r=this.applyDefaultProperties(this.currentResult.itemProperties.indicator);r[t]=e,this.currentResult.itemProperties.indicator=r,i||this.applyStyles()},getStylesUsed:function(){var t=[];return this.currentResult&&this.currentResult.itemProperties&&this.currentResult.itemProperties.indicator&&this.currentResult.itemProperties.indicator.styleLibrary&&""!=this.currentResult.itemProperties.indicator.styleLibrary&&t.push(this.currentResult.itemProperties.indicator.styleLibrary),t},updateStyleLibraries:function(t){this.applyStyles()},isPlotly:function(t){return!!(t&&"string"==typeof t&&t.indexOf("plotly-graph-div")>0)},isHTML:function(t){if(t&&"string"==typeof t){var e=t.toLowerCase();if(e.indexOf("<html")>0&&e.indexOf("<body")>0)return!0}return!1},isURL:function(t){if(t&&"string"==typeof t){var e=t.toLowerCase();if(e.startsWith("http://")||e.startsWith("https://"))return!0}return!1},updateSize:function(){this.isPlotly(this.currentValue)?this.updatePlotySize():this.isHTML(this.currentValue)||this.isURL(this.currentValue)?this.updateHTMLSize():this.applyStyles()},updatePlotySize:function(){var t=r(this.tagId).find(".item-area").width()-20,e=r(this.tagId).find(".item-area").height()-20;r(this.tagId).find(".plotly-graph-div").each(function(i,n){var s=r(this).attr("id");a.relayout(s,{height:e,width:t})})},updateHTMLSize:function(){var t=r(this.tagId).find(".item-area").width()-20,e=r(this.tagId).find(".item-area").height()-20;r(this.tagId).find("iframe").css("width",t).css("height",e)},applyStyles:function(){if(this.currentResult&&this.currentResult.itemProperties){var t=r(this.tagId).find(".item-area .indicator span.value");if(this.isPlotly(this.currentValue)){var e=this.currentValue,i=this;t.html(e),i.updatePlotySize(),i=null}else if(this.isHTML(this.currentValue)||this.isURL(this.currentValue)){t.find("iframe").length>0&&t.find("iframe").remove();e=this.currentValue;r("<iframe/>").css("border","none").appendTo(t),this.isURL(this.currentValue)?t.find("iframe").attr("src",e):t.find("iframe").attr("srcdoc",e),this.updateHTMLSize()}else{var a=r(this.tagId).find(".item-area .indicator span"),n=r(this.tagId).find(".item-area .indicator i");n.attr("class",""),this.createFormatter();var s=""+this.currentValue;isNaN(parseFloat(s))||(s=this.numberFormatter.format(this.currentValue));var o=s;t.html(o);var l=Math.min(this.scaleFactorW,this.scaleFactorH);l>1&&(l=1);var u=this.applyDefaultProperties(this.currentResult.itemProperties.indicator),c=Math.floor(u.fontSize*l);if(c<9&&(c=9),a.css("font-size",c+"px").css("color",u.fontColor),t.css("font-weight",u.fontBold?"bold":"normal").css("font-style",u.fontItalic?"italic":"normal").css("text-decoration",u.fontUnderline?"underline":"none"),n.css("font-size",c+"px"),this.currentValue&&"string"==typeof this.currentValue)if(!/<[a-z][\s\S]*>/i.test(this.currentValue))(t=r(this.tagId).find(".item-area .indicator span.value")).addClass("indicator-dashboard-value-text");if(""!=u.styleLibrary){var d=this.model.getStyleLibrary(u.styleLibrary);if(d&&d.length>0){var h;h=r.isNumeric(this.currentValue)?function(t,e){return e>=parseFloat(t.from)&&e<parseFloat(t.to)}:function(t,e){return t.from.toLowerCase()==e.toLowerCase||t.to.toLowerCase()==e.toLowerCase};for(var f=0;f<d.length;f++)if(this.currentValue&&h(d[f],this.currentValue)){var p=d[f];n.attr("class",p.shape),""==p.shape?a.css("color",p.color):n.css("color",p.color);break}}}}}},applyNumberFormat:function(){this.applyStyles()},sumarizeValue:function(t){var e=0;"string"==typeof t.series[0].data[0]&&(e="");for(var i=0;i<t.series.length;i++)for(var r=t.series[i],a=0;a<r.data.length;a++)r.data[a]&&(e+=r.data[a]);return e}})}.apply(e,n))||(t.exports=s)}).call(this,i(1),i(1178))}}]);