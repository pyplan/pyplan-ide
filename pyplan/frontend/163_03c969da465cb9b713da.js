/*! Copyright Pyplan 2020. All rights reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[163,6],{2330:function(e,n,l){"use strict";(function(t,i){var o,a,c=l(18);o=[l(220),l(663),l(2331),l(2332)],void 0===(a=function(e,n,l,o){return t.View.extend({el:i("#n_o_n_e"),field:"",tagId:"",modelManagerModel:new e,currentView:void 0,render:function(e,t){var a=this;a.moduleId=e;var s=l();(new n).show({title:(0,c.translate)("denied_departments"),html:s,modalClass:"filterviewModal",buttons:[{title:(0,c.translate)("cancel"),code:"cancel"},{title:(0,c.translate)("deny"),css:"red",code:"ok"}],callback:function(e,n){"ok"==e&&a.applyFilters(n,t)},onClose:function(e){a.removeView(e)},onLoad:function(n){(0,c.postRender)(n),a.addHandlers(n),a.modelManagerModel.getDepartments((function(l){var t=o(l={items:l}),s=i("div.filterlist ul");s.selectonic({multi:!0,keyboard:!0,keyboardMode:"toggle",mouseMode:"toggle",focusOnHover:!0,selectionBlur:!1,focusBlur:!1,select:function(e,n){},unselectAll:function(e,n){}}),n.find("div.filterlist ul").append(t),s.perfectScrollbar(),a.initializeSelectedFilters(e,n),(0,c.postRender)(n.find("div.filterlist ul")),setTimeout((function(){n.find("input[name='filterText1']").focus()}),500)}))}})},removeView:function(e){this.currentView=null},addHandlers:function(e){e.find(".selectAll").on("click",(function(){e.find("div.filterlist ul li:visible").each((function(e,n){i(n).addClass("j-selected")}))})),e.find(".selectNone").on("click",(function(){e.find(".filterlist ul li").each((function(e,n){i("div.filterlist ul").selectonic("unselect",n)}))}))},initializeSelectedFilters:function(e,n){this.modelManagerModel.getDeniedDepartments(e,(function(e){e&&e.forEach((function(e){n.find(".filterlist ul li").each((function(n,l){parseInt(i(l).find("span").attr("data-rel"))===e.id&&i("div.filterlist ul").selectonic("select",l)}))}))}))},applyFilters:function(e,n){var l=this,t=[];e.find(".filterlist ul li.j-selected").each((function(e,n){t.push(i(n).find("span").attr("data-rel"))}));var o={module:this.moduleId,departments:t};this.modelManagerModel.setDeniedModule(o,(function(e){n(l.moduleId,e)}))}})}.apply(n,o))||(e.exports=a)}).call(this,l(219),l(1))},2331:function(e,n,l){var t=l(670);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(t.default||t).template({compiler:[8,">= 4.3.0"],main:function(e,n,t,o,a){var c=null!=n?n:e.nullContext||{},s=e.escapeExpression;return'<div class="filterview unselectable">\n  <div class="row" style="padding: 10px 0;">\n    <div class="col-sm-12">\n      <div class="form-group">\n        <label for="textfield" class="control-label col-sm-1" style="padding-top: 4px;">Select:</label>\n        <div class="col-sm-11">\n          <a href="#" class="btn btn-small btn-lime selectAll">'+s(i(l(668)).call(c,"_all",{name:"L",hash:{},data:a,loc:{start:{line:7,column:63},end:{line:7,column:75}}}))+'</a>\n          <a href="#" class="btn btn-small btn-lime selectNone">'+s(i(l(668)).call(c,"_none",{name:"L",hash:{},data:a,loc:{start:{line:8,column:64},end:{line:8,column:77}}}))+'</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="filterlist">\n    <ul></ul>\n  </div>\n</div>\n'},useData:!0})},2332:function(e,n,l){var t=l(670);e.exports=(t.default||t).template({1:function(e,n,l,t,i){var o,a=null!=n?n:e.nullContext||{},c=e.hooks.helperMissing,s=e.escapeExpression,r=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'<li>\n  <span data-rel="'+s("function"==typeof(o=null!=(o=r(l,"id")||(null!=n?r(n,"id"):n))?o:c)?o.call(a,{name:"id",hash:{},data:i,loc:{start:{line:3,column:18},end:{line:3,column:24}}}):o)+'">'+s("function"==typeof(o=null!=(o=r(l,"name")||(null!=n?r(n,"name"):n))?o:c)?o.call(a,{name:"name",hash:{},data:i,loc:{start:{line:3,column:26},end:{line:3,column:34}}}):o)+"</span>\n</li>\n"},compiler:[8,">= 4.3.0"],main:function(e,n,l,t,i){var o,a=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return null!=(o=a(l,"each").call(null!=n?n:e.nullContext||{},null!=n?a(n,"items"):n,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:1,column:0},end:{line:5,column:9}}}))?o:""},useData:!0})},663:function(e,n,l){"use strict";(function(t){var i;void 0===(i=function(){return t.Controller.extend({name:"showModal",show:function(e){Promise.all([l.e(2),l.e(228)]).then((function(){var n=[l(686)];(function(n){(new n).render(e)}).apply(null,n)})).catch(l.oe)}})}.apply(n,[]))||(e.exports=i)}).call(this,l(677))}}]);