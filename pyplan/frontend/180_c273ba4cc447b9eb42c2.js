/*! Copyright Pyplan 2020. All rights reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[180],{1060:function(n,e,a){"use strict";(function(t,l){var o,c,i=a(18),r=a(731);o=[a(220),a(1251),a(1252)],void 0===(c=function(n,e,a){return t.View.extend({el:l("#main"),render:function(){var a=this;this.$el.append(e({title:this.options.title,max_height:"".concat(l(window).height()-200,"px")}));var t=l("#wizardDataframeGroupby"),o=t.find(".modal-footer .btnSave");t.on("hidden.bs.modal",(function(){t.off("hidden.bs.modal"),t.remove()})).modal("show"),t.on("ifToggled",'input[data-action="group"]',(function(n){var e=l(n.currentTarget).closest("tr").find('input[data-action!="group"]');l(n.currentTarget).is(":checked")?(e.iCheck("disable"),e.iCheck("uncheck")):e.iCheck("enable")})),t.on("ifToggled",'input[data-action!="group"]',(function(n){var e=l(n.currentTarget).closest("tr").find('input[data-action="group"]');l(n.currentTarget).is(":checked")?(e.iCheck("disable"),e.iCheck("uncheck")):e.iCheck("enable")})),o.on("click",(function(){var e=l("#wizardDataframeGroupby .optList input[type=checkbox]:checked"),o=a.options.confirm.params,c=o.columns,r=o.agg,s=!1;e.each((function(n,e){var a=l(e),t=a.attr("data-action"),o=a.val();"group"==t?c.push(o):(s=!0,r[o]||(r[o]=[]),r[o].push(t))})),s?(new n).callWizard(a.options.confirm,(function(){t.modal("hide"),a.options.callback()})):(0,i.showMessage)((0,i.translate)("must_select_aggregation"),void 0,"error")})),this.getData()},getData:function(){var e=l("#wizardDataframeGroupby .optList"),t=l("#wizardDataframeGroupby .optList tbody");(new n).callWizard(this.options.bodyParams,(function(n){n.forEach((function(n){var e=n.field,l=n.type,o=n.dtype;t.append(a({field:e,dtype:o,checked:l===r.TYPES.INDEX}))})),(0,i.postRender)(t),e.show()}))}})}.apply(e,o))||(n.exports=c)}).call(this,a(219),a(1))},1251:function(n,e,a){var t=a(669);function l(n){return n&&(n.__esModule?n.default:n)}n.exports=(t.default||t).template({compiler:[8,">= 4.3.0"],main:function(n,e,t,o,c){var i=n.lambda,r=n.escapeExpression,s=null!=e?e:n.nullContext||{},d=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return"<div id='wizardDataframeGroupby' class='modal fade' tabindex='-1' role='dialog' aria-labelledby='Wizard'\n  aria-hidden='true'>\n  <div class='modal-dialog'>\n    <div class='modal-content'>\n      <div class='modal-header'>\n        <button type='button' class='close' data-dismiss='modal' aria-hidden='true'>x</button>\n        <h4>"+r(i(null!=e?d(e,"title"):e,e))+"</h4>\n      </div>\n      <div class='modal-body nopadding' style=\"max-height:"+r(i(null!=e?d(e,"max_height"):e,e))+"\">\n        <div class='nodisplay optList'>\n          <table class='table table-nomargin'>\n            <thead>\n              <tr>\n                <th rowspan=\"2\">"+r(l(a(667)).call(s,"column",{name:"L",hash:{},data:c,loc:{start:{line:14,column:32},end:{line:14,column:46}}}))+'</th>\n                <th rowspan="2">'+r(l(a(667)).call(s,"_dtype",{name:"L",hash:{},data:c,loc:{start:{line:15,column:32},end:{line:15,column:46}}}))+'</th>\n                <th rowspan="2" class="centered group-by">'+r(l(a(667)).call(s,"group_by",{name:"L",hash:{},data:c,loc:{start:{line:16,column:58},end:{line:16,column:74}}}))+'</th>\n                <th class="centered" colspan="4">'+r(l(a(667)).call(s,"aggregate",{name:"L",hash:{},data:c,loc:{start:{line:17,column:49},end:{line:17,column:66}}}))+'</th>\n              </tr>\n              <tr>\n                <th class="centered selectable">'+r(l(a(667)).call(s,"sum",{name:"L",hash:{},data:c,loc:{start:{line:20,column:48},end:{line:20,column:59}}}))+'</th>\n                <th class="centered selectable">'+r(l(a(667)).call(s,"_max",{name:"L",hash:{},data:c,loc:{start:{line:21,column:48},end:{line:21,column:60}}}))+'</th>\n                <th class="centered selectable">'+r(l(a(667)).call(s,"_min",{name:"L",hash:{},data:c,loc:{start:{line:22,column:48},end:{line:22,column:60}}}))+'</th>\n                <th class="centered selectable">'+r(l(a(667)).call(s,"_mean",{name:"L",hash:{},data:c,loc:{start:{line:23,column:48},end:{line:23,column:61}}}))+"</th>\n              </tr>\n            </thead>\n            <tbody>\n            </tbody>\n          </table>\n        </div>\n      </div>\n      <div class='modal-footer'>\n        <button type='button' class='btn btn-default' data-dismiss='modal'>"+r(l(a(667)).call(s,"cancel",{name:"L",hash:{},data:c,loc:{start:{line:32,column:75},end:{line:32,column:89}}}))+"</button>\n        <button type='button' class='btn btn-primary btnSave'>"+r(l(a(667)).call(s,"_group",{name:"L",hash:{},data:c,loc:{start:{line:33,column:62},end:{line:33,column:76}}}))+"</button>\n      </div>\n    </div>\n  </div>\n</div>"},useData:!0})},1252:function(n,e,a){var t=a(669);function l(n){return n&&(n.__esModule?n.default:n)}n.exports=(t.default||t).template({1:function(n,e,a,t,l){return" checked "},3:function(n,e,a,t,l){var o=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return"    <input type='checkbox' class='icheck-me' data-skin='square' data-color='blue' value='"+n.escapeExpression(n.lambda(null!=e?o(e,"field"):e,e))+"' data-action='sum' />\n"},5:function(n,e,a,t,l){var o=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return"    <input type='checkbox' class='icheck-me' data-skin='square' data-color='blue' value='"+n.escapeExpression(n.lambda(null!=e?o(e,"field"):e,e))+"' data-action='max' />\n"},7:function(n,e,a,t,l){var o=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return"    <input type='checkbox' class='icheck-me' data-skin='square' data-color='blue' value='"+n.escapeExpression(n.lambda(null!=e?o(e,"field"):e,e))+"' data-action='min' />\n"},9:function(n,e,a,t,l){var o=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return"    <input type='checkbox' class='icheck-me' data-skin='square' data-color='blue' value='"+n.escapeExpression(n.lambda(null!=e?o(e,"field"):e,e))+"'\n      data-action='mean' />\n"},compiler:[8,">= 4.3.0"],main:function(n,e,t,o,c){var i,r=n.lambda,s=n.escapeExpression,d=null!=e?e:n.nullContext||{},u=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return"<tr>\n  <td>\n    <span>"+s(r(null!=e?u(e,"field"):e,e))+"</span>\n  </td>\n  <td>"+s(r(null!=e?u(e,"dtype"):e,e))+"</td>\n  <td class=\"centered selectable group-by\">\n    <input type='checkbox' class='icheck-me' data-skin='square' data-color='blue' "+(null!=(i=u(t,"if").call(d,null!=e?u(e,"checked"):e,{name:"if",hash:{},fn:n.program(1,c,0),inverse:n.noop,data:c,loc:{start:{line:7,column:82},end:{line:7,column:113}}}))?i:"")+"\n      value='"+s(r(null!=e?u(e,"field"):e,e))+"' data-action='group' />\n  </td>\n  <td class=\"centered selectable with-calc\">\n"+(null!=(i=l(a(668)).call(d,null!=e?u(e,"dtype"):e,"==","numeric",{name:"ifCond",hash:{},fn:n.program(3,c,0),inverse:n.noop,data:c,loc:{start:{line:11,column:4},end:{line:13,column:15}}}))?i:"")+'  </td>\n  <td class="centered selectable with-calc">\n'+(null!=(i=l(a(668)).call(d,null!=e?u(e,"dtype"):e,"==","numeric",{name:"ifCond",hash:{},fn:n.program(5,c,0),inverse:n.noop,data:c,loc:{start:{line:16,column:4},end:{line:18,column:15}}}))?i:"")+'  </td>\n  <td class="centered selectable with-calc">\n'+(null!=(i=l(a(668)).call(d,null!=e?u(e,"dtype"):e,"==","numeric",{name:"ifCond",hash:{},fn:n.program(7,c,0),inverse:n.noop,data:c,loc:{start:{line:21,column:4},end:{line:23,column:15}}}))?i:"")+'  </td>\n  <td class="centered selectable with-calc">\n'+(null!=(i=l(a(668)).call(d,null!=e?u(e,"dtype"):e,"==","numeric",{name:"ifCond",hash:{},fn:n.program(9,c,0),inverse:n.noop,data:c,loc:{start:{line:26,column:4},end:{line:29,column:15}}}))?i:"")+"  </td>\n</tr>"},useData:!0})},731:function(n,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TYPES=e.DTYPES=void 0;e.DTYPES={STRING:"string",NUMERIC:"numeric",BOOLEAN:"boolean",DATE:"date",OBJECT:"object",VOID:"void"};e.TYPES={INDEX:"index",COLUMN:"column"}}}]);