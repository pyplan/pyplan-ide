/*! Copyright Pyplan 2020. All rights reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[197,26],{1736:function(n,e,c){"use strict";(function(t,l){var i,o,a=c(18);i=[c(720),c(1737)],void 0===(o=function(n,e){return t.View.extend({el:l("body"),currentLicence:void 0,render:function(){var c=this;(new n).getLicenceKey(this.options.licResult.companyId,(function(n){c.options.licResult&&!c.options.licResult.licError&&n.currentLicenceValidation&&n.currentLicenceValidation.errorText&&(c.options.licResult.licError=n.currentLicenceValidation.errorText),c.options.licResult.licError||(c.options.licResult.licError=(0,a.translate)("licenceok"));var t={licInfo:n,licError:c.options.licResult.licError};c.currentLicence=n;var i=e(t);c.$el.removeClass("login"),l("body").css("background-color","rgb(54, 142, 224)"),c.$el.html(i),c.addHandlers()}))},addHandlers:function(){var e=this.$el.find(".invalidKey"),c=this;e.find("textarea[name='licenceKey']").focus((function(){l(this).select()})),e.find("button.btnValidate").on("click",(function(){e.find(".lblInvalid").hide(),e.find(".lblValid").hide(),c.currentLicence.licence=e.find("textarea[name='licenceKey']").val(),(new n).setLicenceKey(c.currentLicence,(function(n){n?e.find(".lblValid").show():e.find(".lblInvalid").show()}))})),e.find(".btnMore").on("click",(function(){e.find(".licDetail").toggle()})),e.find("a.btnReload").on("click",(function(){window.location.reload(!1)})),e.find(".licDetail input").focus((function(){l(this).select();var n=this;setTimeout((function(){"selectionStart"in n?console.log(n.selectionStart,n.selectionEnd):document.selection&&console.log(document.selection)}),1e3)}))}})}.apply(e,i))||(n.exports=o)}).call(this,c(219),c(1))},1737:function(n,e,c){var t=c(669);function l(n){return n&&(n.__esModule?n.default:n)}n.exports=(t.default||t).template({compiler:[8,">= 4.3.0"],main:function(n,e,t,i,o){var a,r=n.lambda,s=n.escapeExpression,d=null!=e?e:n.nullContext||{},u=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'\n<div class="licInfo invalidKey ">\n\n    <div class="error wrapper ">\n\n        <div class="licError">\n            <h2 class="code">'+s(r(null!=e?u(e,"licError"):e,e))+'</h2>\n\n            <a href="#" class="btnMore">View Detail</a>\n            \n        </div>\n\n        <div class="licDetail nodisplay">\n            <div class="code">\n\n                <h3>'+s(l(c(667)).call(d,"activation_code",{name:"L",hash:{},data:o,loc:{start:{line:16,column:20},end:{line:16,column:43}}}))+' </h3>\n                <input type="text" readonly="readonly"  value="'+s(r(null!=(a=null!=e?u(e,"licInfo"):e)?u(a,"companyCode"):a,e))+"|"+s(r(null!=(a=null!=e?u(e,"licInfo"):e)?u(a,"hostId"):a,e))+'" style="cursor:text" class="form-control" />\n            </div>\n            <div class="desc">\n\n                <h3>'+s(l(c(667)).call(d,"licence_key",{name:"L",hash:{},data:o,loc:{start:{line:21,column:20},end:{line:21,column:39}}}))+'</h3>\n                <textarea rows="5" class="form-control" name="licenceKey" placeholder="(paste your licence key here)" >'+s(r(null!=(a=null!=e?u(e,"licInfo"):e)?u(a,"licence"):a,e))+'</textarea>\n                <h3> <button class="btn btn-darkblue btnValidate" >'+s(l(c(667)).call(d,"validate",{name:"L",hash:{},data:o,loc:{start:{line:23,column:67},end:{line:23,column:83}}}))+'</button> </h3>\n\n                <div class="alert alert-danger lblInvalid nodisplay">'+s(l(c(667)).call(d,"licence_invalid",{name:"L",hash:{},data:o,loc:{start:{line:25,column:69},end:{line:25,column:92}}}))+'</div>\n                <div class="alert alert-success lblValid nodisplay">'+s(l(c(667)).call(d,"licence_ok_a",{name:"L",hash:{},data:o,loc:{start:{line:26,column:68},end:{line:26,column:88}}}))+' <a href="#" class="btnReload" style="color: #368ee0;">'+s(l(c(667)).call(d,"click_here",{name:"L",hash:{},data:o,loc:{start:{line:26,column:143},end:{line:26,column:161}}}))+"</a> "+s(l(c(667)).call(d,"login_again",{name:"L",hash:{},data:o,loc:{start:{line:26,column:166},end:{line:26,column:185}}}))+"</div>\n            </div>\n        </div>\n\n    </div>\n</div>"},useData:!0})},720:function(n,e,c){"use strict";(function(t){var l,i=c(678);void 0===(l=function(){return t.Model.extend({list:function(n){(0,i.send)("companies/?limit=1000&offset=0",null,null,n)},getCompany:function(n,e){(0,i.send)("companies/".concat(n,"/"),null,null,e)},update:function(n,e,c){(0,i.send)("companies/".concat(n,"/"),JSON.stringify(e),{type:"PUT",contentType:"application/json;charset=utf-8",dataType:"text"},c)},partialUpdate:function(n,e,c){(0,i.send)("companies/".concat(n,"/"),JSON.stringify(e),{type:"PATCH",contentType:"application/json;charset=utf-8",dataType:"text"},c)},create:function(n,e){(0,i.send)("companies/",n,{type:"POST"},e)},delete:function(n,e){(0,i.send)("companies/".concat(n,"/"),null,{type:"DELETE"},e)},preferences:function(n,e){(0,i.send)("companies/".concat(n,"/preferences/"),null,null,e)},saveCompanyPreference:function(n,e){var c=n.company,t=n.preference,l=n.definition;(0,i.send)("companyPreferences/",JSON.stringify({company:c,preference:t,definition:l}),{type:"POST",contentType:"application/json;charset=utf-8"},e)},updateCompanyPreference:function(n,e,c){var t=e.preference,l=e.definition;(0,i.send)("companyPreferences/".concat(n,"/"),JSON.stringify({id:n,preference:t,definition:l}),{type:"PUT",contentType:"application/json;charset=utf-8",dataType:"text"},c)},removeCompanyPreference:function(n,e){(0,i.send)("companyPreferences/".concat(n,"/"),null,{type:"DELETE"},e)},GetCompanyPreference:function(n,e){(0,i.send)("companies/preference_by_code/?code=".concat(n),null,{type:"GET"},e)},sendTestEmail:function(n,e){(0,i.send)("company/SendTestEmail",n,{type:"PUT"},e)},getLicenceKey:function(n,e){(0,i.send)("company/GetLK/"+n,null,null,e)},setLicenceKey:function(n,e){(0,i.send)("company/SetLK/",n,{type:"POST"},e)}})}.apply(e,[]))||(n.exports=l)}).call(this,c(219))}}]);