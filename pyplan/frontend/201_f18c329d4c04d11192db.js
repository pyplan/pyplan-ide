/*! Copyright Pyplan 2020. All rights reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[201,5],{1015:function(e,t,n){var l=n(690);function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(l.default||l).template({compiler:[8,">= 4.3.0"],main:function(e,t,l,i,r){var s=null!=t?t:e.nullContext||{},o=e.escapeExpression;return'<div class="filterview unselectable">\n  <div class="row filterRow">\n    <div class="col-xs-12">\n      <div class="input-group">\n        <div class="input-group-btn">\n          <button class="btn dropdown-toggle" data-toggle="dropdown">\n            <span class="actionselected" data-action="contains">'+o(a(n(688)).call(s,"contains",{name:"L",hash:{},data:r,loc:{start:{line:7,column:64},end:{line:7,column:80}}}))+'</span>\n            <span class="caret"></span>\n          </button>\n          <ul class="dropdown-menu actionselector">\n            <li>\n              <a href="#" data-rel="contains">'+o(a(n(688)).call(s,"contains",{name:"L",hash:{},data:r,loc:{start:{line:12,column:46},end:{line:12,column:62}}}))+'</a>\n            </li>\n            <li>\n              <a href="#" data-rel="notcontains">'+o(a(n(688)).call(s,"not_contain",{name:"L",hash:{},data:r,loc:{start:{line:15,column:49},end:{line:15,column:68}}}))+'</a>\n            </li>\n          </ul>\n        </div>\n        <input class="form-control filterText1" type="text" autofocus="true" />\n      </div>\n    </div>\n  </div>\n  <div class="row nomargin">\n    <div class="col-xs-6">\n      <div class="row">\n        <div class="col-xs-8">\n          <p class="listTitle">Available Items</p>\n        </div>\n        <div class="col-xs-4" style="text-align: right;">\n          <a href="#" class="btn btn-mini btn-lime selectAll">'+o(a(n(688)).call(s,"_all",{name:"L",hash:{},data:r,loc:{start:{line:30,column:62},end:{line:30,column:74}}}))+'</a>\n        </div>\n      </div>\n      <div class="filterlist">\n        <p class="loadingItems">'+o(a(n(688)).call(s,"loading",{name:"L",hash:{},data:r,loc:{start:{line:34,column:32},end:{line:34,column:47}}}))+'</p>\n        <ul class="items"></ul>\n      </div>\n    </div>\n    <div class="col-xs-6">\n      <div class="row">\n        <div class="col-xs-8">\n          <p class="listTitle">Selected Items</p>\n        </div>\n        <div class="col-xs-4" style="text-align: right;">\n          <a href="#" class="btn btn-mini btn-lime selectNone">'+o(a(n(688)).call(s,"_none",{name:"L",hash:{},data:r,loc:{start:{line:44,column:63},end:{line:44,column:76}}}))+'</a>\n        </div>\n      </div>\n      <div class="selectedList">\n        <p class="loadingItems">'+o(a(n(688)).call(s,"loading",{name:"L",hash:{},data:r,loc:{start:{line:48,column:32},end:{line:48,column:47}}}))+'</p>\n        <ul class="items"></ul>\n      </div>\n    </div>\n  </div>\n  <div class="row info form-group">\n    <div class="col-xs-12">\n      <div class="alert alert-warning">\n        <span class="truncated">'+o(a(n(688)).call(s,"truncated_list_to_the_first_1000_elements",{name:"L",hash:{},data:r,loc:{start:{line:64,column:32},end:{line:64,column:81}}}))+"</span>\n      </div>\n    </div>\n  </div>\n</div>\n"},useData:!0})},1016:function(e,t,n){var l=n(690);e.exports=(l.default||l).template({1:function(e,t,n,l,a){var i,r=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,o=e.escapeExpression;return'<li>\n    <span data-value="'+o("function"==typeof(i=null!=(i=n.value||(null!=t?t.value:t))?i:s)?i.call(r,{name:"value",hash:{},data:a,loc:{start:{line:3,column:22},end:{line:3,column:31}}}):i)+'">'+o("function"==typeof(i=null!=(i=n.formattedValue||(null!=t?t.formattedValue:t))?i:s)?i.call(r,{name:"formattedValue",hash:{},data:a,loc:{start:{line:3,column:33},end:{line:3,column:51}}}):i)+"</span>\n</li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,l,a){var i;return null!=(i=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.items:t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:5,column:9}}}))?i:""},useData:!0})},1109:function(e,t,n){"use strict";(function(l,a){var i,r,s=n(18);function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},l=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),l.forEach(function(t){c(e,t,n[t])})}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}i=[n(706),n(219),n(683),n(1015),n(1016)],void 0===(r=function(e,t,n,i,r){return l.View.extend({el:a("#n_o_n_e"),field:"",tagId:"",currentLevel:"",currentView:void 0,currentPage:1,maxPage:1,dataSet:[],selectedItems:[],$modal:null,indexFormatter:null,render:function(e,l,a,r,o,c){this.currentLevel=o,this.field=e,this.tagId=a,this.currentView=r,c&&(this.indexFormatter=new s.NovixFormatter(c)),this.currentLevel||(this.currentLevel=this.field);var u=this,d=i();(new n).show({title:l,html:d,modalClass:"filterviewModal",buttons:[{title:"OK",css:"primary",code:"ok"},{title:(0,s.translate)("cancel"),code:"cancel"}],callback:function(e,t){"ok"==e&&u.applyFilters()},onClose:function(e){u.removeView()},onLoad:function(e){u.$modal=e,(0,s.postRender)(e),u.addHandlers(e),(new t).getNodeProperties(String(u.currentLevel).split(",")[0],[{name:"numberFormat",value:""}],function(e){if(e&&e.properties&&e.properties.length>0){var t=e.properties[0].value;t&&!u.indexFormatter&&(u.indexFormatter=new s.NovixFormatter(t))}u.currentView&&(u.initializeSelectedFilters(),u.getData())})}})},getData:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=n.filter,i=void 0===l?null:l,s=n.text1,c=void 0===s?null:s,u=n.text2,d=void 0===u?null:u,v=this,m=this.currentPage,f=a("p.loadingItems"),p=a("u.items");p.hide(),f.show(),(new e).getIndexValues(o({id:this.currentLevel},m?{page:m}:null,i?{filter:i}:null,c?{text1:c}:null,d?{text2:d}:null),function(e){t.maxPage=e.count/e.results.length,t.$modal.find(".info").toggle(e.count>1e3),e.results.forEach(function(e){v.indexFormatter?e.formattedValue=v.indexFormatter.format(e.value):e.formattedValue=e.value});var n=t.selectedItems.map(function(e){return e.value});t.dataSet=e.results.filter(function(e){return!n.includes(e.value)}).sort(function(e,t){var n=e.value,l=t.value;return parseInt(n)&&parseInt(l)?n-l:n.localeCompare("".concat(l))});var l=a("div.filterlist ul");l.find("li").remove(),l.append(r({items:t.dataSet})),l.perfectScrollbar();var i=t.$modal.find("div.selectedList ul");i.find("li").remove(),i.append(r({items:t.selectedItems})),i.perfectScrollbar(),f.hide(),p.show(),setTimeout(function(){t.$modal.find("input.filterText1").focus()},500)},this.currentView.getTimeFrame())},removeView:function(){this.currentView=null,this.$modal.find("div.filterlist ul li").off("click"),this.$modal.find("div.selectedList ul li").off("click")},addHandlers:function(e){var t=this,n=this.$modal.find("div.selectedList ul"),l=a("div.filterlist ul"),i=e.find(".actionselected");e.find(".actionselector li a").on("click",function(e){e.preventDefault();var n=e.currentTarget.getAttribute("data-rel"),l=a(e.currentTarget).text();i.html(l).attr("title",l).attr("data-action",n),t.filterItems(n)});var s=null;e.find(".filterText1").on("keyup",function(){clearTimeout(s),s=setTimeout(function(){t.filterItems(i.attr("data-action"))},700)}),e.find(".selectAll").on("click",function(){return t.selectedItems=t.selectedItems.concat(t.dataSet),t.selectedItems.sort(function(e,t){return parseInt(e.value)&&parseInt(t.value)?e.value-t.value:e.value.localeCompare("".concat(t.value))}),n.find("li").remove(),n.append(r({items:t.selectedItems})),t.dataSet=[],l.find("li").remove(),!1}),e.find(".selectNone").on("click",function(){return t.dataSet=t.dataSet.concat(t.selectedItems),t.dataSet.sort(function(e,t){return parseInt(e.value)&&parseInt(t.value)?e.value-t.value:e.value.localeCompare("".concat(t.value))}),l.find("li").remove(),l.append(r({items:t.dataSet})),t.selectedItems=[],n.find("li").remove(),!1}),e.find("button.prev-page,.next-page").on("click",function(e){switch(e.preventDefault(),e.currentTarget.getAttribute("data-action")){case"prev":t.currentPage>1&&(t.currentPage-=1);break;case"next":t.currentPage<t.maxPage&&(t.currentPage+=1)}t.getData()}),l.on("click","li",function(e){e.preventDefault();var l=a(e.currentTarget),i=l.find("span")[0].getAttribute("data-value");l.remove();var s=t.dataSet.find(function(e){return e.value===i});t.dataSet=t.dataSet.filter(function(e){return e.value!==i}),t.selectedItems.push(s),t.selectedItems.sort(function(e,t){return parseInt(e.value)&&parseInt(t.value)?e.value-t.value:e.value.localeCompare("".concat(t.value))}),n.find("li").remove(),n.append(r({items:t.selectedItems}))}),n.on("click","li",function(e){e.preventDefault();var n=a(e.currentTarget),i=n.find("span")[0].getAttribute("data-value");n.remove();var s=t.selectedItems.find(function(e){return e.value===i});t.selectedItems=t.selectedItems.filter(function(e){return e.value!==i}),t.dataSet.push(s),t.dataSet.sort(function(e,t){return parseInt(e.value)&&parseInt(t.value)?e.value-t.value:e.value.localeCompare("".concat(t.value))}),l.find("li").remove(),l.append(r({items:t.dataSet}))})},filterItems:function(e){var t=this.$modal.find("input.filterText1").val().toLowerCase();this.currentPage=1,this.getData({filter:e,text1:t})},initializeSelectedFilters:function(){var e=this,t=a(this.el).data("filters");if(this.currentView){var n=this.currentView.getIndexByField(this.field);n&&(t=n.values)}this.selectedItems=t.map(function(t){return o({},t,{formattedValue:e.indexFormatter?e.indexFormatter.format(t.value):t.value})}).sort(function(e,t){return parseInt(e.value)&&parseInt(t.value)?e.value-t.value:e.value.localeCompare("".concat(t.value))})},applyFilters:function(){this.selectedItems=this.selectedItems.map(function(e){return o({},e,{selected:!0})}),this.currentView.model.onFilterChange(this.field,this.selectedItems,void 0,void 0,this.tagId)}})}.apply(t,i))||(e.exports=r)}).call(this,n(218),n(1))},683:function(e,t,n){"use strict";(function(l){var a;void 0===(a=function(){return l.Controller.extend({name:"showModal",show:function(e){Promise.all([n.e(2),n.e(117)]).then(function(){var t=[n(700)];(function(t){(new t).render(e)}).apply(null,t)}).catch(n.oe)}})}.apply(t,[]))||(e.exports=a)}).call(this,n(694))}}]);