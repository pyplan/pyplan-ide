/*! Copyright Pyplan 2020. All rights reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[204],{1831:function(t,e,n){var i=n(1832);"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(222)(i,a);i.locals&&(t.exports=i.locals)},1832:function(t,e,n){(t.exports=n(2)(!1)).push([t.i,".menuWidget .mm-navbar-bottom {\n  border-top: 0px solid transparent;\n  border-bottom: none;\n  top: auto;\n  bottom: 0;\n  height: 0;\n}\n.menuWidget .mm-menu > .mm-panel > .mm-listview {\n  margin: 10px 0px 0px 0px !important;\n}\n.menuWidget .iconWrapper {\n  text-align: center !important;\n}\n.menuWidget .mm-listview .mm-next.mm-fullsubopen + span {\n  padding-right: 20px;\n  margin-right: 0;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n}\n.menuWidget .mm-listview > li > span {\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n  color: inherit;\n  display: block;\n  padding: 10px 10px 10px 10px;\n  margin: 0;\n  width: 100%;\n  position: absolute;\n}\n.menuWidget .mm-listview > li.leftAlign > span {\n  text-align: left;\n}\n.menuWidget .mm-listview > li.centerAlign > span {\n  text-align: center;\n}\n.menuWidget .mm-listview > li.rightAlign > span {\n  text-align: right;\n}\n.menuWidget .mm-hasnavbar-bottom-1 .mm-panel {\n  bottom: 0;\n  height: auto;\n}\n.menuWidget ul {\n  width: 100%;\n}\n.menuWidget ul.leftAlign li {\n  float: left;\n  margin: 5px;\n}\n.menuWidget ul.centerAlign {\n  text-align: center;\n}\n.menuWidget ul.centerAlign li {\n  display: inline-block;\n  *display: inline;\n  *zoom: 1;\n  margin: 5px;\n}\n.menuWidget ul.rightAlign li {\n  float: right;\n  margin: 5px;\n}\n.menuWidget .mm-menu > .mm-panel:before,\n.menuWidget .mm-menu > .mm-panel:after {\n  height: 0;\n}\n.dd-dragel {\n  z-index: 999999;\n}\n.btnRemoveItem {\n  float: right;\n  padding: 3px 4px;\n  position: absolute;\n  top: 5px;\n  right: 5px;\n}\n.btnRemoveItem:hover {\n  background-color: #ccc;\n}\n.dd-handle.selected {\n  border-color: #4aaae3;\n  background-color: #f7fdff;\n}\n.btnEditItem {\n  float: right;\n  padding: 3px 4px;\n  position: absolute;\n  top: 5px;\n  right: 25px;\n}\n.btnEditItem:hover {\n  background-color: #ccc;\n}\n.dd-dragel {\n  z-index: 999999 !important;\n}\n",""])},1833:function(t,e,n){var i=n(690);t.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){return'<div class="menuWidget" style="width:100%;">\n  <nav style="height: auto;">\n\n  </nav>\n</div>'},useData:!0})},945:function(t,e,n){"use strict";(function(i){var a,r,o=n(18);n(1831),a=[n(844),n(720),n(701),n(1833)],void 0===(r=function(t,e,a,r){return e.extend({numberFormat:[],numberFormatter:[],blackLabels:!1,arrRows:[],arrDims:[],disabledColor:"#ccc",assignedDepartments:[],render:function(t){var e=this;i.isEmptyObject(this.currentResult.itemProperties)&&(this.currentResult.itemProperties.menuDefinition=[],this.currentResult.itemProperties.generalSettings={menuTitle:"Menu",menuTitleSize:"14px",menuTitleColor:"#cccccc",itemsPerRow:3,itemsAlign:"centerAlign",textAlign:"centerAlign",backgroundColor:"#7798bf",hoverBackgroundColor:"#7cb5ec",textColor:"#ffffff",titleSize:"22px",subtitleSize:"15px",titleMargin:"0px",subtitleMargin:"30px",itemsHeight:"20%",iconSize:"150px",iconColor:"#ffffff",iconMarginTop:"25%"}),(JSON.stringify(this.currentResult.itemProperties.menuDefinition).indexOf("hiddenDpts")>0?new Promise(function(t){n.e(23).then(function(){var e=[n(713)];(function(e){(new e).getUserCompany(__currentSession.userCompanyId,function(e){t(e.departments)})}).apply(null,e)}).catch(n.oe)}):new Promise(function(t){t([])})).then(function(n){n.forEach(function(t){e.assignedDepartments.push(t.toString())}),e.baseRender(t),e.drawItem(),e.addStyleHandlers(),e.updateSize()})},updateSize:function(t,e,n){i(this.tagId).find(".item-area").height(i(this.tagId).find(".item-area").parent().height()-25),i(this.tagId).find(".menuWidget").height(i(this.tagId).find(".item-area").height()),i(this.tagId).find("nav").height(i(this.tagId).find(".item-area").height()-2)},baseUpdateSize:function(){i(this.tagId).find(".item-area").height(i(this.tagId).find(".item-area").parent().height()-25),i(this.tagId).find(".menuWidget").height(i(this.tagId).find(".item-area").height()),i(this.tagId).find("nav").height(i(this.tagId).find(".item-area").height()-2)},drawItem:function(){var t=this,e=this.currentResult.itemProperties.generalSettings.itemsAlign,n="<ul class='".concat(e,"'>");i.each(this.currentResult.itemProperties.menuDefinition,function(e,i){n+=t.buildItem(i)}),n+="</ul>";var a=r();i(this.tagId).find(".item-area").html(a),i(this.tagId).find(".btnMenu").hide(),i(this.tagId).find(".item-area").addClass("fullSize"),i(this.tagId).find(".menuWidget nav").html(n),i(this.tagId).find(".menuWidget nav").mmenu({offCanvas:!1,extensions:["theme-white"],navbars:[{position:"bottom",content:["breadcrumb"]}],onClick:{setSelected:!1}}),i(this.tagId).find(".mm-title").first().html(this.currentResult.itemProperties.generalSettings.menuTitle),i(this.tagId).find(".mm-title").css("font-size",this.currentResult.itemProperties.generalSettings.menuTitleSize),i(this.tagId).find(".mm-title").css("color",this.currentResult.itemProperties.generalSettings.menuTitleColor),this.updateSize(),this.addActionHandlers()},buildItem:function(t){var e=this,n="";if(!(!!t.hiddenDpts&&this.assignedDepartments.some(function(e){return t.hiddenDpts.toString().split(",").indexOf(e)>=0}))){var a=this.currentResult.itemProperties.generalSettings,r=a.itemsPerRow,o=a.itemsAlign,s=a.textColor,l=a.titleSize,d=a.titleMargin,c=a.subtitleMargin,u=a.subtitleSize,m=a.textAlign,g=a.iconColor,h=a.iconSize,p=a.iconMarginTop,f=90/r,b="noAction"==t.action?this.disabledColor:this.currentResult.itemProperties.generalSettings.backgroundColor;n="<li class='"+m+"'style='width:"+f+"%;padding-bottom:"+f+"%;background-color:"+b+";color:"+s+";font-size:"+l+";'data-id='"+t.id+"'data-title='"+t.title+"'data-subtitle='"+t.subtitle+"'data-icon='"+t.icon+"'data-action='"+t.action+"'data-dash-id='"+t.dashId+"'data-tasklog-id='"+t.tasklogId+"'data-url='"+t.url+"'data-tasklog-has-params='"+t.tasklogHasParams+"'data-blank-target='"+t.blankTarget+"'><span style='top:"+d+";'>"+t.title+"</span><span style='font-size:"+u+"; padding-top:"+c+"'>"+t.subtitle+"</span><span class='iconWrapper'><i class='"+t.icon+"' style='color:"+g+"; font-size:"+h+"; margin-top:"+p+";'></i></span>",t.children&&(n+="<ul style='width:100%;' class='"+o+"'>",i.each(t.children,function(t,i){n+=e.buildItem(i)}),n+="</ul>"),n+="</li>"}return n},addStyleHandlers:function(){var t=this;i(this.tagId).on("mouseover",".mm-listview li",function(){var e="noAction"==i(this).attr("data-action")?t.disabledColor:t.currentResult.itemProperties.generalSettings.hoverBackgroundColor;i(this).css("background-color",e)}),i(this.tagId).on("mouseout",".mm-listview li",function(){var e="noAction"==i(this).attr("data-action")?t.disabledColor:t.currentResult.itemProperties.generalSettings.backgroundColor;i(this).css("background-color",e)})},addActionHandlers:function(){i(this.tagId).find(".menuWidget li").on("click",function(){var t=i(this),e=t.attr("data-action"),a=t.attr("data-dash-id"),r=t.attr("data-url");switch(e){case"openDash":var s=!1;"true"===i(this).attr("data-blank-target")&&(s=!0),s||i(".tabs-area .dash-tabs li a.active").closest("li").find("i.fa.fa-close").click(),Promise.resolve().then(function(){var t=[n(701)];(function(t){(new t).showDashboard(a,null,"",!1,!0,null,null)}).apply(null,t)}).catch(n.oe);break;case"openTaskLog":var l={periodic_task_id:t.attr("data-tasklog-id"),scheduleSubTask:null,scheduleTaskSessionId:0,hasParam:!!t.attr("data-tasklog-has-params"),headerInfo:{}};n.e(28).then(function(){var t=[n(742)];(function(t){(new t).showTaskLogs(l)}).apply(null,t)}).catch(n.oe);break;case"openDiagram":Promise.resolve().then(function(){var t=[n(684)];(function(t){(new t).addTask("influence_diagram",(0,o.translate)("model"))}).apply(null,t)}).catch(n.oe);break;case"openFileManager":Promise.resolve().then(function(){var t=[n(684)];(function(t){(new t).addTask("file-manager2",(0,o.translate)("file_manager"))}).apply(null,t)}).catch(n.oe);break;case"openUrl":var d="true"===i(this).attr("data-blank-target")?"_blank":"_self",c=["http://","https://"].find(function(t){return r.indexOf(t)>-1});r=c?r:"http://".concat(r),window.open(r,d)}})},onRemoveItemView:function(){i(this.tagId).find(".item-area .colorpick").spectrum("destroy")},getOptionsMenu:function(){var t=this;return{callback:function(e){switch(e){case"_full":t.fullScreen()}},items:{_full:{type:"icon_text",name:(0,o.translate)("fullscreen"),iconClass:"fa fa-expand"}}}}})}.apply(e,a))||(t.exports=r)}).call(this,n(1))}}]);