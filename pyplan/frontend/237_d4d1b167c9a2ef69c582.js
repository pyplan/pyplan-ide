/*! Copyright Pyplan 2020. All rights reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[237],{1977:function(a,e,n){"use strict";(function(t,l){var c,i,o=n(18),d=n(855);c=[n(219),n(1978),n(1979)],void 0===(i=function(a,e,n){return t.View.extend({el:l("#main"),render:function(){var n=this;this.$el.append(e({title:this.options.title,max_height:"".concat(l(window).height()-200,"px")}));var t=l("#wizardDataframeGroupby"),c=t.find(".modal-footer .btnSave");t.on("hidden.bs.modal",function(){t.off("hidden.bs.modal"),t.remove()}).modal("show"),t.on("ifToggled",'input[data-action="group"]',function(a){var e=l(a.currentTarget).closest("tr").find('input[data-action!="group"]');l(a.currentTarget).is(":checked")?(e.iCheck("disable"),e.iCheck("uncheck")):e.iCheck("enable")}),t.on("ifToggled",'input[data-action!="group"]',function(a){var e=l(a.currentTarget).closest("tr").find('input[data-action="group"]');l(a.currentTarget).is(":checked")?(e.iCheck("disable"),e.iCheck("uncheck")):e.iCheck("enable")}),c.on("click",function(){var e=l("#wizardDataframeGroupby .optList input[type=checkbox]:checked"),c=n.options.confirm.params,i=c.columns,d=c.agg,s=!1;e.each(function(a,e){var n=l(e),t=n.attr("data-action"),c=n.val();"group"==t?i.push(c):(s=!0,d[c]||(d[c]=[]),d[c].push(t))}),s?(new a).callWizard(n.options.confirm,function(){t.modal("hide"),n.options.callback()}):(0,o.showMessage)((0,o.translate)("must_select_aggregation"))}),this.getData()},getData:function(){var e=l("#wizardDataframeGroupby .optList"),t=l("#wizardDataframeGroupby .optList tbody");(new a).callWizard(this.options.bodyParams,function(a){a.forEach(function(a){var e=a.field,l=a.type,c=a.dtype;t.append(n({field:e,dtype:c,checked:l===d.TYPES.INDEX}))}),(0,o.postRender)(t),e.show()})}})}.apply(e,c))||(a.exports=i)}).call(this,n(218),n(1))},1978:function(a,e,n){var t=n(690);function l(a){return a&&(a.__esModule?a.default:a)}a.exports=(t.default||t).template({compiler:[7,">= 4.0.0"],main:function(a,e,t,c,i){var o=a.lambda,d=a.escapeExpression,s=null!=e?e:a.nullContext||{};return"<div id='wizardDataframeGroupby' class='modal fade' tabindex='-1' role='dialog' aria-labelledby='Wizard'\n  aria-hidden='true'>\n  <div class='modal-dialog'>\n    <div class='modal-content'>\n      <div class='modal-header'>\n        <button type='button' class='close' data-dismiss='modal' aria-hidden='true'>x</button>\n        <h4>"+d(o(null!=e?e.title:e,e))+"</h4>\n      </div>\n      <div class='modal-body nopadding' style=\"max-height:"+d(o(null!=e?e.max_height:e,e))+"\">\n        <div class='nodisplay optList'>\n          <table class='table table-nomargin'>\n            <thead>\n              <tr>\n                <th rowspan=\"2\">"+d(l(n(688)).call(s,"column",{name:"L",hash:{},data:i}))+'</th>\n                <th rowspan="2">'+d(l(n(688)).call(s,"_type",{name:"L",hash:{},data:i}))+'</th>\n                <th rowspan="2" class="centered group-by">'+d(l(n(688)).call(s,"group_by",{name:"L",hash:{},data:i}))+'</th>\n                <th class="centered" colspan="4">'+d(l(n(688)).call(s,"aggregate",{name:"L",hash:{},data:i}))+"</th>\n              </tr>\n              <tr>\n                <th class=\"centered selectable\">Sum</th>\n                <th class=\"centered selectable\">Max</th>\n                <th class=\"centered selectable\">Min</th>\n                <th class=\"centered selectable\">Mean</th>\n              </tr>\n            </thead>\n            <tbody>\n            </tbody>\n          </table>\n        </div>\n      </div>\n      <div class='modal-footer'>\n        <button type='button' class='btn btn-default' data-dismiss='modal'>Cancel</button>\n        <button type='button' class='btn btn-primary btnSave'>Ok</button>\n      </div>\n    </div>\n  </div>\n</div>"},useData:!0})},1979:function(a,e,n){var t=n(690);function l(a){return a&&(a.__esModule?a.default:a)}a.exports=(t.default||t).template({1:function(a,e,n,t,l){return" checked "},3:function(a,e,n,t,l){return"    <input type='checkbox' class='icheck-me' data-skin='square' data-color='blue' value='"+a.escapeExpression(a.lambda(null!=e?e.field:e,e))+"' data-action='sum' />\n"},5:function(a,e,n,t,l){return"    <input type='checkbox' class='icheck-me' data-skin='square' data-color='blue' value='"+a.escapeExpression(a.lambda(null!=e?e.field:e,e))+"' data-action='max' />\n"},7:function(a,e,n,t,l){return"    <input type='checkbox' class='icheck-me' data-skin='square' data-color='blue' value='"+a.escapeExpression(a.lambda(null!=e?e.field:e,e))+"' data-action='min' />\n"},9:function(a,e,n,t,l){return"    <input type='checkbox' class='icheck-me' data-skin='square' data-color='blue' value='"+a.escapeExpression(a.lambda(null!=e?e.field:e,e))+"'\n      data-action='mean' />\n"},compiler:[7,">= 4.0.0"],main:function(a,e,t,c,i){var o,d=a.lambda,s=a.escapeExpression,r=null!=e?e:a.nullContext||{};return"<tr>\n  <td>\n    <span>"+s(d(null!=e?e.field:e,e))+"</span>\n  </td>\n  <td>"+s(d(null!=e?e.dtype:e,e))+"</td>\n  <td class=\"centered selectable group-by\">\n    <input type='checkbox' class='icheck-me' data-skin='square' data-color='blue' "+(null!=(o=t.if.call(r,null!=e?e.checked:e,{name:"if",hash:{},fn:a.program(1,i,0),inverse:a.noop,data:i}))?o:"")+"\n      value='"+s(d(null!=e?e.field:e,e))+"' data-action='group' />\n  </td>\n  <td class=\"centered selectable with-calc\">\n"+(null!=(o=l(n(689)).call(r,null!=e?e.dtype:e,"==","numeric",{name:"ifCond",hash:{},fn:a.program(3,i,0),inverse:a.noop,data:i}))?o:"")+'  </td>\n  <td class="centered selectable with-calc">\n'+(null!=(o=l(n(689)).call(r,null!=e?e.dtype:e,"==","numeric",{name:"ifCond",hash:{},fn:a.program(5,i,0),inverse:a.noop,data:i}))?o:"")+'  </td>\n  <td class="centered selectable with-calc">\n'+(null!=(o=l(n(689)).call(r,null!=e?e.dtype:e,"==","numeric",{name:"ifCond",hash:{},fn:a.program(7,i,0),inverse:a.noop,data:i}))?o:"")+'  </td>\n  <td class="centered selectable with-calc">\n'+(null!=(o=l(n(689)).call(r,null!=e?e.dtype:e,"==","numeric",{name:"ifCond",hash:{},fn:a.program(9,i,0),inverse:a.noop,data:i}))?o:"")+"  </td>\n</tr>"},useData:!0})},855:function(a,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TYPES=e.DTYPES=void 0;e.DTYPES={STRING:"string",NUMERIC:"numeric",BOOLEAN:"boolean",DATE:"date",OBJECT:"object",VOID:"void"};e.TYPES={INDEX:"index",COLUMN:"column"}}}]);