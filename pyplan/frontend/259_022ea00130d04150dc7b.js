/*! Copyright Pyplan 2020. All rights reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[259],{1062:function(t,e,n){"use strict";(function(a,o){var i,l,s,r=(s=n(914))&&s.__esModule?s:{default:s};i=[n(1239)],void 0===(l=function(t){return a.View.extend({el:o("#main"),hotInstance:null,result:null,render:function(){var e=this,n=o("#wizardPandasIndex");n&&n.remove(),this.$el.append(t({title:this.options.title,max_height:"".concat(o(window).height()-200,"px")}));var a=o("#wizardPandasIndex"),i=a.find(".modal-footer .btnSave");a.on("hidden.bs.modal",(function(){a.off("hidden.bs.modal"),a.remove()})).modal("show"),i.on("click",(function(){a.modal("hide"),e.options.callback(e.result)})),this.instanceTableMode()},splitItems:function(t){var e,n,a=[],o="",i="";if(t.length>0){for(var l=0;l<t.length;l++)"'"!==(e=t.charAt(l))&&'"'!==e||(n?i===e&&(n=!1):(n=!0,i=e)),","!=e||n||(e="|-##SEP##-|",i=""),o+=e;a=o.split("|-##SEP##-|")}return a},resize:function(){},getDataForTable:function(){var t=this.options.definition;if(t&&t){var e=t.split(new RegExp("\\[(.*)\\]"))[1];return e||[]}return[]},updatePropertiesOnHandsonChange:function(t){var e=t.getData(),n=e.length-1;null!==e[n][0]&&""!==e[n][0]||e.splice(n,1),this.result="result = pd.Index(["+e+"])"},optimizeDataSource:function(t){for(var e,n,a=[],o=this.splitItems(t),i=0;i<o.length;i++)o[i]=o[i].trim(),n=new Object,e=(e=(1254316*Math.random()).toString()).substring(0,e.indexOf(".")),n.val=o[i],a.push(n);return a},instanceTableMode:function(){var t=this;this.hotInstance&&(this.hotInstance.destroy(),this.hotInstance=null);var e=this.$el.find(".tableDef"),n=this.getDataForTable(),a=n?this.optimizeDataSource(n):n;this.hotInstance=new r.default(e.get(0),{data:a,colWidths:[520],height:300,manualColumnResize:!0,rowHeaders:!0,colHeaders:["List"],minSpareRows:1,maxCols:1,readOnly:this.options.onBrowserMode,afterRemoveRow:function(e,n){t.updatePropertiesOnHandsonChange(this)},afterCreateRow:function(t,e){var n=this;setTimeout((function(){n.getDataAtCell(t,0)||n.countRows()-1===t||(n.selectCell(t,0),n.getActiveEditor().beginEditing())}),200)},beforeChange:function(t,e){for(var n,a,i=0;i<t.length;i++){var l;if(!o.isNumeric(t[i][3]))n=(l=t[i][3]).charAt(0),a=l.charAt(l.length-1),'"'!==n&&'"'!==a&&"'"!==n&&"'"!==a&&(t[i][3]="'"+t[i][3]+"'")}},afterChange:function(e,n){if("loadData"!==n){for(var a=0;a<e.length;a++)""===e[a][3]&&this.alter("remove_row",e[a][0],1,!1);t.updatePropertiesOnHandsonChange(this)}}});var i=this.options.onBrowserMode;this.hotInstance.updateSettings({contextMenu:!i&&["row_above","row_below","remove_row"]},i)}})}.apply(e,i))||(t.exports=l)}).call(this,n(220),n(1))},1239:function(t,e,n){var a=n(681);t.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,a,o){var i,l=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,r=t.escapeExpression,d=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<div id='wizardPandasIndex' class='modal fade nodeWizardDialog' tabindex='-1' role='dialog' aria-labelledby='Wizard'\n  aria-hidden='true'>\n  <div class='modal-dialog'>\n    <div class='modal-content'>\n      <div class='modal-header'>\n        <button type='button' class='close' data-dismiss='modal' aria-hidden='true'>x</button>\n        <h4>"+r("function"==typeof(i=null!=(i=d(n,"title")||(null!=e?d(e,"title"):e))?i:s)?i.call(l,{name:"title",hash:{},data:o,loc:{start:{line:7,column:12},end:{line:7,column:21}}}):i)+"</h4>\n      </div>\n      <div class='modal-body' style=\"max-height:"+r("function"==typeof(i=null!=(i=d(n,"max_height")||(null!=e?d(e,"max_height"):e))?i:s)?i.call(l,{name:"max_height",hash:{},data:o,loc:{start:{line:9,column:48},end:{line:9,column:62}}}):i)+"\">\n        <div class='handsonWrapper tableDef' style='overflow: auto;'>\n        </div>\n      </div>\n      <div class='modal-footer'>\n        <button type='button' class='btn btn-default' data-dismiss='modal'>Cancel</button>\n        <button type='button' class='btn btn-primary btnSave'>Ok</button>\n      </div>\n    </div>\n  </div>\n</div>"},useData:!0})}}]);