/*! Copyright Pyplan 2020. All rights reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[260],{1057:function(n,a,e){"use strict";(function(l,i){var t,d;e(18);t=[e(220),e(1245)],void 0===(d=function(n,a){return l.View.extend({el:i("#main"),render:function(){var e=this;this.options.nodeData&&(this.options.nodeId=this.options.nodeData.identifier),this.$el.append(a());var l=i("#wizardInputTable"),t=l.find(".modal-footer .btnSave");l.on("hidden.bs.modal",(function(){l.off("hidden.bs.modal"),l.remove()})).modal("show"),t.on("click",(function(){var a=l.find(".defaultValue").val(),t=[];l.find("div.selectedList ul").find("li").each((function(n,a){t.push(i(a).find("span").attr("data-id"))})),(new n).callWizard({wizard:"InputTable",action:"generateDefinition",params:{node_indexes:t,default_value:a,nodeId:e.options.nodeId}},(function(n){l.modal("hide"),i("a.btnTabWizard").trigger("click"),i("#nodePropertiesDock").trigger("refreshNodeDefinition",[e.options.nodeId,!0])}))})),this.getData(l),this.addHandlers(l)},getData:function(a){var e=new n,l=a.find("p.loadingItems");e.callWizard({wizard:"InputTable",action:"getNodeSchema",params:{nodeId:this.options.nodeId}},(function(n){a.find(".defaultValue").val(n.default_value);var e=a.find("div.filterlist ul");e.find("li").remove(),n.model_indexes.forEach((function(n){i('<li><span data-id="'.concat(n.id,'">').concat(n.title," (").concat(n.id,")</span></li>")).appendTo(e)})),e.perfectScrollbar();var t=a.find("div.selectedList ul");n.node_indexes.forEach((function(n){i('<li><span data-id="'.concat(n.id,'">').concat(n.title," (").concat(n.id,")</span></li>")).appendTo(t)})),t.perfectScrollbar(),l.remove()}))},addHandlers:function(n){var a=this,e=n.find("div.filterlist ul"),l=n.find("div.selectedList ul"),t=n.find(".searchValue");e.on("click","li",(function(n){n.preventDefault(),i(n.currentTarget).remove().appendTo(l)})),l.on("click","li",(function(l){l.preventDefault(),i(l.currentTarget).remove().appendTo(e);var t=e.find("li");t.detach().sort((function(n,a){return i(n).find("span").attr("data-id")>i(a).find("span").attr("data-id")?1:-1})),e.append(t),a.applyIndexSearch(n)})),t.on("input",(function(){l.scrollTop=0,a.applyIndexSearch(n)}))},applyIndexSearch:function(n){var a=n.find("div.filterlist ul"),e=String(n.find(".searchValue").val()).toLowerCase();a.find("li").show(),e&&a.find("li").each((function(n,a){i(a).find("span").text().includes(e)||i(a).hide()}))}})}.apply(a,t))||(n.exports=d)}).call(this,e(219),e(1))},1245:function(n,a,e){var l=e(669);function i(n){return n&&(n.__esModule?n.default:n)}n.exports=(l.default||l).template({compiler:[8,">= 4.3.0"],main:function(n,a,l,t,d){var o=null!=a?a:n.nullContext||{},s=n.escapeExpression;return"<div id='wizardInputTable' class='modal fade' tabindex='-1' role='dialog' aria-labelledby='Wizard' aria-hidden='true'>\n  <div class='modal-dialog'>\n    <div class='modal-content'>\n      <div class='modal-header'>\n        <button type='button' class='close' data-dismiss='modal' aria-hidden='true'>x</button>\n        <h4>"+s(i(e(667)).call(o,"wizard_inputtable_title",{name:"L",hash:{},data:d,loc:{start:{line:6,column:12},end:{line:6,column:43}}}))+'</h4>\n      </div>\n      <div class=\'modal-body filterview unselectable\'>\n\n        <div class="row filterRow">\n          <div class="col-xs-6">\n            <div class="input-group">\n              <span class="input-group-addon">'+s(i(e(667)).call(o,"quick_search_index",{name:"L",hash:{},data:d,loc:{start:{line:13,column:46},end:{line:13,column:72}}}))+'</span>\n              <input class="form-control searchValue" type="text" autocomplete="off" />\n            </div>\n          </div>\n\n          <div class="col-xs-6">\n            <div class="input-group">\n              <span class="input-group-addon">'+s(i(e(667)).call(o,"_default_value",{name:"L",hash:{},data:d,loc:{start:{line:20,column:46},end:{line:20,column:68}}}))+'</span>\n              <input class="form-control defaultValue" type="text" placeholder="'+s(i(e(667)).call(o,"inputtable_default_value",{name:"L",hash:{},data:d,loc:{start:{line:21,column:80},end:{line:21,column:112}}}))+'" />\n            </div>\n          </div>\n        </div>\n\n        <div class="row nomargin">\n          <div class="col-xs-6">\n            <div class="row">\n              <div class="col-xs-12">\n                <p class="listTitle">'+s(i(e(667)).call(o,"available_indexes",{name:"L",hash:{},data:d,loc:{start:{line:30,column:37},end:{line:30,column:62}}}))+'</p>\n              </div>\n            </div>\n            <div class="filterlist">\n              <p class="loadingItems">'+s(i(e(667)).call(o,"loading",{name:"L",hash:{},data:d,loc:{start:{line:34,column:38},end:{line:34,column:53}}}))+'</p>\n              <ul class="items"></ul>\n            </div>\n          </div>\n          <div class="col-xs-6">\n            <div class="row">\n              <div class="col-xs-12">\n                <p class="listTitle">'+s(i(e(667)).call(o,"selected_indexes",{name:"L",hash:{},data:d,loc:{start:{line:41,column:37},end:{line:41,column:61}}}))+'</p>\n              </div>\n            </div>\n            <div class="selectedList">\n              <p class="loadingItems">'+s(i(e(667)).call(o,"loading",{name:"L",hash:{},data:d,loc:{start:{line:45,column:38},end:{line:45,column:53}}}))+"</p>\n              <ul class=\"items\"></ul>\n            </div>\n          </div>\n        </div>\n\n      </div>\n      <div class='modal-footer'>\n        <button type='button' class='btn btn-default' data-dismiss='modal'>"+s(i(e(667)).call(o,"cancel",{name:"L",hash:{},data:d,loc:{start:{line:53,column:75},end:{line:53,column:89}}}))+"</button>\n        <button type='button' class='btn btn-primary btnSave'>"+s(i(e(667)).call(o,"_create",{name:"L",hash:{},data:d,loc:{start:{line:54,column:62},end:{line:54,column:77}}}))+"</button>\n      </div>\n    </div>\n  </div>\n</div>"},useData:!0})}}]);