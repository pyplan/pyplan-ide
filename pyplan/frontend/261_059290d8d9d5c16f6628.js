/*! Copyright Pyplan 2020. All rights reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[261],{1062:function(t,n,e){"use strict";(function(a,o){var i,s,l,r=(l=e(871))&&l.__esModule?l:{default:l};i=[e(1255)],void 0===(s=function(t){return a.View.extend({el:o("#main"),hotInstance:null,result:null,render:function(){var n=this,e=o("#wizardPandasIndex");e&&e.remove(),this.$el.append(t({title:this.options.title,max_height:"".concat(o(window).height()-200,"px")}));var a=o("#wizardPandasIndex"),i=a.find(".modal-footer .btnSave");a.on("hidden.bs.modal",(function(){a.off("hidden.bs.modal"),a.remove()})).modal("show"),i.on("click",(function(){n.updatePropertiesOnHandsonChange(n.hotInstance),a.modal("hide"),n.options.callback(n.result)})),this.instanceTableMode()},splitItems:function(t){var n,e,a=[],o="",i="";if(t.length>0){for(var s=0;s<t.length;s++)"'"!==(n=t.charAt(s))&&'"'!==n||(e?i===n&&(e=!1):(e=!0,i=n)),","!=n||e||(n="|-##SEP##-|",i=""),o+=n;a=o.split("|-##SEP##-|")}return a},resize:function(){},getDataForTable:function(){var t=this.options.definition;if(t&&t){var n=t.split(new RegExp("\\[(.*)\\]"))[1];return n||[]}return[]},updatePropertiesOnHandsonChange:function(t){var n=t.getData(),e=n.length-1;null!==n[e][0]&&""!==n[e][0]||n.splice(e,1),this.result="result = pd.Index(["+n+"])"},optimizeDataSource:function(t){for(var n,e,a=[],o=this.splitItems(t),i=0;i<o.length;i++)o[i]=o[i].trim(),e=new Object,n=(n=(1254316*Math.random()).toString()).substring(0,n.indexOf(".")),e.val=o[i],e.readOnly=!0,a.push(e);return a},instanceTableMode:function(){var t=this;this.hotInstance&&(this.hotInstance.destroy(),this.hotInstance=null);var n=this.$el.find(".tableDef"),e=this.getDataForTable(),a=e?this.optimizeDataSource(e):e;this.hotInstance=new r.default(n.get(0),{data:a,colWidths:[520],height:300,manualColumnResize:!0,rowHeaders:!0,colHeaders:["List"],minSpareRows:1,maxCols:1,manualRowMove:!0,readOnly:this.options.onBrowserMode,cells:function(t,n,e){return{readOnly:t!=this.instance.countRows()-1&&this.instance.getDataAtRowProp(t,"readOnly")}},beforeRowMove:function(n,e){if(e==t.hotInstance.countRows())return!1},afterRemoveRow:function(n,e){t.updatePropertiesOnHandsonChange(this)},afterCreateRow:function(t,n){var e=this;setTimeout((function(){e.getDataAtCell(t,0)||e.countRows()-1===t||(e.selectCell(t,0),e.getActiveEditor().beginEditing())}),200)},beforeChange:function(t,n){for(var e,a,i=0;i<t.length;i++){var s;if(!o.isNumeric(t[i][3]))e=(s=t[i][3]).charAt(0),a=s.charAt(s.length-1),'"'!==e&&'"'!==a&&"'"!==e&&"'"!==a&&(t[i][3]="'"+t[i][3]+"'")}},afterChange:function(n,e){if("loadData"!==e){for(var a=0;a<n.length;a++)""===n[a][3]&&this.alter("remove_row",n[a][0],1,!1);t.updatePropertiesOnHandsonChange(this)}}});var i=this.options.onBrowserMode;this.hotInstance.updateSettings({contextMenu:!i&&["row_above","row_below","remove_row"]},i)}})}.apply(n,i))||(t.exports=s)}).call(this,e(219),e(1))},1255:function(t,n,e){var a=e(669);function o(t){return t&&(t.__esModule?t.default:t)}t.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(t,n,a,i,s){var l=t.lambda,r=t.escapeExpression,d=null!=n?n:t.nullContext||{},u=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return"<div id='wizardPandasIndex' class='modal fade nodeWizardDialog' tabindex='-1' role='dialog' aria-labelledby='Wizard'\n  aria-hidden='true'>\n  <div class='modal-dialog'>\n    <div class='modal-content'>\n      <div class='modal-header'>\n        <button type='button' class='close' data-dismiss='modal' aria-hidden='true'>x</button>\n        <h4>"+r(l(null!=n?u(n,"title"):n,n))+"</h4>\n      </div>\n      <div class='modal-body' style=\"max-height:"+r(l(null!=n?u(n,"max_height"):n,n))+"\">\n        <div class='handsonWrapper tableDef' style='overflow: auto;'>\n        </div>\n      </div>\n      <div class='modal-footer'>\n        <button type='button' class='btn btn-default' data-dismiss='modal'>"+r(o(e(667)).call(d,"cancel",{name:"L",hash:{},data:s,loc:{start:{line:14,column:75},end:{line:14,column:89}}}))+"</button>\n        <button type='button' class='btn btn-primary btnSave'>"+r(o(e(667)).call(d,"_save",{name:"L",hash:{},data:s,loc:{start:{line:15,column:62},end:{line:15,column:75}}}))+"</button>\n      </div>\n    </div>\n  </div>\n</div>"},useData:!0})}}]);