/*! Copyright Pyplan 2020. All rights reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[283],{2127:function(e,n,t){"use strict";(function(a,i){var o,r,d=t(18);t(2128),o=[t(219),t(756),t(2130)],void 0===(r=function(e,n,o){return a.View.extend({$el:null,currentNodeId:"",diagram:void 0,dic:{},currentNode:null,fromWindowResize:!1,render:function(){var e=this,n=o();i("#nodeWizardTab").append(n),this.$el=i(".nodeWizardTab"),e.createEditor(),e.dockedWindowWidth=i(".mainTask.influence-diagram .dockInfluenceDiagramProperty").width();e.maxCodeWidth=70*e.dockedWindowWidth/100,i(".codeArea").resizable({minWidth:200,maxWidth:e.maxCodeWidth,handles:"e",create:function(n,t){i("#nodeWizardEval").width(e.dockedWindowWidth-e.maxCodeWidth-12),e.$el.find(".resultArea").width(e.dockedWindowWidth-e.maxCodeWidth-12)},resize:function(n,t){i("#nodeWizardEval").width(e.dockedWindowWidth-e.$el.find(".codeArea").width()-12),e.$el.find(".resultArea").width(e.dockedWindowWidth-e.$el.find(".codeArea").width()-12)},stop:function(n,t){i("#nodeWizardEval").width(e.dockedWindowWidth-e.$el.find(".codeArea").width()-12),e.$el.find(".resultArea").width(e.dockedWindowWidth-e.$el.find(".codeArea").width()-12),i.cookie("resultAreaWidth",e.dockedWindowWidth-e.$el.find(".codeArea").width()-12,{expires:365})}}),(0,d.isIE)()&&(i(".mainTask.influence-diagram").off("diagramClick"),i(".mainTask.influence-diagram").on("diagramClick",function(n){var t=ace.edit("nodeWizardDef");if(t&&e.nodeData&&e.currentValue){var a=t.getValue();if(e.currentValue!==a&&null!==a&&a){var o=i(".nodeWizardDef").attr("data-rel");e.updateNodePropertyNew(e.nodeData,o,a)}}})),i.isEmptyObject(e.options.dic)?i(".moreChangesContainer").hide():i(".moreChangesContainer").show(),i(".dropdownPending").perfectScrollbar(),this.$el.on("updateNodeId",function(n,t){e.nodeFullData.id=t}),this.$el.on("clickNode",function(n,t){var a=t.nodeFullData,o=t.nodeProperties,r=t.forcePreview,d=t.isDecision;e.$el.find(".save, .cancel").attr("disabled",!0),e.nodeFullData=a,e.currentNode=o;var s="true"===e.getNodeProperty(o.properties,"isCalc").value.toLowerCase();!0===d&&delete e.options.dic[e.currentNode.node];var l=function(){return e.previewNode(r)};e.options.dic[e.currentNode.node]?(e.populateData(e.options.dic[e.currentNode.node],l),i(".btnsConfirmChanges").show(),i('.btn[data-action="run"]').addClass("btn-warning").removeClass("btn-info"),i(".resultPreview").css("color","#999"),i(".moreChangesContainer").show(),i(".btnDataFrame").hide(),i("body").trigger("pendingChanges",[!0])):(e.populateData(e.currentNode,l),i(".btnsConfirmChanges").hide(),i.isEmptyObject(e.options.dic)&&i(".moreChangesContainer").hide()),s?(i('.btn[data-action="run"]').addClass("btn-info").removeClass("btn-warning"),i(".resultPreview").css("color","inherit")):(i('.btn[data-action="run"]').addClass("btn-warning").removeClass("btn-info"),i(".resultPreview").css("color","#999"))}),this.$el.on("deleteSelectedNodes",function(n,t){i.each(t,function(n,t){delete e.options.dic[t]}),i.isEmptyObject(e.options.dic)&&i(".moreChangesContainer").hide()}),i(".mainTask.influence-diagram").on("addNodeToWizardDefinition",function(n,t){if(i(".nodeWizardTab").is(":visible")){var a=ace.edit("nodeWizardDef");a&&(a.insert(t),e.updateNodePropertyNew(e.nodeData,"definition",a.getValue()))}}),this.$el.on("updateSizes",function(n,t){e.fromWindowResize=!1,e.updateSizes()}),i(window).on("resize",function(){event.target==window&&"resize"==event.type&&(e.fromWindowResize=!0,e.updateSizes(event,{tipo:"windowResize"}))}),this.updateSizes(),this.addHandlers()},previewNode:function(n){var t=this,a=i("#nodeWizardEval"),o=this.nodeData.node,r=a.find(".btnDataFrame"),d=a.find(".btnStopProcess"),s=a.find(".btnIndex"),l=a.find(".btnCopyAsValues");(r.hide(),l.hide(),s.hide(),a.find(".atomic").hide(),a.find(".atomic pre").empty(),n||"true"===this.getNodeProperty(this.nodeData.properties,"isCalc").value.toLowerCase())?(d.show(),(new e).previewNode(o,function(e){if(i('button[data-action="run"]').removeClass("btn-warning").addClass("btn-info"),i(".resultPreview").css("color","inherit"),d.hide(),a.find(".evaluating").hide(),e){a.find(".atomic").show();var n="";if(n=e.console?e.console+e.preview:e.preview,a.find(".atomic pre").text(n),e.resultType){if(r.toggle(!t.options.dic[t.currentNode.node]&&["<class 'pandas.core.frame.dataframe'>"].includes(e.resultType.toLowerCase())),["<class 'pandas.core.indexes.base.index'>"].includes(e.resultType.toLowerCase())){var o=t.getNodeProperty(t.nodeData.properties,"definition").value.replace(/ /g,"").replace(/'/g,'"');s.toggle(o.startsWith('result=pd.Index(["'))}l.toggle(["<class 'xarray.core.dataarray.dataarray'>","<class 'pandas.core.indexes.base.index'>"].includes(e.resultType.toLowerCase()))}}},function(e){a.find(".evaluating").hide(),a.find(".error div").text(e),a.find(".error").show(),d.hide()})):(d.hide(),r.hide(),s.hide(),l.hide())},updateSizes:function(e){if(this.$el){var n=this;if(0==i("#nodeWizardDef").length)return;var t=ace.edit("nodeWizardDef"),a=i(".mainTask.influence-diagram .dockInfluenceDiagramProperty").height();n.dockedWindowWidth=i(".mainTask.influence-diagram .dockInfluenceDiagramProperty").width();var o=i(".leftCol").width(),r=a-70;i(t.container).height(r),i(t.container).find(".ace_content").height(r),i(t.container).find(".ace_content").width(n.dockedWindowWidth-(o+50)),t.resize();var d=0;n.maxCodeWidth=70*n.dockedWindowWidth/100,d=n.maxCodeWidth,i(".codeArea").resizable("option","maxWidth",n.maxCodeWidth);var s=i.cookie("resultAreaWidth")?n.dockedWindowWidth-parseInt(i.cookie("resultAreaWidth")):d;i.cookie("resultAreaWidth")&&parseInt(i.cookie("resultAreaWidth"))<=n.maxCodeWidth&&(d=s),0===n.$el.find(".codeArea").width()?n.$el.find(".codeArea").width(d):(i(".dockInfluenceDiagramProperty").trigger("updateWidth"),1==n.fromWindowResize&&(setTimeout(function(){i(".codeArea").resizable("option","maxWidth",n.maxCodeWidth),n.$el.find(".codeArea").width(d),n.dockedWindowWidth=i(".mainTask.influence-diagram .dockInfluenceDiagramProperty").width(),n.maxCodeWidth=70*n.dockedWindowWidth/100,i("#nodeWizardEval").width(n.dockedWindowWidth-d-12),n.$el.find(".resultArea").width(n.dockedWindowWidth-d-12),i(".dockInfluenceDiagramProperty").trigger("updateWidth")},800),n.fromWindowResize=!1)),this.$el.find(".resultArea").height(r),this.$el.find(".resultPreview").height(r-20)}},populateData:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=this,a=ace.edit("nodeWizardDef");if(a&&a.blur(),setTimeout(function(){t.loadData(e),"function"==typeof n&&n()},500),e.disabledFields)for(var i=0;i<e.disabledFields.length;i++)this.$el.find("#"+e.disabledFields[i]).prop("disabled",!0),a&&"nodeWizardDef"==e.disabledFields[i]&&t.disableEditor(a)},loadData:function(e){this.nodeData=e,i("#nodeTypeIcon").removeClass(function(e,n){return(n.match(/(^|\s)nodeClassIcon-\S+/g)||[]).join(" ")}),i("#nodeTypeIcon").addClass("nodeClassIcon-"+e.properties[2].value.toLowerCase());var n=e.properties[4].value,t=ace.edit("nodeWizardDef");t.setValue(""),t.getSession().setUseWrapMode(!0);var a=e.properties[2].value.toUpperCase();["MODULE","LIBRARY","LINKMODULE","MODEL","TEXT","PICTURE"].includes(a)?this.disableEditor(t):(this.onBrowserMode()?this.disableEditor(t):this.enableEditor(t),null===n&&(n=""),t.setValue(n,1),this.currentValue=n,t.session.setValue(n),t.renderer.updateFull()),""!==e.properties[6].value?this.loadErrorTab(e.properties[5].value):this.cleanErrorTab(),this.updateSizes()},disableEditor:function(e){e.setReadOnly(!0),i(e.container).addClass("aceDisabled")},enableEditor:function(e){e.setReadOnly(!1),i(e.container).removeClass("aceDisabled")},createEditor:function(){var n=this,t=i(".nodeWizardDef").get()[0],a=ace.require("ace/ext/language_tools"),o=ace.edit(t);o.on("change",function(e){var t=o.getValue(),a=i(".nodeWizardDef").attr("data-rel");o.curOp&&o.curOp.command.name?n.updateNodePropertyNew(n.nodeData,a,t):i(".ace_replacebtn").is(":visible")&&(n.updateNodePropertyNew(n.nodeData,a,t),o.focus())}),o.setTheme("ace/theme/cubeplan"),o.session.setMode("ace/mode/python"),o.$blockScrolling=1/0,o.setHighlightActiveLine(!1),o.commands.addCommand({name:"saveDefinition",bindKey:{win:"Ctrl-s",mac:"Command-s"},exec:function(e){setTimeout(function(){e.focus(),i(".btnSaveModel").is(":visible")&&i(".btnSaveModel").trigger("click")},100)}}),o.commands.addCommand({name:"saveDefinitionEnter",bindKey:{win:"Ctrl-Enter",mac:"Command-Enter"},exec:function(e){setTimeout(function(){e.focus(),n.options.dic[n.currentNode.node]?n.saveModel(function(){n.previewNode(!0)}):n.previewNode(!0)},100)}}),o.commands.addCommand({name:"onlySaveDefinitionEnter",bindKey:{win:"Shift-Enter",mac:"Shift-Enter"},exec:function(e){setTimeout(function(){e.focus(),n.options.dic[n.currentNode.node]&&n.saveModel(function(){})},100)}}),o.commands.addCommand({name:"toggleShowIdentifier",bindKey:{win:"Ctrl-y",mac:"Command-y"},exec:function(e){i(".mainTask.influence-diagram").trigger("onKeyDown",["ctrl+y"])}}),o.commands.addCommand({name:"gotoDef",bindKey:{win:"Ctrl-h",mac:"Command-h"},exec:function(e){if(e.getValue()){var t=e.getSelection(),a=e.getSession();if(t){var i=t.getWordRange();try{var o=a.getTextRange(i);o&&n.$el.closest(".influence-diagram").find(".diagram-area").trigger("navigateToNode",[o])}catch(e){}}}}});var r=o.completers?o.completers.slice(0):[],d={getCompletions:function(n,t,a,i,o){for(var d=[],s=0;s<r.length;s++)r[s].getCompletions(n,t,a,i,function(e,n){n&&(d=d.concat(n))});(new e).SearchForAutocomplete(i,function(e){var n=t.$mode.$highlightRules.completions;n||(n=[]);var a=n.concat(d);e&&((a=a.concat(e.map(function(e){return{caption:e.id,value:e.completeText,meta:e.nodeClass,docHTML:"function"==e.nodeClass||"class"==e.nodeClass||"helper"==e.nodeClass||"method"==e.nodeClass?"<b>"+(e.params?e.params:e.name)+"</b><hr>"+(e.description?e.description:""):"<b>"+e.name+"</b>",params:e.params}}))).forEach(function(e){if(!e.snippet){var n=null;if("function"!=e.meta&&"class"!=e.meta&&"SysFunction"!=e.meta&&"helper"!=e.meta&&"method"!=e.meta||!e.params)"index value"!=e.meta&&"cube axis"!=e.meta&&"dataframe column"!=e.meta||!e.params||(n=e.value+e.params,e.snippet=n);else{n=e.value+"( ";for(var t=1,a=e.params.split(";"),i=0;i<a.length;i++){var o=a[i];if(o)for(var r=o.split(","),d=0;d<r.length;d++){var s=r[d];if(s&&-1==s.toLowerCase().indexOf("hidden")){t>1&&(n+=", ");var l=s.replace("(","").replace(")","").trim();l.indexOf(":")>=0&&(l=l.split(":")[0]),n+="${"+t+":"+l+"}",t++}}}n+=" )",e.snippet=n}}}),o(null,a))})},getDocTooltip:function(e){"snippet"!=e.type||e.docHTML||(e.docHTML=["<b>",e.caption,"</b>","<hr></hr>",e.snippet].join(""))}};a.addCompleter(d),o.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!1,showPrintMargin:!1})},addHandlers:function(){var n=this,a=this;window.onbeforeunload=function(){var e=__currentSession.modelInfo.newToken+"-dictionary"+"="+JSON.stringify(a.options.dic);document.cookie=e},this.$el.find(".commandBtns .btn").on("click",function(o){switch(i(o.currentTarget).attr("data-action")){case"run":i(o.currentTarget).removeClass("btn-warning").addClass("btn-info"),a.currentNode&&(a.options.dic[a.currentNode.node]?n.saveModel(function(){n.previewNode(!0)}):n.previewNode(!0));break;case"stop":i(o.currentTarget).hide(),(new e).stopProcess();break;case"wiz-columns":Promise.resolve().then(function(){var e=[t(721)];(function(e){(new e).selectColumsWizard({title:"Select Columns",bodyParams:{wizard:"SelectColumns",action:"getColumnList",params:{nodeId:a.currentNode.node}},confirm:{wizard:"SelectColumns",action:"generateDefinition",params:{nodeId:a.currentNode.node,columns:[]}}},function(){Promise.resolve().then(function(){var e=[t(743)];(function(e){(new e).loadDefinitionTab(a.nodeFullData,!1,".btnTabWizard",!0)}).apply(null,e)}).catch(t.oe)})}).apply(null,e)}).catch(t.oe);break;case"wiz-rows":Promise.resolve().then(function(){var e=[t(721)];(function(e){(new e).selectRowsWizard({title:"Filter",bodyParams:{wizard:"SelectRows",action:"getColumnList",params:{nodeId:a.currentNode.node}},confirm:{wizard:"SelectRows",action:"generateDefinition",params:{nodeId:a.currentNode.node,filters:[]}}},function(){Promise.resolve().then(function(){var e=[t(743)];(function(e){(new e).loadDefinitionTab(a.nodeFullData,!1,".btnTabWizard",!0)}).apply(null,e)}).catch(t.oe)})}).apply(null,e)}).catch(t.oe);break;case"wiz-calc":Promise.resolve().then(function(){var e=[t(721)];(function(e){(new e).calculatedFieldWizard({title:"Calculated field",bodyParams:{wizard:"CalculatedField",action:"getColumnList",params:{nodeId:a.currentNode.node}},confirm:{wizard:"CalculatedField",action:"generateDefinition",params:{nodeId:a.currentNode.node}}},function(){Promise.resolve().then(function(){var e=[t(743)];(function(e){(new e).loadDefinitionTab(a.nodeFullData,!1,".btnTabWizard",!0)}).apply(null,e)}).catch(t.oe)})}).apply(null,e)}).catch(t.oe);break;case"wiz-pd-index":Promise.resolve().then(function(){var e=[t(721)];(function(e){(new e).pandasIndexWizard({title:"Edit Index",definition:a.getNodeProperty(a.nodeData.properties,"definition").value,onBrowserMode:a.onBrowserMode()},function(e){a.updateNodeProperty(a.nodeData,"definition",e,function(){return a.previewNode(!0)})})}).apply(null,e)}).catch(t.oe);break;case"wiz-copyasvalues":(new e).copyAsValues(a.currentNode.node,!o.ctrlKey,function(e){a.$el.closest(".influence-diagram").trigger("refreshView"),o.ctrlKey&&Promise.resolve().then(function(){var e=[t(743)];(function(e){(new e).loadDefinitionTab(a.nodeFullData,!1,".btnTabWizard",!0)}).apply(null,e)}).catch(t.oe)});break;case"wiz-dataframe-index":Promise.resolve().then(function(){var e=[t(721)];(function(e){(new e).setDataframeIndex({title:"Set  Index",bodyParams:{wizard:"DataframeIndex",action:"getColumnList",params:{nodeId:a.currentNode.node}},confirm:{wizard:"DataframeIndex",action:"generateDefinition",params:{nodeId:a.currentNode.node,columns:[]}}},function(){Promise.resolve().then(function(){var e=[t(743)];(function(e){(new e).loadDefinitionTab(a.nodeFullData,!1,".btnTabWizard",!0)}).apply(null,e)}).catch(t.oe)})}).apply(null,e)}).catch(t.oe);break;case"wiz-dataframe-groupby":Promise.resolve().then(function(){var e=[t(721)];(function(e){(new e).dataframeGroupby({title:"Group/Aggregate",bodyParams:{wizard:"DataframeGroupby",action:"getColumnList",params:{nodeId:a.currentNode.node}},confirm:{wizard:"DataframeGroupby",action:"generateDefinition",params:{nodeId:a.currentNode.node,columns:[],agg:{}}}},function(){Promise.resolve().then(function(){var e=[t(743)];(function(e){(new e).loadDefinitionTab(a.nodeFullData,!1,".btnTabWizard",!0)}).apply(null,e)}).catch(t.oe)})}).apply(null,e)}).catch(t.oe)}}),i(".dockInfluenceDiagramProperty").find(".btnCancel").on("click",function(e){delete a.options.dic[a.currentNode.node],Promise.resolve().then(function(){var e=[t(743)];(function(e){(new e).loadDefinitionTab(a.nodeFullData)}).apply(null,e)}).catch(t.oe)}),i(".dockInfluenceDiagramProperty .btnSave").on("click",function(){return n.saveModel()}),i(".dockInfluenceDiagramProperty").on("saveCurrentNode",function(){var n=new e,t=[];a.currentNode&&a.options.dic[a.currentNode.node]&&(i.each(a.options.dic[a.currentNode.node].properties,function(e,n){["defErrorDetail","errorInDef","class","isCalc","resultType"].includes(n.name)||t.push(n)}),n.setNodeProperties(a.currentNode.node,t,function(e){delete a.options.dic[a.currentNode.node],i(".btnsConfirmChanges").hide(),i.isEmptyObject(a.options.dic)&&i(".moreChangesContainer").hide(),i(".mainTask.influence-diagram").trigger("refreshView"),a.cleanErrorTab()},function(e){a.loadErrorTab(e),delete a.options.dic[a.currentNode.node],i(".mainTask.influence-diagram").trigger("refreshView"),i(".overlapDisable").hide(),i(".btnsConfirmChanges").hide(),i.isEmptyObject(a.options.dic)&&i(".moreChangesContainer").hide()},!0,!0))}),i(".dockInfluenceDiagramProperty").on("saveModelChanges",function(n,o){var r,s,l=new e,c=[];if(i.isEmptyObject(a.options.dic)&&!o)Promise.resolve().then(function(){var e=[t(219)];(function(e){(new e).saveModel(function(){i("body").trigger("pendingChanges",[!1]),(0,d.showMessage)((0,d.translate)("model_successfully_saved")," ","success",!0)})}).apply(null,e)}).catch(t.oe);else for(var u in a.options.dic)c=[],i.each(a.options.dic[u].properties,function(e,n){["defErrorDetail","errorInDef","class","isCalc","resultType","Text"].includes(n.name)||c.push(n)}),r=a.options.dic[u].properties[0].value,s=a.options.dic[u].properties[2].value,l.setNodeProperties(a.options.dic[u].node,c,function(e){delete a.options.dic[u],i(".btnsConfirmChanges").hide(),"text"===s&&(i(".box-title.header .nodeIdTitle").remove(),i(".dock.dockItem .nodeTextTitle").html("(".concat(r,")"))),i.isEmptyObject(a.options.dic)&&i(".moreChangesContainer").hide(),i(".mainTask.influence-diagram").trigger("refreshView"),a.cleanErrorTab(),i.isEmptyObject(a.options.dic)&&!o&&Promise.resolve().then(function(){var e=[t(219)];(function(e){(new e).saveModel(function(){i("body").trigger("pendingChanges",[!1]),(0,d.showMessage)((0,d.translate)("model_successfully_saved")," ","success",!0)})}).apply(null,e)}).catch(t.oe)},function(e){a.loadErrorTab(e),delete a.options.dic[a.currentNode.node],i(".mainTask.influence-diagram").trigger("refreshView"),i(".overlapDisable").hide(),i(".btnsConfirmChanges").hide(),i.isEmptyObject(a.options.dic)&&i(".moreChangesContainer").hide()},!0,!1)})},saveModel:function(n){var t=new e,a=[],o=this;i.each(this.options.dic[o.currentNode.node].properties,function(e,n){["defErrorDetail","errorInDef","class","isCalc","resultType"].includes(n.name)||a.push(n)});var r=o.currentNode.properties[0].value,d=o.currentNode.properties[2].value;t.setNodeProperties(o.currentNode.node,a,function(e){i(".mainTask.influence-diagram").trigger("refreshView"),i(".dashboard-tabs").trigger("refreshNodeChanges",[{nodeId:o.currentNode.node}]),"text"===d&&(i(".box-title.header .nodeIdTitle").remove(),i(".dock.dockItem .nodeTextTitle").html("(".concat(r,")"))),delete o.options.dic[o.currentNode.node],i(".btnsConfirmChanges").hide(),i.isEmptyObject(o.options.dic)&&i(".moreChangesContainer").hide(),o.cleanErrorTab(),"function"==typeof n&&n()},function(e){o.loadErrorTab(e),delete o.options.dic[o.currentNode.node],i(".mainTask.influence-diagram").trigger("refreshView"),i(".overlapDisable").hide(),i(".btnsConfirmChanges").hide(),i.isEmptyObject(o.options.dic)&&i(".moreChangesContainer").hide()},!0,!0)},setNumberFormat:function(e){if((a=this).nodeData.properties[0].value){var n=a.nodeData.properties[0].value,a=this;Promise.resolve().then(function(){var o=[t(219)];(function(t){var o=[{name:"numberFormat",value:e}](new t).setNodeProperties(n,o,function(){a.numberFormat=e,a.numberFormatter=null,i(".dashboardTask").trigger("changeNumberFormat",[n]),i(".mainTask.influence-diagram").trigger("refreshView")})}).apply(null,o)}).catch(t.oe)}},showNumberFormatPopup:function(e){var n=this;Promise.resolve().then(function(){var a=[t(219)];(function(a){var i=[{name:"numberFormat"}](new a).getNodeProperties(n.nodeData.properties[0].value,i,function(n){var a=n.properties[0];t.e(51).then(function(){var n=[t(777)];(function(n){(new n).render(a,e)}).apply(null,n)}).catch(t.oe)})}).apply(null,a)}).catch(t.oe)},updateNodeInDic:function(e,n){this.nodeData&&this.nodeData.properties&&this.nodeData.properties[0]&&this.nodeData.properties[0].value&&this.options.dic[e]&&(this.options.dic[n]=this.options.dic[e],delete this.options.dic[e],this.currentNodeId=n,this.nodeData.node=n,this.nodeData.properties[0].value=n,i("#nodePropertiesDock").attr("node-id",n))},getNodeProperty:function(e,n){return e.find(function(e){return e.name===n})},updateNodePropertyNew:function(e,n,t){var a=this;i.each(e.properties,function(o,r){r.name===n&&r.value!==t&&(a.options.dic[e.node]||(a.options.dic[e.node]=e,i(".btnsConfirmChanges").show(),i(".moreChangesContainer").show(),i('.btn[data-action="run"]').addClass("btn-warning").removeClass("btn-info"),i(".resultPreview").css("color","#999"),i(".btnDataFrame").hide(),i(".btnCopyAsValues").hide(),i(".btnCopyAsValues").hide(),i(".btnIndex").hide(),i("body").trigger("pendingChanges",[!0])),i.each(a.options.dic[e.node].properties,function(e,a){a.name===n&&(a.value=t)}))})},updateNodeProperty:function(n,t,a){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=this,d=n.properties[0].value;""!==d&&(new e).setNodeProperties(d,[{name:t,value:a}],function(){(i(".mainTask.influence-diagram").trigger("refreshView"),r.cleanErrorTab(),"definition"===t)&&ace.edit("nodeWizardDef").setValue(a);n.properties.find(function(e){return e.name===t}).value=a,"function"==typeof o&&o()},function(e){r.loadErrorTab(e),i(".mainTask.influence-diagram").trigger("refreshView")},!0,!0)},onBrowserMode:function(){return 0==i(".mainTask.influence-diagram .diagram-area .diagram-toolbar").length||i(".mainTask.influence-diagram .diagram-area .diagram-toolbar").hasClass("browser-mode")},loadErrorTab:function(e){var n=i(".errorsList");n.find("i.no-error").addClass("error"),n.find(".errorCount").html("1"),n.find(".message-ul .details .message").html(e),n.find("a").attr("data-toggle","dropdown")},cleanErrorTab:function(){var e=i(".errorsList");e.find("i.no-error").removeClass("error"),e.find(".errorCount").html("0"),e.find(".message-ul .details .message").html(""),e.find("a").attr("data-toggle","")},onRemoveView:function(){(0,d.removeResizeEvent)("updateSizes"),this.diagram&&(this.diagram.destroy(),this.diagram=null)}})}.apply(n,o))||(e.exports=r)}).call(this,t(218),t(1))},2128:function(e,n,t){var a=t(2129);"string"==typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};t(222)(a,i);a.locals&&(e.exports=a.locals)},2129:function(e,n,t){(e.exports=t(2)(!1)).push([e.i,".nodeWizardTab .commandBtns {\n  width: 100%;\n  padding-left: 0px;\n  margin: -31px 0 2px 4px;\n}\n.nodeWizardTab .commandBtns button {\n  margin-right: 0px;\n  border-radius: 0px;\n  width: 30px;\n}\n.nodeWizardTab .resultArea {\n  margin-top: 7px;\n  margin-right: 0;\n  margin-left: 0;\n}\n.nodeWizardTab .resultPreview {\n  margin: 0 0 0 6px;\n}\n#wizardColSelection .modal-body {\n  overflow-y: auto;\n}\n#wizardColSelection .modal-body .optList ul {\n  list-style: none;\n}\n#wizardColSelection .modal-body .optList ul li {\n  margin: 1px 0;\n}\n#wizardColSelection .commandButtons {\n  padding: 5px;\n  border-top: 1px solid #e5e5e5;\n}\n#wizardRowSelection .modal-body {\n  overflow-y: auto;\n}\n#wizardRowSelection .table .select2-container {\n  width: 100%;\n}\n#wizardRowSelection .table .conditionValue input {\n  width: 100%;\n}\n#wizardRowSelection .table .conditionValue.double input {\n  width: 45%;\n}\n#wizardRowSelection .table .conditionValue.double input:nth-child(2) {\n  float: right;\n}\n#wizardRowSelection .commandButtons {\n  padding: 5px;\n  border-top: 1px solid #e5e5e5;\n}\n#wizardPandasIndex .modal-body {\n  overflow-y: auto;\n  min-height: 300px;\n  text-align: center;\n  padding: 10px;\n}\n#wizardPandasIndex .modal-body .handsonWrapper {\n  display: inline-block;\n}\n#wizardPandasIndex .tableDef .ht_master .wtHolder {\n  overflow-x: hidden;\n}\n#wizardSetDataframeIndex .modal-body {\n  overflow-y: auto;\n}\n#wizardSetDataframeIndex .modal-body .optList ul {\n  list-style: none;\n}\n#wizardSetDataframeIndex .modal-body .optList ul li {\n  margin: 1px 0;\n}\n#wizardSetDataframeIndex .commandButtons {\n  padding: 5px;\n  border-top: 1px solid #e5e5e5;\n}\n#wizardDataframeGroupby .modal-dialog {\n  width: 80%;\n  max-width: 800px;\n}\n#wizardDataframeGroupby .modal-dialog .modal-body {\n  overflow-y: auto;\n}\n#wizardDataframeGroupby .modal-dialog .modal-body .centered {\n  text-align: center;\n}\n#wizardDataframeGroupby .modal-dialog .modal-body .selectable {\n  width: 60px;\n}\n#wizardDataframeGroupby .modal-dialog .modal-body .group-by {\n  width: 130px;\n}\n#wizardDataframeGroupby .modal-dialog .modal-body .optList ul {\n  list-style: none;\n}\n#wizardDataframeGroupby .modal-dialog .modal-body .optList ul li {\n  margin: 1px 0;\n}\n#wizardCalculatedField .modal-dialog {\n  max-width: 800px;\n}\n",""])},2130:function(e,n,t){var a=t(690);e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,n,t,a,i){return"<div class='row nodeWizardTab nomargin'>\n  <div class='nopadding codeArea' style=\"float: left;\">\n    <div class='aceWrapper'>\n      <div id='nodeWizardDef' class='nodeWizardDef' data-rel='definition' style='width:100%; height:170px;'></div>\n    </div>\n  </div>\n  <div id='nodeWizardEval' class='leftCol nopadding' style=\"right:0; float: left;\">\n    <div class='commandBtns'>\n      <button class='btn btn-small btn-warning' rel='tooltip' data-original-title='Run' data-action='run'>\n        <i class='fa fa-play'></i>\n      </button>\n      <button class='btn btn-small btn-lightred btnStopProcess nodisplay' rel='tooltip' data-original-title='Stop'\n        data-action='stop'>\n        <i class='fa fa-stop'></i>\n      </button>\n      <button class='btn btn-small btn-lightgrey btnDataFrame nodisplay' rel='tooltip'\n        data-original-title='Select Columns' data-action='wiz-columns'>\n        <i class=\"fad fa-line-columns\"></i>\n      </button>\n      <button class='btn btn-small btn-lightgrey btnDataFrame nodisplay' rel='tooltip' data-original-title='Filter'\n        data-action='wiz-rows'>\n        <i class='far fa-filter'></i>\n      </button>\n      <button class='btn btn-small btn-lightgrey btnDataFrame nodisplay' rel='tooltip'\n        data-original-title='Calculated Field' data-action='wiz-calc'>\n        <i class=\"fal fa-calculator-alt\"></i>\n      </button>\n      <button class=\"btn btn-small btn-lightgrey btnDataFrame nodisplay\" rel=\"tooltip\" data-original-title=\"Set Index\"\n        data-action=\"wiz-dataframe-index\" style=\"height:26px; padding:0\">\n        <span class=\"fa-stack\" style=\"\n            height: 26px;\n            width: 30px;\n            display: inline-block;\n            height: 2em;\n            line-height: 2em;\n            position: relative;\n            vertical-align: middle;\n            width: 2.5em;\">\n          <i class=\"fal fa-table fa-stack-1x\"\n            style=\"font-size:16px; color:#9c9c9c; width:30px; top:-1px; left:0px;\"></i>\n          <i class=\"fas fa-sort-down fa-stack-1x fa-inverse\" style=\"\n              font-size: 14px;\n              top: -11px;\n              left: -5px;\n              width: 30px;\"></i>\n        </span>\n      </button>\n      <button class='btn btn-small btn-lightgrey btnDataFrame nodisplay' rel='tooltip'\n        data-original-title='Group/Aggregate' data-action='wiz-dataframe-groupby'>\n        <i class=\"fal fa-layer-group\"></i>\n      </button>\n      <button class='btn btn-small btn-lightgrey btnIndex nodisplay' rel='tooltip' data-original-title='Edit Index'\n        data-action='wiz-pd-index' style=\"height:26px; padding:0\">\n        <span class=\"fa-stack\" style=\"\n            height: 26px;\n            width: 30px;\n            display: inline-block;\n            height: 2em;\n            line-height: 2em;\n            position: relative;\n            vertical-align: middle;\n            width: 2.5em;\">\n          <i class=\"far fa-bars fa-stack-1x\" style=\"font-size:16px; color:#9c9c9c; width:30px; top:-1px; left:0px;\"></i>\n          <i class=\"fas fa-pencil fa-stack-1x fa-inverse\" style=\"\n              font-size: 11px;\n              top: 1px;\n              left: 3px;\n              width: 30px;\n              \"></i>\n        </span>\n      </button>\n      <button class='btn btn-small btn-lightgrey btnCopyAsValues nodisplay' rel='tooltip'\n        data-original-title='Copy as values' data-action='wiz-copyasvalues' style=\"height:26px; padding:0\">\n        <span class=\"fa-stack\" style=\"\n            height: 26px;\n            width: 30px;\n            display: inline-block;\n            height: 2em;\n            line-height: 2em;\n            position: relative;\n            vertical-align: middle;\n            width: 2.5em;\">\n          <i class=\"far fa-clipboard fa-stack-1x\" style=\"font-size:16px; width:30px; top:-1px; left:-2px;\"></i>\n          <strong class=\"fa-stack-1x\" style=\"\n            font-size: 7px;\n            left: 12px;\n            top: 11px;\n            font-weight: 100;\n            width: 13px;\n            height: 8px;\n            background-color: #fff;\n            color: #333;\n            line-height: 1.3em;\n            letter-spacing: 0px;\">123</strong>\n        </span>\n      </button>\n\n    </div>\n    <div class='resultArea row'>\n      <div class='col-sm-12 atomic nodisplay' style=\"padding: 0;\">\n        <pre class='resultPreview'></pre>\n      </div>\n    </div>\n  </div>\n</div>"},useData:!0})},756:function(e,n,t){"use strict";(function(a){var i,o=t(693);void 0===(i=function(){return a.Model.extend({url:"knowledgeBase",getPost:function(e,n){(0,o.send)("KnowledgeBase/getPost?nodeId="+e,null,{type:"GET"},n)},search:function(e,n){(0,o.send)("KnowledgeBase/search",e,{type:"POST"},n)},generatePost:function(e,n){(0,o.send)("KnowledgeBase/generatePost?nodeId="+e,null,{type:"POST"},n)},updatePost:function(e,n){(0,o.send)("KnowledgeBase/updatePost",e,{type:"PUT"},n)},deleteAttachedFile:function(e,n){(0,o.send)("KnowledgeBase/deleteDocument?url="+e,null,{type:"DELETE"},n)}})}.apply(n,[]))||(e.exports=i)}).call(this,t(218))}}]);