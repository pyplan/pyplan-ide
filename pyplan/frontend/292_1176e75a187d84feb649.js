/*! Copyright Pyplan 2020. All rights reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[292],{993:function(e,t,r){"use strict";(function(i,s){var a,o,n=r(18);a=[r(729)],void 0===(o=function(e){return e.extend({detailDraggable:!1,preEvaluateNode:function(e,t,r,i){this.ensureOnlyDims(t,r,i)},drawChart:function(e){var t=this,r=this.currentResult;this.applyDefaultProperties(r.itemProperties);var a=r.itemProperties.axes.xAxis;r.itemProperties.axes.yAxis;r.nodeResult&&(a.categories=r.nodeResult.columns.categories);var o=r.nodeResult?this.getSeries(r.nodeResult):null,n=this.getStops(r.itemProperties),l=parseFloat(r.itemProperties.axes.yAxis.min),u=parseFloat(r.itemProperties.axes.yAxis.max),c={chart:{type:"solidgauge"},pane:{size:"100%",startAngle:-90,endAngle:90,background:{backgroundColor:i.theme&&i.theme.background2||"#EEE",innerRadius:"60%",outerRadius:"100%",shape:"arc"}},title:{floating:!0,text:""},subtitle:{text:""},credits:{enabled:!1},navigation:{buttonOptions:{enabled:!1}},plotOptions:{solidgauge:{dataLabels:{y:5,borderWidth:0,useHTML:!0}}},yAxis:{stops:n,min:l,max:u,lineWidth:0,minorTickInterval:null,tickPositions:[parseFloat(r.itemProperties.axes.yAxis.min),parseFloat(r.itemProperties.axes.yAxis.max)],tickWidth:0,title:{y:-70},labels:{y:16,enabled:r.itemProperties.axes.yAxis.labels.enabled,formatter:function(){return t.createFormatter(),t.numberFormatter.format(this.value)}}},tooltip:{enabled:!1},legend:r.itemProperties.legend,series:o?[o.serie]:null};s(e).highcharts(c)},positionHideAllButton:function(){s(this.tagId).find(".item-area .showhideserie").hide()},applyDefaultProperties:function(e){e.labels||(e.labels={enabled:!1,inside:!1}),e.axes&&e.axes.yAxis&&e.axes.yAxis.min&&""!=e.axes.yAxis.min||(e.axes.yAxis.min=0),e.axes&&e.axes.yAxis&&e.axes.yAxis.max&&""!=e.axes.yAxis.max||(e.axes.yAxis.max=100),e.gauge||(e.gauge={});e.gauge=s.extend({},{fontSize:20,fontColor:"#000",fontBold:!1,fontItalic:!1,fontUnderline:!1,numberFormat:",.",decimalPlaces:2,colorSchema:"#ff0000,#00ff00"},e.gauge)},updateValues:function(e){for(;this.chart.series.length;)this.chart.series[0].remove(!1);if(this.chart){var t=this.getSeries(e);if(this.chart.addSeries(t.serie),this.currentResult&&this.currentResult.itemProperties&&-1==this.currentResult.itemProperties.gauge.colorSchema.indexOf("#")){var r=this.model.getStyleLibrary(this.currentResult.itemProperties.gauge.colorSchema),i=t.serie.data[0],a=this;s.each(r,(function(e,t){if(i>=parseFloat(t.from)&&i<parseFloat(t.to)){var r=(0,n.hexToRgb)(t.color);return a.chart.yAxis[0].stops[0].color.rgba=[r.r,r.g,r.b,1],a.chart.yAxis[0].stops[1].color.rgba=[r.r,r.g,r.b,1],a.chart.series[0].points[0].update(i),a.chart.render(),a.chart.reflow(),a=null,!1}}))}}this.isReady=!0},getSeries:function(e){var t=this;if(e){if(e.series)var r=e.series;else r=e.nodeResult.series;for(var i=0,s="",a=0;a<r.length;a++){for(var o=0;o<r[a].data.length;o++)i+=r[a].data[o];s+=r[a].name+" + "}s=s.substring(0,s.length-" + ".length);var n="";e.nodeProperties&&e.nodeProperties.unit&&(n=e.nodeProperties.unit);var l="";return this.currentResult&&this.currentResult.itemProperties&&(this.applyDefaultProperties(this.currentResult.itemProperties),l+="font-size:"+this.currentResult.itemProperties.gauge.fontSize*Math.min(this.maxScaleFactorW,this.maxScaleFactorH)+"px;",l+="color:"+this.currentResult.itemProperties.gauge.fontColor+";",this.currentResult.itemProperties.gauge.fontBold?l+="font-weight:bold;":l+="font-weight:normal;",this.currentResult.itemProperties.gauge.fontItalic&&(l+="font-style:italic;"),this.currentResult.itemProperties.gauge.fontUnderline&&(l+="text-decoration:underline;")),{serie:{name:s,data:[i],dataLabels:{formatter:function(){return'<div style="text-align:center"><span style="'+l+'">'+t.numberFormatter.format(this.y)+"</span><br/>"}},tooltip:{valueSuffix:" "+n}},unit:n}}},setMinMax:function(e,t){this.currentResult&&this.currentResult.itemProperties&&(this.currentResult.itemProperties.axes.yAxis.min=e,this.currentResult.itemProperties.axes.yAxis.max=t,this.recreateChart())},setStyleLibrary:function(e){this.currentResult.itemProperties.gauge.colorSchema=e,this.recreateChart()},setFontSize:function(e){this.updateTableStyle("fontSize",e)},setFontStyle:function(e,t){this.updateTableStyle("font"+e,t)},setFontColor:function(e){this.updateTableStyle("fontColor",e)},getStylesUsed:function(){var e=[];return this.currentResult&&this.currentResult.itemProperties&&this.currentResult.itemProperties.gauge&&this.currentResult.itemProperties.gauge.colorSchema&&-1==this.currentResult.itemProperties.gauge.colorSchema.indexOf("#")&&e.push(this.currentResult.itemProperties.gauge.colorSchema),e},updateTableStyle:function(e,t,r){var i=this.currentResult.itemProperties.gauge;i[e]=t,this.currentResult.itemProperties.gauge=i,r||this.recreateChart()},getStops:function(e){return e.gauge.colorSchema?e.gauge.colorSchema.indexOf("#")>=0?[[.1,e.gauge.colorSchema.split(",")[0]],[.9,e.gauge.colorSchema.split(",")[1]]]:void 0:[[.1,"#55BF3B"],[.9,"#DF5353"]]},applyNumberFormat:function(){this.recreateChart()},setAxesVisibility:function(e){this.currentResult.itemProperties.axes.yAxis.labels.enabled=e,this.recreateChart()}})}.apply(t,a))||(e.exports=o)}).call(this,r(19),r(1))}}]);