/*! Copyright Pyplan 2020. All rights reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[297],{1030:function(e,t,i){"use strict";(function(r){var s,n;s=[i(716),i(974),i(975)],void 0===(n=function(e,t,i){return e.extend({el:r("#n_o_n_e"),pivotTable:void 0,pivotModel:void 0,render:function(e){this.baseRender(e),this.drawItem()},drawItem:function(){this.pivotModel=new i;var e=this;this.pivotTable=new t,this.pivotTable.setElement(r(this.tagId).find(".item-area")),this.pivotTable.remoteMode(!0),this.pivotTable.setRemoteCallbacks({queryTable:function(t){e.queryTable(t)},queryDimension:function(t,i){e.queryDimension(t,i)}}),this.setDefaultOptions(),this.currentResult&&this.currentResult.nodeId&&(this.currentResult.itemProperties.cubeOptions.nodeId=this.currentResult.nodeId),this.getMetadata()},fullRefresh:function(){this.drawCube()},onRemoveItemView:function(){this.pivotTable&&(this.pivotTable.destroy(),this.pivotTable=null),this.pivotModel=null},updateValues:function(e){},_evaluateNode:function(e,t,i,r,s){},updateSize:function(){var e=r(this.tagId).find(".item-area").height()-r(this.tagId).find(".btn-toolbar").height()-15;r(this.tagId).find(".item-area .text-editor-wraper .wysiwyg_editor").height(e),r(this.tagId).find(".item-area .text-editor-content").height(r(this.tagId).find(".item-area").height()-0),this.pivotTable&&this.pivotTable.updateSize()},drawCube:function(){if(this.pivotTable){this.setDefaultOptions();var e=this,t=r.extend({cubename:this.getNodeId(),onDrawTable:function(t){e.updateProperties(t)}},this.currentResult.itemProperties.cubeOptions);this.pivotTable.setOptions(t),this.pivotTable.refreshTable(),this.isReady=!0}},setDefaultOptions:function(){this.currentResult.itemProperties?this.currentResult.itemProperties.cubeOptions||(this.currentResult.itemProperties.cubeOptions={}):this.currentResult.itemProperties={cubeOptions:{}}},updateProperties:function(e){e&&(this.setDefaultOptions(),this.currentResult.itemProperties.cubeOptions.rows=e.rows,this.currentResult.itemProperties.cubeOptions.cols=e.cols,this.currentResult.itemProperties.cubeOptions.aggregator=e.aggregator,this.currentResult.itemProperties.cubeOptions.rendererName=e.rendererName,this.currentResult.itemProperties.cubeOptions.filters=e.filters,this.currentResult.itemProperties.cubeOptions.positionFilters=e.positionFilters)},setBackgroundColor:function(e){this.currentResult&&(this.currentResult.itemProperties||(this.currentResult.itemProperties={})),this.currentResult.itemProperties.generalBackgroundColor=e,this.applyStyles()},applyStyles:function(){this.currentResult&&this.currentResult.itemProperties&&this.currentResult.itemProperties.generalBackgroundColor&&r(this.tagId).css("background-color",this.currentResult.itemProperties.generalBackgroundColor)},getNodeId:function(){var e=this.currentResult.nodeId;return!e&&this.currentResult.itemProperties.cubeOptions&&(e=this.currentResult.itemProperties.cubeOptions.nodeId),e},getMetadata:function(){var e=this.getNodeId(),t=this;this.pivotModel.getCubeMetadata(e,(function(e){e&&(t.pivotTable.setMetadata(e),t.fullRefresh(),t=null)}))},queryTable:function(e){var t=this;this.pivotModel.getCubeValues(e,(function(e){t.pivotTable.setCubedata(e),t.pivotTable.drawTable()}))},queryDimension:function(e,t){this.pivotModel.getDimensionValues(e,(function(e){t(e)}))},showProgressBar:function(e){var t=r(this.tagId);0==t.find(".indeterminate-progress-bar").length&&r("<div class='indeterminate-progress-bar'></div>").appendTo(t).progressbar({value:e||!1}),e&&t.find(".indeterminate-progress-bar").progressbar("option",{value:e})},hideProgressBar:function(){r(this.tagId).find(".indeterminate-progress-bar").length>0&&(r(this.tagId).find(".indeterminate-progress-bar").progressbar("destroy"),r(this.tagId).find(".indeterminate-progress-bar").remove())}})}.apply(t,s))||(e.exports=n)}).call(this,i(1))}}]);