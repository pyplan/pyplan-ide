/*! Copyright Pyplan 2020. All rights reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[40,11],{2649:function(n,t,e){var o=e(670);function r(n){return n&&(n.__esModule?n.default:n)}n.exports=(o.default||o).template({1:function(n,t,o,a,s){var l=null!=t?t:n.nullContext||{},i=n.escapeExpression;return'    <div class="col-sm-3">\n      <div class="btn-toolbar tasksActions" style="display: none;">\n        <div class="btn-group">\n          <button class="btn btn-primary btn-small btnSaveTasks">'+i(r(e(668)).call(l,"accept",{name:"L",hash:{},data:s,loc:{start:{line:14,column:65},end:{line:14,column:79}}}))+'</button>\n          <button class="btn btn-small btnCancel">'+i(r(e(668)).call(l,"cancel",{name:"L",hash:{},data:s,loc:{start:{line:15,column:50},end:{line:15,column:64}}}))+"</button>\n        </div>\n      </div>\n    </div>\n"},3:function(n,t,e,o,r){var a=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return" max-height:"+n.escapeExpression(n.lambda(null!=t?a(t,"maxHeight"):t,t))+"px "},5:function(n,t,o,a,s,l,i){var u,c=null!=t?t:n.nullContext||{},p=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return(null!=(u=r(e(669)).call(c,null!=t?p(t,"fromImputTemplate"):t,"!=",!0,{name:"ifCond",hash:{},fn:n.program(6,s,0,l,i),inverse:n.noop,data:s,loc:{start:{line:25,column:4},end:{line:32,column:15}}}))?u:"")+"\n"+(null!=(u=p(o,"if").call(c,null!=t?p(t,"workflowData"):t,{name:"if",hash:{},fn:n.program(9,s,0,l,i),inverse:n.noop,data:s,loc:{start:{line:34,column:4},end:{line:151,column:11}}}))?u:"")},6:function(n,t,o,a,s){var l,i=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return"    <h5>Workflow\n"+(null!=(l=r(e(669)).call(null!=t?t:n.nullContext||{},null!=t?i(t,"fromEmbedded"):t,"==",!1,{name:"ifCond",hash:{},fn:n.program(7,s,0),inverse:n.noop,data:s,loc:{start:{line:27,column:6},end:{line:30,column:17}}}))?l:"")+"    </h5>\n"},7:function(n,t,e,o,r){return'      <button class="btn btn-white btn-small openWorkflow"><i class="fa fa-external-link-square"></i></button>\n      <button class="btn btn-white btn-small addTaskForNode"><i class="fa fa-plus-square"></i> Add task</button>\n'},9:function(n,t,o,a,s,l,i){var u,c=null!=t?t:n.nullContext||{},p=n.escapeExpression,d=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'    <div class="row nomargin" style="border-style: solid; border-width:0 0 1px 0; border-color:#E0E0E0;\n                margin:0 0 5px 0 !important;">\n      <div class="col-sm-2 nopadding">\n        <strong>'+p(r(e(668)).call(c,"_wfTaskTasks",{name:"L",hash:{},data:s,loc:{start:{line:38,column:16},end:{line:38,column:36}}}))+'</strong>\n      </div>\n      <div class="col-sm-2">\n        <strong>'+p(r(e(668)).call(c,"_wfTaskPercentage",{name:"L",hash:{},data:s,loc:{start:{line:41,column:16},end:{line:41,column:41}}}))+'</strong>\n      </div>\n      <div class="col-sm-2">\n        <strong>'+p(r(e(668)).call(c,"_wfTaskStatus",{name:"L",hash:{},data:s,loc:{start:{line:44,column:16},end:{line:44,column:37}}}))+'</strong>\n      </div>\n      <div class="col-sm-2">\n        <strong>'+p(r(e(668)).call(c,"_wfTaskItemsComments",{name:"L",hash:{},data:s,loc:{start:{line:47,column:16},end:{line:47,column:44}}}))+'</strong>\n      </div>\n      <div class="col-sm-2">\n        <strong>'+p(r(e(668)).call(c,"_wfTaskStartDate",{name:"L",hash:{},data:s,loc:{start:{line:50,column:16},end:{line:50,column:40}}}))+"/"+p(r(e(668)).call(c,"_wfTaskEndDate",{name:"L",hash:{},data:s,loc:{start:{line:50,column:41},end:{line:50,column:63}}}))+'</strong>\n      </div>\n      <div class="col-sm-2 nopadding text-right">\n        <strong>'+p(r(e(668)).call(c,"_wfTaskResponsible",{name:"L",hash:{},data:s,loc:{start:{line:53,column:16},end:{line:53,column:42}}}))+"</strong>\n      </div>\n    </div>\n\n"+(null!=(u=d(o,"each").call(c,null!=(u=null!=t?d(t,"workflow"):t)?d(u,"tasks"):u,{name:"each",hash:{},fn:n.program(10,s,0,l,i),inverse:n.noop,data:s,loc:{start:{line:57,column:4},end:{line:150,column:13}}}))?u:"")},10:function(n,t,o,a,s,l,i){var u,c=n.lambda,p=n.escapeExpression,d=null!=t?t:n.nullContext||{},f=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'    <div class="row nomargin item-task" task-id="'+p(c(null!=(u=null!=(u=null!=t?f(t,"items"):t)?f(u,"0"):u)?f(u,"id"):u,t))+'">\n      <div class="col-sm-2 nopadding">\n'+(null!=(u=r(e(669)).call(d,null!=i[1]?f(i[1],"fromEmbedded"):i[1],"==",!1,{name:"ifCond",hash:{},fn:n.program(11,s,0,l,i),inverse:n.noop,data:s,loc:{start:{line:60,column:8},end:{line:71,column:19}}}))?u:"")+"\n"+(null!=(u=r(e(669)).call(d,null!=i[1]?f(i[1],"fromEmbedded"):i[1],"==",!0,{name:"ifCond",hash:{},fn:n.program(12,s,0,l,i),inverse:n.noop,data:s,loc:{start:{line:73,column:8},end:{line:77,column:19}}}))?u:"")+"      </div>\n\n"+(null!=(u=r(e(669)).call(d,null!=i[1]?f(i[1],"fromImputTemplate"):i[1],"==",!0,{name:"ifCond",hash:{},fn:n.program(16,s,0,l,i),inverse:n.program(19,s,0,l,i),data:s,loc:{start:{line:80,column:6},end:{line:105,column:17}}}))?u:"")+"\n"+(null!=(u=r(e(669)).call(d,null!=i[1]?f(i[1],"fromImputTemplate"):i[1],"==",!0,{name:"ifCond",hash:{},fn:n.program(21,s,0,l,i),inverse:n.program(26,s,0,l,i),data:s,loc:{start:{line:107,column:6},end:{line:126,column:17}}}))?u:"")+"\n"+(null!=(u=r(e(669)).call(d,null!=i[1]?f(i[1],"fromImputTemplate"):i[1],"==",!0,{name:"ifCond",hash:{},fn:n.program(28,s,0,l,i),inverse:n.noop,data:s,loc:{start:{line:128,column:6},end:{line:136,column:17}}}))?u:"")+'\n      <div class="col-sm-2" style="font-size: 11px; padding-top: 3px;">\n        '+p(c(null!=(u=null!=(u=null!=t?f(t,"items"):t)?f(u,"0"):u)?f(u,"start"):u,t))+" / "+p(c(null!=(u=null!=(u=null!=t?f(t,"items"):t)?f(u,"0"):u)?f(u,"end"):u,t))+'\n      </div>\n\n      <div class="col-sm-2 nopadding text-right">\n        '+p(c(null!=(u=null!=t?f(t,"responsible"):t)?f(u,"full_name"):u,t))+"\n\n"+(null!=(u=r(e(669)).call(d,null!=i[1]?f(i[1],"fromImputTemplate"):i[1],"==",!0,{name:"ifCond",hash:{},fn:n.program(33,s,0,l,i),inverse:n.noop,data:s,loc:{start:{line:145,column:8},end:{line:147,column:19}}}))?u:"")+"      </div>\n    </div>\n"},11:function(n,t,o,a,s,l,i){var u,c=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return null!=(u=r(e(669)).call(null!=t?t:n.nullContext||{},null!=i[2]?c(i[2],"fromImputTemplate"):i[2],"==",!0,{name:"ifCond",hash:{},fn:n.program(12,s,0,l,i),inverse:n.program(14,s,0,l,i),data:s,loc:{start:{line:61,column:8},end:{line:70,column:19}}}))?u:""},12:function(n,t,e,o,r){var a=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'        <span style="float:left;">\n          '+n.escapeExpression(n.lambda(null!=t?a(t,"name"):t,t))+"\n        </span>\n"},14:function(n,t,e,o,r){var a,s=n.lambda,l=n.escapeExpression,i=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'        <span style="float:left; cursor:pointer;">\n          '+l(s(null!=t?i(t,"name"):t,t))+'\n          \x3c!-- a class="workflowtask" data-rel="'+l(s(null!=(a=null!=(a=null!=t?i(t,"items"):t)?i(a,"0"):a)?i(a,"id"):a,t))+'">'+l(s(null!=(a=null!=t?i(t,"task"):t)?i(a,"name"):a,t))+"</a --\x3e\n        </span>\n"},16:function(n,t,e,o,r){var a,s=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return null!=(a=s(e,"if").call(null!=t?t:n.nullContext||{},null!=t?s(t,"canEdit"):t,{name:"if",hash:{},fn:n.program(17,r,0),inverse:n.program(19,r,0),data:r,loc:{start:{line:81,column:6},end:{line:95,column:13}}}))?a:""},17:function(n,t,e,o,r){var a,s=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'      <div class="col-sm-2 progress-edit">\n        <input type="text" style="width: 100%;" class="input-sm" data-rolid="1" name="progress" data-id="progress"\n          value="'+n.escapeExpression(n.lambda(null!=(a=null!=(a=null!=t?s(t,"items"):t)?s(a,"0"):a)?s(a,"percentage"):a,t))+'">\n      </div>\n'},19:function(n,t,e,o,r){var a,s=n.lambda,l=n.escapeExpression,i=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'      <div class="col-sm-2 progress-noedit">\n        <div class="progress" style="background-color:#EFEFEF; position: relative;">\n          <span class="sr-only">'+l(s(null!=(a=null!=(a=null!=t?i(t,"items"):t)?i(a,"0"):a)?i(a,"percentage"):a,t))+'%</span>\n          <div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="80" aria-valuemin="0"\n            aria-valuemax="100" style="width: '+l(s(null!=(a=null!=(a=null!=t?i(t,"items"):t)?i(a,"0"):a)?i(a,"percentage"):a,t))+'%">\n          </div>\n        </div>\n      </div>\n'},21:function(n,t,e,o,r){var a,s=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return null!=(a=s(e,"if").call(null!=t?t:n.nullContext||{},null!=t?s(t,"canEdit"):t,{name:"if",hash:{},fn:n.program(22,r,0),inverse:n.program(26,r,0),data:r,loc:{start:{line:108,column:6},end:{line:121,column:13}}}))?a:""},22:function(n,t,e,o,r){var a,s=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'      <div class="col-sm-2">\n        <select class="form-control input-sm selStatus">\n'+(null!=(a=s(e,"each").call(null!=t?t:n.nullContext||{},null!=(a=null!=(a=null!=t?s(t,"items"):t)?s(a,"0"):a)?s(a,"possibleStatuses"):a,{name:"each",hash:{},fn:n.program(23,r,0),inverse:n.noop,data:r,loc:{start:{line:111,column:10},end:{line:114,column:19}}}))?a:"")+"        </select>\n      </div>\n"},23:function(n,t,o,a,s){var l,i=n.lambda,u=n.escapeExpression,c=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'          <option value="'+u(i(null!=t?c(t,"id"):t,t))+'" '+(null!=(l=r(e(669)).call(null!=t?t:n.nullContext||{},null!=(l=null!=(l=null!=(l=null!=t?c(t,"items"):t)?c(l,"0"):l)?c(l,"status"):l)?c(l,"id"):l,"==",null!=t?c(t,"id"):t,{name:"ifCond",hash:{},fn:n.program(24,s,0),inverse:n.noop,data:s,loc:{start:{line:112,column:33},end:{line:112,column:102}}}))?l:"")+">"+u(i(null!=t?c(t,"label"):t,t))+"\n          </option>\n"},24:function(n,t,e,o,r){return' selected="selected" '},26:function(n,t,e,o,r){var a,s=n.lambda,l=n.escapeExpression,i=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'      <div class="col-sm-2">\n        <i class="fa fa-tag" style="color:'+l(s(null!=(a=null!=(a=null!=(a=null!=t?i(t,"items"):t)?i(a,"0"):a)?i(a,"status"):a)?i(a,"color"):a,t))+';"></i>'+l(s(null!=(a=null!=(a=null!=(a=null!=t?i(t,"items"):t)?i(a,"0"):a)?i(a,"status"):a)?i(a,"label"):a,t))+"\n      </div>\n"},28:function(n,t,e,o,r){var a,s=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return null!=(a=s(e,"if").call(null!=t?t:n.nullContext||{},null!=t?s(t,"canEdit"):t,{name:"if",hash:{},fn:n.program(29,r,0),inverse:n.program(31,r,0),data:r,loc:{start:{line:129,column:6},end:{line:135,column:13}}}))?a:""},29:function(n,t,e,o,r){return'      <div class="col-sm-2">\n        <input type="text" style="width: 100%;" class="input-sm addComments" />\n      </div>\n'},31:function(n,t,e,o,r){return'      <div class="col-sm-2"></div>\n'},33:function(n,t,e,o,r){var a,s=n.lambda,l=n.escapeExpression,i=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'        <i class="fa fa-comment-dots btnComment" aria-hidden="true" task-id="'+l(s(null!=(a=null!=(a=null!=t?i(t,"items"):t)?i(a,"0"):a)?i(a,"id"):a,t))+'" task-title="'+l(s(null!=t?i(t,"name"):t,t))+'"></i>\n'},compiler:[8,">= 4.3.0"],main:function(n,t,o,a,s,l,i){var u,c=n.lambda,p=n.escapeExpression,d=null!=t?t:n.nullContext||{},f=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'<div id="'+p(c(null!=t?f(t,"id"):t,t))+'" class="popover fade in '+p(c(null!=t?f(t,"position"):t,t))+" "+p(c(null!=t?f(t,"className"):t,t))+' "\n  style="top: '+p(c(null!=t?f(t,"top"):t,t))+"px; left: "+p(c(null!=t?f(t,"left"):t,t))+'px; display: block;">\n  <div class="arrow"></div>\n\n\n  <div class="row popover-title">\n    <div class="col-sm-9 nopadding">\n      <h3>'+p(c(null!=t?f(t,"title"):t,t))+"</h3>\n    </div>\n"+(null!=(u=r(e(669)).call(d,null!=t?f(t,"fromImputTemplate"):t,"==",!0,{name:"ifCond",hash:{},fn:n.program(1,s,0,l,i),inverse:n.noop,data:s,loc:{start:{line:10,column:4},end:{line:19,column:15}}}))?u:"")+'  </div>\n\n  <div class="popover-content" style="'+(null!=(u=f(o,"if").call(d,null!=t?f(t,"maxHeight"):t,{name:"if",hash:{},fn:n.program(3,s,0,l,i),inverse:n.noop,data:s,loc:{start:{line:22,column:38},end:{line:22,column:90}}}))?u:"")+' ">\n    '+(null!=(u=c(null!=t?f(t,"content"):t,t))?u:"")+"\n"+(null!=(u=f(o,"if").call(d,null!=t?f(t,"workflowEnabled"):t,{name:"if",hash:{},fn:n.program(5,s,0,l,i),inverse:n.noop,data:s,loc:{start:{line:24,column:4},end:{line:152,column:11}}}))?u:"")+"\n  </div>\n\n</div>"},useData:!0,useDepths:!0})},714:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requestFile=t.request=void 0;var o=e(18);function r(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function a(n,t,e,o,r,a,s){try{var l=n[a](s),i=l.value}catch(n){return void e(n)}l.done?t(i):Promise.resolve(i).then(o,r)}function s(n){return function(){var t=this,e=arguments;return new Promise((function(o,r){var s=n.apply(t,e);function l(n){a(s,o,r,l,i,"next",n)}function i(n){a(s,o,r,l,i,"throw",n)}l(void 0)}))}}var l=__apiURL,i=function(n){if(n&&n.hasError){var t=new Error(n.error);throw t.response=n,t}return n},u=function(n){var t=n.fileName,e=n.response;if(e&&e.hasError){var o=new Error(e.error);throw o.response=e,o}return{fileName:t,response:e}},c=function(n){return n.text().then((function(n){return n?JSON.parse(n):{}}))},p=function(){var n=s(regeneratorRuntime.mark((function n(t){var e,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.headers.get("Content-Disposition").split("=")[1].replace(/['"]/g,""),n.next=3,t.blob().then((function(n){return n}));case 3:return o=n.sent,n.abrupt("return",{fileName:e,response:o});case 5:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}(),d=function(n){if(n.status>=200&&n.status<300)return n;var t=new Error(n.statusText);t.response=n,n.text().then((function(e){throw(0,o.showMessage)("status : ".concat(n.status," <br/> ").concat(n.statusText," <br/> ").concat(e),(0,o.translate)("_request_error_in_fetch"),"error"),t}))},f=function(n,t){var e=__currentToken,o=n,a=n.headers?n.headers:{};if(e&&t.indexOf("/security/login?")<0){var s=new Headers(function(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},o=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(e).filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})))),o.forEach((function(t){r(n,t,e[t])}))}return n}({Authorization:"Token ".concat(__currentToken),"session-key":__currentSession?__currentSession.session_key:""},a));o.headers=s}return o},m=function(){var n=s(regeneratorRuntime.mark((function n(t,e){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=f(e,t),n.abrupt("return",fetch("".concat(l).concat(t),o).then(d).then(c).then(i));case 2:case"end":return n.stop()}}),n,this)})));return function(t,e){return n.apply(this,arguments)}}();t.request=m;var h=function(){var n=s(regeneratorRuntime.mark((function n(t,e){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=f(e,t),n.abrupt("return",fetch("".concat(l).concat(t),o).then(d).then(p).then(u));case 2:case"end":return n.stop()}}),n,this)})));return function(t,e){return n.apply(this,arguments)}}();t.requestFile=h},722:function(n,t,e){"use strict";(function(o){var r;void 0===(r=function(){return o.Controller.extend({name:"workflow",show:function(){Promise.all([e.e(20),e.e(23),e.e(38),e.e(94),e.e(99)]).then((function(){var n=[e(1591)];(function(n){(new n).render()}).apply(null,n)})).catch(e.oe)},showTaskGroups:function(){Promise.all([e.e(20),e.e(23),e.e(38),e.e(81),e.e(102)]).then((function(){var n=[e(1636)];(function(n){(new n).render()}).apply(null,n)})).catch(e.oe)},showTaskItemStatuses:function(){Promise.all([e.e(20),e.e(23),e.e(38),e.e(81),e.e(103)]).then((function(){var n=[e(1637)];(function(n){(new n).render()}).apply(null,n)})).catch(e.oe)},showTaskItemStatusTransitions:function(){Promise.all([e.e(20),e.e(23),e.e(108)]).then((function(){var n=[e(1638)];(function(n){(new n).render()}).apply(null,n)})).catch(e.oe)},showTaskItemHistoryModal:function(n){e.e(122).then((function(){var t=[e(1639)];(function(t){(new t).render(n)}).apply(null,t)})).catch(e.oe)}})}.apply(t,[]))||(n.exports=r)}).call(this,e(677))},742:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bulkPartialUpdateTaskItemStatusTransition=t.listPosibleByFromStatusId=t.listTaskItemStatusTransitions=t.deleteTaskItemStatus=t.partialUpdateTaskItemStatus=t.createTaskItemStatus=t.listTaskItemStatuses=t.listTaskItemHistoryById=t.bulkPartialUpdateTaskItem=t.partialUpdateTaskItem=t.deleteTaskGroup=t.partialUpdateTaskGroup=t.createTaskGroup=t.listTaskGroups=t.deleteTask=t.listTasksByGroupsIds=t.listTasksByStatusId=t.listTasks=t.createTask=void 0;var o=e(714);function r(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=[],o=!0,r=!1,a=void 0;try{for(var s,l=n[Symbol.iterator]();!(o=(s=l.next()).done)&&(e.push(s.value),!t||e.length!==t);o=!0);}catch(n){r=!0,a=n}finally{try{o||null==l.return||l.return()}finally{if(r)throw a}}return e}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}t.createTask=function(n){return(0,o.request)("/wftask/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})};t.listTasks=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(n).length>0&&Object.entries(n).map((function(n){var t=r(n,2),e=t[0],o=t[1];return"".concat(e,"=").concat(o)})).join("&");return(0,o.request)("/wftask/".concat(t?"?".concat(t):""),{method:"GET"})};t.listTasksByStatusId=function(n){return(0,o.request)("/wftask/list_by_status_id/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:n})})};t.listTasksByGroupsIds=function(n){return(0,o.request)("/wftask/list_by_groups_ids/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({groups_ids:n})})};t.deleteTask=function(n){return(0,o.request)("/wftask/".concat(n,"/"),{method:"DELETE"})};t.listTaskGroups=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(n).length>0&&Object.entries(n).map((function(n){var t=r(n,2),e=t[0],o=t[1];return"".concat(e,"=").concat(o)})).join("&");return(0,o.request)("/wftaskgroup/".concat(t?"?".concat(t):""),{method:"GET"})};t.createTaskGroup=function(n){return(0,o.request)("/wftaskgroup/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})};t.partialUpdateTaskGroup=function(n,t){return(0,o.request)("/wftaskgroup/".concat(n,"/"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})};t.deleteTaskGroup=function(n){return(0,o.request)("/wftaskgroup/".concat(n,"/"),{method:"DELETE"})};t.partialUpdateTaskItem=function(n,t){return(0,o.request)("/wftaskitem/".concat(n,"/"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})};t.bulkPartialUpdateTaskItem=function(n){return(0,o.request)("/wftaskitem/bulk_partial_update/",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})};t.listTaskItemHistoryById=function(n){return(0,o.request)("/wftaskitemhistory/list_by_task_item_id/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:n})})};t.listTaskItemStatuses=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(n).length>0&&Object.entries(n).map((function(n){var t=r(n,2),e=t[0],o=t[1];return"".concat(e,"=").concat(o)})).join("&");return(0,o.request)("/wftaskitemstatus/".concat(t?"?".concat(t):""),{method:"GET"})};t.createTaskItemStatus=function(n){return(0,o.request)("/wftaskitemstatus/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})};t.partialUpdateTaskItemStatus=function(n,t){return(0,o.request)("/wftaskitemstatus/".concat(n,"/"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})};t.deleteTaskItemStatus=function(n){return(0,o.request)("/wftaskitemstatus/".concat(n,"/"),{method:"DELETE"})};t.listTaskItemStatusTransitions=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(n).length>0&&Object.entries(n).map((function(n){var t=r(n,2),e=t[0],o=t[1];return"".concat(e,"=").concat(o)})).join("&");return(0,o.request)("/wftaskitemstatustransition/".concat(t?"?".concat(t):""),{method:"GET"})};t.listPosibleByFromStatusId=function(n){return(0,o.request)("/wftaskitemstatustransition/list_posible_by_from_status_id/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})};t.bulkPartialUpdateTaskItemStatusTransition=function(n){return(0,o.request)("/wftaskitemstatustransition/bulk_partial_update/",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}},954:function(n,t,e){"use strict";(function(o,r){var a,s,l=e(18),i=e(742);function u(n,t,e,o,r,a,s){try{var l=n[a](s),i=l.value}catch(n){return void e(n)}l.done?t(i):Promise.resolve(i).then(o,r)}a=[e(2649),e(722)],void 0===(s=function(n,t){return o.View.extend({el:r("#main"),hasChanges:!1,render:function(e){var o=this,a=r.uuid();this.options.id="popover_"+a;var s=n(this.options);this.$el.append(s),this.positionPopover(),this.options.hasOwnProperty("onLoad")&&this.options.onLoad(r("#"+this.options.id));var c=this,p=r('div[id="popover_'+a+'"]'),d=r('div[id="popover_'+a+'"] .arrow');p.position().top<1&&(p.css({top:"10px"}),d.css({top:"40px"}));r("#"+this.options.id).on("updatePosition",(function(){c.positionPopover()})),r("#"+this.options.id).on("hide",(function(){c.removePopover()})),r("#"+this.options.id+" a.workflowtask").on("click",(function(n){var e=new t,o={id:r(this).attr("data-rel"),fromDashboard:!0};e.showTaskModal(o),c.removePopover(),n.preventDefault()})),r("#".concat(this.options.id)).find(".btnComment").on("click",(function(n){n.preventDefault();var e=new t;o.removePopover(),e.showTaskItemHistoryModal({id:r(n.target).attr("task-id"),title:r(n.target).attr("task-title")})})),r(document).on("mousedown",(function n(t){var e=r("#"+c.options.id);e.is(t.target)||0!==e.has(t.target).length||(c.removePopover(),r(document).off("mousedown",n))})),!this.options.fromEmbedded&&this.options.fromImputTemplate&&(r(p).find('input[name="progress"], .selStatus').on("change",(function(n){r(p).find(".tasksActions").show()})),r(p).find(".btnCancel").on("click",(function(n){c.removePopover()})),r(p).find(".btnSaveTasks").on("click",function(){var n,t=(n=regeneratorRuntime.mark((function n(t){var e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=[],r("#".concat(o.options.id)).find(".item-task").each((function(n,o){t.preventDefault();var a={id:r(o).attr("task-id"),percentage:r(o).find('input[data-id="progress"]').val(),status:r(o).find(".selStatus").val(),comments:r(o).find(".addComments").val()};r(o).find('input[data-id="progress"]').length>0&&r(o).find(".selStatus").length>0&&r(o).find(".addComments").length>0&&e.push(a)})),n.next=4,(0,i.bulkPartialUpdateTaskItem)({items:e});case 4:n.sent,(0,l.showMessage)((0,l.translate)("_wfTaskItemsSuccessfullyEdited"),(0,l.translate)("_successfully_edited"),"success"),o.removePopover(),o.options.onSaveCallback();case 8:case"end":return n.stop()}}),n,this)})),function(){var t=this,e=arguments;return new Promise((function(o,r){var a=n.apply(t,e);function s(n){u(a,o,r,s,l,"next",n)}function l(n){u(a,o,r,s,l,"throw",n)}s(void 0)}))});return function(n){return t.apply(this,arguments)}}()))},setContent:function(n){r("#"+this.options.id).find(".popover-content").html(n),this.positionPopover()},removePopover:function(){r("#"+this.options.id).remove()},positionPopover:function(){var n=r("#navigation").height(),t="top",e=r("#"+this.options.id),o=e.width(),a=e.height();switch(this.options.top-a-n<0&&(t="bottom"),this.options.left>o?t="left":this.options.left+o<r(window).width()?t="right":o<r(window).width()?(this.options.left=0,t="right"):(this.options.left=0,t="right",e.removeClass(this.options.className),e.css("maxWidth"," "),e.css("maxWidth",(.9*r(window).width()|0)+"px"),e.css("width"," "),e.css("width",(.9*r(window).width()|0)+"px")),e.removeClass("top").removeClass("left").removeClass("right").removeClass("bottom"),e.addClass(t),t){case"top":e.css("top",this.options.top-a-n+"px"),e.css("left",this.options.left-o/2+"px");break;case"bottom":e.css("top",this.options.top-n+"px"),e.css("left",this.options.left-o/2+"px");break;case"left":e.css("top",this.options.top-a/2-n+"px"),e.css("left",this.options.left-o-10+"px");break;case"right":e.css("top",this.options.top-a/2-n+"px"),e.css("left",this.options.left+10+"px")}}})}.apply(t,a))||(n.exports=s)}).call(this,e(219),e(1))}}]);