/*! Copyright Novix S.A. 2019. All rights reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[59,3,4,9,27,37,80,102],{219:function(e,n,t){"use strict";(function(o,a){var i,s=t(18),r=t(693);void 0===(i=function(){var e=function(e,n,t,a){if(__currentSession.modelInfo=e,o("#licenceExpiration").hide(),__currentSession.modelInfo.daysToExpire)try{var i=parseInt(__currentSession.modelInfo.daysToExpire)-1;i>=0&&i<15&&(i>=0?o("#licenceExpiration span").html((0,s.translate)("days_to_expire").replace("#days#",i)):o("#licenceExpiration span").html((0,s.translate)("license_expired")),o("#licenceExpiration").show(),setTimeout(function(){o("#licenceExpiration").hide()},15e3))}catch(e){}if(""!=e.new_session_key&&(__currentSession.session_key=e.new_session_key,(0,r.ajaxSetup)()),n(e),o(".wikiLink").attr("href","http://docs.pyplan.com"),t||o("#summary").trigger("refresh"),o("#navigation .modelopened").show(),o("#left .navigation .modelopened").show(),o("#currentModel").html(e.uri.substring(e.uri.lastIndexOf("/")+1,e.uri.lastIndexOf("."))),e.useSnapshot){var c=(0,s.translate)("use_snapshot");o("#navigation .snapshotactive").show().attr("title",c).attr("data-snapdate",e.snapshotDate)}a.canEdit()?(o("#navigation li.modelopened[data-key='btnSaveModel']").show(),o("#navigation li.modelopened[data-key='btnSaveModelAs']").show(),__currentSession.modelInfo&&__currentSession.modelInfo.readonly&&(o("#navigation li.modelopened[data-key='btnSaveModel']").hide(),(0,s.showMessage)(__currentSession.modelInfo.readOnlyReason,"","info",!1))):(o("#navigation li.modelopened[data-key='btnSaveModel']").hide(),o("#navigation li.modelopened[data-key='btnSaveModelAs']").hide())};return a.Model.extend({openModel:function(n,t,a,i){o("#navigation .snapshotactive").hide();var s=this;(0,r.send)("modelManager/openModel/",{file:n},null,function(n){n&&e(n,t,a,s)},i)},createNewModel:function(n,t,a,i){o("#navigation .snapshotactive").hide();var s=this;(0,r.send)("modelManager/createNewModel/",{modelName:n},null,function(n){n&&e(n,t,a,s)},i)},closeModel:function(e){(0,r.send)("modelManager/closeModel/",null,null,function(){Promise.all([t.e(2),t.e(6),t.e(62)]).then(function(){var n=[t(684)];(function(n){(new n).clearUI(),e()}).apply(null,n)}).catch(t.oe)})},saveModel:function(e){(0,r.send)("modelManager/saveModel/",null,{dataType:"text"},function(){e()})},saveModelAs:function(e,n){(0,r.send)("modelManager/saveModelAs/",{name:e},{type:"GET"},function(e){n(e)})},getModelInfo:function(e){(0,r.send)("modelManager/getModelInfo/",null,null,e)},isInPublic:function(){return!!(__currentSession.modelInfo.uri&&__currentSession.modelInfo.uri.toLowerCase().indexOf("/public/")>=0)},canEdit:function(){var e=!1,n=this.isInPublic();return((0,s.haveAccess)("change_model")&&!n||(0,s.haveAccess)("change_public_model")&&n)&&(e=!0),e},setModelPreferences:function(e,n,t,a){(0,r.send)("modelManager/setModelPreferences/",JSON.stringify(e),{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},function(e){void 0!=n&&n(e),o("body").trigger("pendingChanges",[!0])},function(e){t(e)},!1,a)},getModelPreferences:function(e,n,t){(0,r.send)("modelManager/getModelPreferences/",null,{type:"GET"},e,n,!0,t)},setNodeProperties:function(e,n,t,a,i,s){void 0===s&&(s=!0),(0,r.send)("modelManager/setNodeProperties/",JSON.stringify({node:e,properties:n}),{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},function(e){void 0!=t&&t(e),o("body").trigger("pendingChanges",[s])},function(e){a(e)},!1,i)},setNodesProperties:function(e,n){(0,r.send)("modelManager/setNodesProperties/",JSON.stringify(e),{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},function(e){n(e),o("body").trigger("pendingChanges",[!0])})},setNodeIdFromTitle:function(e,n){(0,r.send)("modelManager/setNodeIdFromTitle/",{value:e},{type:"POST"},function(e){n(e),o("body").trigger("pendingChanges",[!0])})},getNodeProperties:function(e,n,t,o,a,i){(0,r.send)("modelManager/getNodeProperties/",JSON.stringify({node:e,properties:n,forceThisNode:i}),{type:"POST",contentType:"application/json;charset=utf-8"},t,o,!0,a)},getInputs:function(e,n){(0,r.send)("modelManager/getNodeInputs/?node="+e,null,{type:"GET"},n)},getOutputs:function(e,n){(0,r.send)("modelManager/getNodeOutputs/?node="+e,null,{type:"GET"},n)},executeForRefresh:function(e){(0,r.send)("modelManager/executeForRefresh/",null,{type:"POST",dataType:"text"},function(n){void 0!=e&&e(n)})},createNode:function(e,n,t){(0,r.send)("modelManager/createNode/",e,{type:"POST"},function(e){o("body").trigger("pendingChanges",[!0]),void 0!=n&&n(e)},t)},createAlias:function(e,n,t){(0,r.send)("modelManager/createAlias/",JSON.stringify({values:e}),{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},function(e){o("body").trigger("pendingChanges",[!0]),void 0!=n&&n(e)},t)},createInputNode:function(e,n,t){(0,r.send)("modelManager/createInputNode/",JSON.stringify({values:e}),{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},function(e){o("body").trigger("pendingChanges",[!0]),void 0!=n&&n(e)},t)},deleteNodes:function(e,n,t){(0,r.send)("modelManager/deleteNodes/",JSON.stringify({values:e}),{type:"DELETE",contentType:"application/json;charset=utf-8",dataType:"text"},function(e){o("body").trigger("pendingChanges",[!0]),void 0!=n&&n(e)},t)},searchNode:function(e,n,t){var o=e.text,a=void 0===o?"":o,i=e.extraClasses,s=void 0===i?[]:i,c=e.moduleId,l=e.nodeClass,d=e.fillDetail;(0,r.send)("modelManager/searchNodes/?text=".concat(a).concat(c?"&moduleId=".concat(c):"").concat(l?"&nodeClass=".concat(l):"").concat(d?"&fillDetail=".concat(d):""),JSON.stringify({extraClasses:s}),{type:"POST",contentType:"application/json;charset=utf-8"},n,t)},SearchForAutocomplete:function(e,n,t){(0,r.send)("modelManager/searchForAutocomplete/",{text:e},{type:"GET",dataType:"text"},n,t)},navigateDiagram:function(e,n,t){(0,r.send)("modelManager/navigateDiagram/",{moduleId:e,includeArrows:!1},null,n,t)},getArrows:function(e,n,t){(0,r.send)("modelManager/getArrows/",{moduleId:e},null,n,t)},executeButton:function(e,n,t){(0,r.send)("modelManager/executeButton/",JSON.stringify({nodeId:e}),{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},n,t)},evaluateNode:function(e,n,t){(0,r.send)("dashboardManager/getOrCreate/",{node:e},void 0,n,t)},isInBackground:function(e,n,t){(0,r.send)("modelManager/isInBackground/",{nodeId:e},{type:"GET",contentType:"application/json;charset=utf-8",dataType:"text"},n,t,!0)},abortProcess:function(e,n){(0,r.send)("modelManager/abortProcess/",null,{type:"GET"},e,n)},getIndexValues:function(e,n){(0,r.send)("dashboardManager/getIndexValues/",e,null,function(e){e&&n(e)})},getNodeIndexes:function(e,n){(0,r.send)("dashboardManager/getNodeIndexes/",{node:e},null,function(e){e&&n(e)})},getSelector:function(e,n){(0,r.send)("modelManager/getSelector/",{node:e},{type:"POST"},n)},exportFlatNode:function(e,n,o,a,i,s){var r={nodeId:e,fileFormat:n,numberFormat:o,columnFormat:a,compressed:i},c=new XMLHttpRequest;c.responseType="arraybuffer",c.open("POST","".concat(__apiURL,"/modelManager/exportFlatNode/")),c.setRequestHeader("Authorization","Token ".concat(__currentToken)),c.setRequestHeader("session-key",__currentSession?__currentSession.session_key:""),c.setRequestHeader("Content-type","application/json;charset=utf-8"),c.onreadystatechange=function(e){var n=e.currentTarget;n.readyState==n.DONE&&(200==n.status?s(n):Promise.all([t.e(2),t.e(18)]).then(function(){var e=[t(685)];(function(e){(new e).show({title:"ERROR!",text:n.response,notifyType:"error"})}).apply(null,e)}).catch(t.oe))},c.send(JSON.stringify(r))},exportCurrentNode:function(e,n,o,a,i,s,r){var c={nodeId:e,fileFormat:n,numberFormat:o,columnFormat:a,compressed:i,nodeQuery:s},l=new XMLHttpRequest;l.responseType="arraybuffer",l.open("POST","".concat(__apiURL,"/modelManager/exportCurrentNode/")),l.setRequestHeader("Authorization","Token ".concat(__currentToken)),l.setRequestHeader("session-key",__currentSession?__currentSession.session_key:""),l.setRequestHeader("Content-type","application/json;charset=utf-8"),l.onreadystatechange=function(e){var n=e.currentTarget;n.readyState==n.DONE&&(200==n.status?r(n):Promise.all([t.e(2),t.e(18)]).then(function(){var e=[t(685)];(function(e){(new e).show({title:"ERROR!",text:n.response,notifyType:"error"})}).apply(null,e)}).catch(t.oe))},l.send(JSON.stringify(c))},getDepartments:function(e){(0,r.send)("departments/by_current_company/",null,{type:"GET"},e)},getDeniedDepartments:function(e,n){(0,r.send)("departments/denied/?module=".concat(e),null,{type:"GET"},n)},setDeniedModule:function(e,n){(0,r.send)("departments/deny_items/",JSON.stringify(e),{type:"POST",contentType:"application/json;charset=utf-8"},n)},openParallelModel:function(e,n){(0,r.send)("ModelManager/openParallelModel/?file="+e,null,{type:"GET"},n)},closeParallelModel:function(e,n){(0,r.send)("ModelManager/closeParallelModel/?parallelToken="+e,null,{type:"GET"},n)},moveNodes:function(e,n,t){(0,r.send)("modelManager/moveNodes/",JSON.stringify({values:e}),{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},function(e){o("body").trigger("pendingChanges",[!0]),void 0!=n&&n(e)},t)},copyNodes:function(e,n,t){(0,r.send)("modelManager/copyNodes/",JSON.stringify({values:e}),{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},function(e){o("body").trigger("pendingChanges",[!0]),void 0!=n&&n(e)},t)},copyAsValues:function(e,n,t,a){(0,r.send)("modelManager/copyAsValues/",JSON.stringify({nodeId:e,asNewNode:n}),{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},function(e){o("body").trigger("pendingChanges",[!0]),void 0!=t&&t(e)},a)},setNodePosition:function(e,n,t){(0,r.send)("modelManager/setNodesPosition/",JSON.stringify({values:e}),{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},function(e){o("body").trigger("pendingChanges",[!0]),void 0!=n&&n(e)},t)},setNodeSize:function(e,n,t){(0,r.send)("modelManager/setNodesSize/",JSON.stringify({values:e}),{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},function(e){o("body").trigger("pendingChanges",[!0]),void 0!=n&&n(e)},t)},setNodeZ:function(e,n,t){(0,r.send)("modelManager/setNodeZ/",JSON.stringify({values:e}),{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},function(e){o("body").trigger("pendingChanges",[!0]),void 0!=n&&n(e)},t)},changeSession:function(n,o){var a=this;(0,r.send)("modelManager/changeToOtherModelSession/",{new_session_key:n},null,function(n){Promise.all([t.e(2),t.e(6),t.e(62)]).then(function(){var i=[t(684)];(function(t){(new t).clearUI(),e(n,o,!0,a)}).apply(null,i)}).catch(t.oe)})},getSharedNode:function(e,n){(0,r.send)("result/by_node_id/".concat(e,"/"),null,{type:"GET"},function(e){e&&n(e)},function(e,t){e&&n&&n(e)})},setSharedNode:function(e,n){(0,r.send)("result/".concat(e.id,"/"),JSON.stringify(e),{type:"PATCH",contentType:"application/json;charset=utf-8"},function(e){e&&n&&n(e)})},exportModuleToFile:function(e,n,t,o){var a={moduleId:e,exportType:n},i=new XMLHttpRequest;i.responseType="arraybuffer",i.open("POST","".concat(__apiURL,"/modelManager/exportModuleToFile/")),i.setRequestHeader("Authorization","Token ".concat(__currentToken)),i.setRequestHeader("session-key",__currentSession?__currentSession.session_key:""),i.setRequestHeader("Content-type","application/json;charset=utf-8"),i.onreadystatechange=function(e){var n=e.currentTarget;n.readyState==n.DONE&&(200==n.status?t(n):o(n.response))},i.send(JSON.stringify(a))},importModuleFromFile:function(e,n,t){(0,r.send)("modelManager/importModuleFromFile/",JSON.stringify(e),{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},function(e){o("body").trigger("pendingChanges",[!0]),void 0!=n&&n(e)},t)},getProfile:function(e,n,t,o){(0,r.send)("modelManager/getNodeProfile/",{nodeId:e},{type:"GET"},n,t,!0,o)},previewNode:function(e,n,t){var o={node:e};(0,r.send)("modelManager/previewNode/",o,{type:"POST"},n,t)},stopProcess:function(e,n){(0,r.send)("modelManager/stop/",null,{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},e,n,!1,!1)},listShortcuts:function(e){(0,r.send)("diagramShortcut/",null,{type:"GET"},e)},createShortcut:function(e,n){(0,r.send)("diagramShortcut/?node_id=".concat(e),null,{type:"POST"},function(e){void 0!=n&&n(e)})},deleteShortcut:function(e,n){(0,r.send)("diagramShortcut/".concat(e,"/"),null,{type:"DELETE"},function(e){void 0!=n&&n(e)})},getToolbars:function(e){(0,r.send)("modelManager/getToolbars/",null,{type:"GET"},e)},callWizard:function(e,n,t){(0,r.send)("modelManager/callWizard/",JSON.stringify(e),{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},n,t)},getFilesForImportWizard:function(e,n){(0,r.send)("modelManager/getFilesForImportWizard/",{extension:e},{type:"GET",contentType:"application/json;charset=utf-8",dataType:"text"},n)},installLibrary:function(e,n){(0,r.send)("modelManager/installLibrary/",JSON.stringify({lib:e}),{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},n)},getInstallProgress:function(e,n,t){(0,r.send)("modelManager/getInstallProgress/",{from_line:e},{type:"GET",contentType:"application/json;charset=utf-8",dataType:"text"},n,t,!0,!0)}})}.apply(n,[]))||(e.exports=i)}).call(this,t(1),t(218))},683:function(e,n,t){"use strict";(function(o){var a;void 0===(a=function(){return o.Controller.extend({name:"showModal",show:function(e){Promise.all([t.e(2),t.e(118)]).then(function(){var n=[t(701)];(function(n){(new n).render(e)}).apply(null,n)}).catch(t.oe)}})}.apply(n,[]))||(e.exports=a)}).call(this,t(694))},688:function(e,n,t){"use strict";var o=t(18);e.exports=function(e){return(0,o.translate)(e)}},693:function(e,n,t){"use strict";t.r(n),function(e){t.d(n,"ajaxSetup",function(){return a}),t.d(n,"send",function(){return i});var o=t(18);function a(n=null){e.ajaxSetup({...{dataType:"json",crossDomain:!0,headers:{Authorization:`Token ${__currentToken}`,"session-key":__currentSession?__currentSession.session_key:""}},...()=>n||{}})}function i(n,a,i,s,r,c,l){i||(i=new Object),c||e("#secondLoading").show(),i.hasOwnProperty("success")||(i.success=function(n,o,a){if("object"!=typeof n&&null!=n&&""!=n)try{n=e.parseJSON(n)}catch(e){}c||(e("#mainLoading").hide(),e("#secondLoading").hide());var i=function(e,n,o,a,i){e&&e.hasOwnProperty("hasError")?(o||Promise.all([t.e(2),t.e(18)]).then(function(){var n=[t(685)];(function(n){(new n).show({title:"WARNING!",text:e.error,notifyType:"error"})}).apply(null,n)}).catch(t.oe),void 0!=i&&i(e.error)):void 0!=a&&a(e,n)};n&&n.hasOwnProperty("isCompressed")&&n.hasOwnProperty("obj")?t.e(105).then(function(){var o=[t(856)];(function(t){n=e.parseJSON(t.inflate(atob(n.obj),{to:"string"})),i(n,a,l,s,r)}).apply(null,o)}).catch(t.oe):i(n,a,l,s,r)}),i.hasOwnProperty("type")||(i.type="GET"),a&&(i.data=a),i.error=function(a,s,d){if(c||(e("#mainLoading").hide(),e("#secondLoading").hide()),a){let e="";const s=`[${i.type}] ${n}`;if(a.responseJSON)for(const n in a.responseJSON)e+="non_field_errors"==n?`${a.responseJSON[n]}\n`:`[${n}]: ${a.responseJSON[n]}\n`;else e=`${a.responseText}\n`;let c="info",d=void 0,u=void 0,p="WARNING!";const f=[];switch(a.status){case 401:c="info",u=15e3,d=(()=>{location.reload()}),f.push({css:"warning",code:"401",title:Object(o.translate)("relog")});break;case 403:c="info",u=1e4,p=Object(o.translate)("access_denied")}void 0!=l&&0!=l||Promise.all([t.e(2),t.e(18)]).then(function(){var n=[t(685)];(function(n){(new n).show({title:p,text:e,endpoint:s,notifyType:c,timeOut:u,buttons:f,callback:d})}).apply(null,n)}).catch(t.oe),void 0!=r&&r(e,a)}},e.ajax({url:`${__apiURL}/${n}`,contentType:i.contentType,data:a,dataType:i.dataType?i.dataType:"json",method:i.type,success:i.success,error:i.error})}}.call(this,t(1))},700:function(e,n,t){"use strict";(function(o,a){var i,s,r=t(18);i=[t(684),t(782),t(783)],void 0===(s=function(e,n,i){return o.Controller.extend({name:"modelManager",currentModelUri:"",setCurrentUri:function(e){this.currentModelUri=e},open:function(e,n){n&&(this.currentModelUri="_no_model_name_"),this.openSummary(e)},openSummary:function(o){var i=new e,s="",c=this,l=function(e){if(c.currentModelUri=e,i.existsTask(s))i.selectTask(s);else if((0,r.haveAccess)("view_influence_diagram")){var o=new n;o.render(),Promise.resolve().then(function(){var n=[t(219)];(function(n){(new n).openModel(e,function(e){if(o.done(),a("#mainLoading").hide(),e)switch(a("#navigation .modelopened").show(),a("#left .navigation .modelopened").show(),e.onOpenModel){case"openDiagram":case"":s="influence_diagram",i.addSimpleTask(s,(0,r.translate)("model")),Promise.all([t.e(11),t.e(21),t.e(23)]).then(function(){var e=[t(720)];(function(e){(new e).showDiagram()}).apply(null,e)}).catch(t.oe),i.selectTask(s);break;case"openReportManager":t.e(54).then(function(){var e=[t(775)];(function(e){(new e).show()}).apply(null,e)}).catch(t.oe);break;case"openDashboard":t.e(32).then(function(){var n=[t(702)];(function(n){(new n).showDashboard(e.onOpenDashId,null,"",!1,!0,null,null)}).apply(null,n)}).catch(t.oe)}},!1,function(e){o.close()})}).apply(null,n)}).catch(t.oe)}else(0,r.showMessage)((0,r.translate)("view_influence_diagram_access_denied"),(0,r.translate)("no_permissions"),"error")};__currentSession.modelInfo.uri!=o&&""!=__currentSession.modelInfo.uri?Promise.resolve().then(function(){var e=[t(219)];(function(e){(new e).closeModel(function(){i.removeTask(s),l(o)})}).apply(null,e)}).catch(t.oe):l(o)},openSilentMode:function(e,o,a,i){var s=this;e||(e=this.currentModelUri),i||(this.currentModelUri="_no_model_name_");var r=function(e){s.currentModelUri=e;var i=new n;i.render(),Promise.resolve().then(function(){var n=[t(219)];(function(n){(new n).openModel(e,function(e){i.done(),e&&void 0!=o&&o(e)},a)}).apply(null,n)}).catch(t.oe)};this.currentModelUri!=e&&""!=this.currentModelUri?Promise.resolve().then(function(){var n=[t(219)];(function(n){(new n).closeModel(function(){r(e)})}).apply(null,n)}).catch(t.oe):r(e)},drawToolbar:function(e){var n=new i;return n.setElement(a("#model-summary")),n.render(e),n},showModelSummary:function(){var n=new e,o="report-manager";n.existsTask(o)?n.selectTask(o):(n.addSimpleTask(o,(0,r.translate)("report_manager")),t.e(68).then(function(){var e=[t(907)];(function(e){(new e).render(a("#currentModel").text(),!0)}).apply(null,e)}).catch(t.oe),n.selectTask(o))},clearLastModelOpened:function(){this.currentModelUri="-1"},searchNode:function(e,n){t.e(69).then(function(){var o=[t(873)];(function(t){(new t).render({callback:e,extraClasses:n})}).apply(null,o)}).catch(t.oe)},searchFilteredNodes:function(e){t.e(69).then(function(){var n=[t(873)];(function(n){(new n).render({callback:e,extraClasses:["all","variable","constant"]})}).apply(null,n)}).catch(t.oe)},exportNode:function(e,n){t.e(206).then(function(){var o=[t(1116)];(function(t){new t({node:e,nodeQuery:n}).render()}).apply(null,o)}).catch(t.oe)},inputNewModelName:function(){t.e(207).then(function(){var e=[t(1117)];(function(e){(new e).render()}).apply(null,e)}).catch(t.oe)},newEmptyModel:function(){t.e(208).then(function(){var e=[t(1118)];(function(e){(new e).render()}).apply(null,e)}).catch(t.oe)},showNodeSharer:function(e,n){t.e(209).then(function(){var o=[t(1119)];(function(t){(new t).render(e,n)}).apply(null,o)}).catch(t.oe)},showModelInfo:function(){t.e(210).then(function(){var e=[t(1120)];(function(e){(new e).render()}).apply(null,e)}).catch(t.oe)},showMsgBox:function(e){var n=e.body;if(n&&3==n.split(",").length){var o=n.split(","),a=o[2],i=o[0];t.e(17).then(function(){var e=[t(685)];(function(e){(new e).show({title:a,text:i,notifyClass:"ademsg"})}).apply(null,e)}).catch(t.oe)}},showProgressBar:function(e){var n=e.body;if(n&&3==n.split(",").length){var o=n.split(","),a=o[0],i=o[1],s=o[2];s*=100,t.e(17).then(function(){var e=[t(685)];(function(e){(new e).show({title:a,text:i,notifyClass:"ademsg",progressBar:s,timeOut:-1,buttons:[{title:(0,r.translate)("cancel"),css:"grey",code:"cancel"}],callback:function(e){"cancel"==e&&Promise.resolve().then(function(){var e=[t(219)];(function(e){(new e).abortProcess()}).apply(null,e)}).catch(t.oe)}})}).apply(null,e)}).catch(t.oe)}},quickEvaluate:function(e){t.e(211).then(function(){var n=[t(1121)];(function(n){new n(e).render()}).apply(null,n)}).catch(t.oe)},openDocumentationModal:function(e){t.e(212).then(function(){var n=[t(1122)];(function(n){new n(e).render()}).apply(null,n)}).catch(t.oe)}})}.apply(n,i))||(e.exports=s)}).call(this,t(694),t(1))},724:function(e,n,t){"use strict";(function(o){var a,i=t(18),s=t(693);void 0===(a=function(){var e=function(e,n,o){null!==e.companySettingFile&&""!==e.companySettingFile&&t.e(42).then(function(){var n=[t(713)("./".concat(e.companySettingFile))];(function(){Promise.resolve().then(function(){t(221)}).catch(t.oe)}).apply(null,n)}).catch(t.oe),__currentSession=e,(0,i.setProcessDictionary)(e.process),(0,s.ajaxSetup)(),Promise.all([t.e(2),t.e(6),t.e(43)]).then(function(){var o=[t(684)];(function(t){(new t).clearUI(),n(e)}).apply(null,o)}).catch(t.oe)};return o.Model.extend({isConnected:function(){return""!=__currentToken&&null!==__currentSession},connect:function(e,n,t,o,a){var i={error:function(e,n,t){alert("Could not contact server ".concat(__apiURL))},type:"POST"};(0,s.send)("token-auth/",{username:e,password:n},i,function(e){e&&e.token&&(__currentToken=e.token,(0,s.ajaxSetup)(),o(e))},a,!0,!0)},createSession:function(n,t,o){(0,s.send)("security/createSession",{companyId:n},{type:"POST"},function(n){e(n,t)},o)},getUserCompanies:function(e,n,t){(0,s.send)("security/getUserCompanies",{user:e,password:n},null,function(e){t(e)})},getUserCompaniesFromUserId:function(e,n){(0,s.send)("security/GetUserCompaniesFromUserId/?userId=".concat(e),null,null,function(e){n(e)})},logout:function(e){(0,s.send)("security/logout/",null,{dataType:"text"},function(n){void 0!=e&&e(n)})},getAllSessions:function(e){(0,s.send)("security/getAllSessions/",null,null,e,null,!0)},getMySessions:function(e){(0,s.send)("security/getMySessions/",null,null,e,null,!0)},getAllProcess:function(e){(0,s.send)("security/getAllProcess",null,null,e)},createFromToken:function(e,n,t){__currentToken=e,__currentSession={},(0,i.setProcessDictionary)([]),(0,s.ajaxSetup)(),(0,i.setLanguageDictionary)({}),n()},useExternalLink:function(e,n){(0,s.send)("security/useExternalLink/?guid=".concat(e),null,null,function(e,o){200===o.status?(null!==e.session.companySettingFile&&""!==e.session.companySettingFile&&t.e(42).then(function(){var n=[t(713)("./".concat(e.session.companySettingFile))];(function(){Promise.resolve().then(function(){t(221)}).catch(t.oe)}).apply(null,n)}).catch(t.oe),n(e,o)):n(e,o)})},killSessionByKey:function(e,n){(0,s.send)("security/killSessionByKey/",{session_key:e},{type:"GET",dataType:"text"},n)},createNewSession:function(n,t){(0,s.send)("security/createNewSession/",null,null,function(t){e(t,n)})},requireLogoutSessionByToken:function(e,n){(0,s.send)("security/requireLogoutSessionByToken/",{token:e},null,n)},ssoTest:function(){(0,s.send)("security/ssoTest",null,null,function(e){console.log(e)})},ssoCheckUser:function(e,n){(0,s.send)("security/SSOCheckUser/",null,null,e,n)},loginas:function(n,t,o,a,i){var r={error:function(e,n,t){alert("Could not contact server ".concat(__apiURL))}};(0,s.send)("security/loginas",{userId:n,token:t,companyId:o},r,function(n){e(n,a)})},loginFromToken:function(n,t,o){var a={error:function(e,n,t){alert("Could not contact server ".concat(__apiURL))}};(0,s.send)("security/loginFromToken",{token:n},a,function(n){e(n,t)})}})}.apply(n,[]))||(e.exports=a)}).call(this,t(218))},782:function(e,n,t){"use strict";(function(o,a){var i,s,r=t(18);i=[t(683),t(796)],void 0===(s=function(e,n){return o.View.extend({el:a("#main"),is_done:!1,render:function(t){var o=this,i=n(),s=new e,c=a("#main");void 0!=t&&t.custom_el&&(c=t.custom_el),s.show({title:(0,r.translate)("starting_environment"),html:i,custom_el:c,modalClass:"",backdrop:"static",keyboard:!1,onLoad:function(){a("#main-modal button.close").hide();var e=3,n=0;!function t(){if(0!=a("#main-modal").length)if(o.is_done)o.updateProgressbar(100),a("#main-modal .loading_progress").text("Done!"),setTimeout(function(){a("#main-modal button.close").click()},200);else{(n+=e)>=99&&(n=99),o.updateProgressbar(n);var i="";switch(!0){case n<30:i=(0,r.translate)("creating_environment")+"...";break;case n<60:i=(0,r.translate)("starting_environment")+"...";break;case n<85:i=(0,r.translate)("loading_workspace")+"...",e=1.5;break;case n<96:e=.5,i=(0,r.translate)("starting_pyplan_calc_engine")+"...";break;case n<=100:e=.2,i=(0,r.translate)("opening_model")+"..."}a("#main-modal .loading_progress").text(i),setTimeout(t,500)}}()}})},updateProgressbar:function(e){a("#main-modal .progress-bar").css("width",e+"%")},close:function(){a("#main-modal button.close").click()},done:function(){this.is_done=!0}})}.apply(n,i))||(e.exports=s)}).call(this,t(218),t(1))},783:function(e,n,t){"use strict";(function(o,a){var i,s;i=[t(219),t(797),t(798)],void 0===(s=function(e,n,t){return o.View.extend({el:a("#model-summary"),scrolling:!1,render:function(e){var t=n();this.$el.append(t),a("#swiperchanger button").click(function(){return a("#swiperchanger button").removeClass("active"),a(this).addClass("active"),a(".swiper-container.dashboard-gallery").hide(),a(".swiper-container.dashboard-gallery."+a(this).attr("data-rel")).show(),!1}),void 0!=e&&e()},fillSwipper:function(e){var n=t(e);a(".dashboard-gallery div.swiper-wrapper").html(n)},addItems:function(e){var n=t(e);a(".dashboard-gallery div.swiper-wrapper").append(n),this.refreshDashSwiper()},initDashSwiper:function(){var e=!1;function n(t,o){var i=parseInt(a(t).css("marginLeft").replace("px",""));i>=0&&0==o.indexOf("+")?e=!1:Math.abs(i-.7*a(window).width())>a(".dashboard-gallery .swiper-wrapper").width()&&0==o.indexOf("-")?e=!1:t.animate({marginLeft:o},10,function(){e&&n(t,o)})}a("#right-button-swiper").bind("touchstart mousedown",function(){return e=!0,n(a(".dashboard-gallery .swiper-wrapper"),"-=10px"),!1}),a("#right-button-swiper").bind("touchend mouseup",function(){e=!1}),a("#left-button-swiper").bind("touchstart mousedown",function(){return e=!0,n(a(".dashboard-gallery .swiper-wrapper"),"+=10px"),!1}),a("#left-button-swiper").bind("touchend mouseup",function(){e=!1}),this.refreshDashSwiper()},destroyDashSwiper:function(){a("#right-button-swiper").unbind(),a("#left-button-swiper").unbind()},refreshDashSwiper:function(){var e=30;a(".dashboard-gallery div.swiper-wrapper div.swiper-slide").each(function(){e=e+a(this).width()+10}),a(".dashboard-gallery div.swiper-wrapper").width(e)}})}.apply(n,i))||(e.exports=s)}).call(this,t(218),t(1))},796:function(e,n,t){var o=t(690);e.exports=(o.default||o).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,o,a){return'<div class="row">\n\n  <div class="progress progress-striped active" style="background-color:#f1f1f1; width:80%; margin: 0 auto;">\n    <div class="progress-bar" role="progressbar" aria-valuenow="1" aria-valuemin="0" aria-valuemax="100"\n      style="width: 1%">\n      <span class="sr-only"></span>\n    </div>\n  </div>\n\n</div>\n<div class="row text-center">\n  <h6 class="loading_progress"></h6>\n</div>'},useData:!0})},797:function(e,n,t){var o=t(690);e.exports=(o.default||o).template({compiler:[7,">= 4.0.0"],main:function(e,n,o,a,i){return'    <div class="row-fluid bottom-anchor nodisplay dashboardswiper">\n        <div class="span12">\n            <div class="box">\n        <div class="box-title btn-toolbar">\n\n          <div class="row">\n            <div class="col-sm-5">\n              <div id="swiperchanger" class="btn-group">\n                <button class="btn " data-rel="swiper-dashboard" ><i class="fa fa-bar-chart"></i> '+e.escapeExpression(function(e){return e&&(e.__esModule?e.default:e)}(t(688)).call(null!=n?n:e.nullContext||{},"dashboards",{name:"L",hash:{},data:i}))+'</button>\n              </div>\n\n          </div>\n\n\n        </div>\n\n\n\n        <div class="box-content nopadding swiper-container dashboard-gallery swiper-dashboard">\n          <div  id="left-button-swiper" class="left-button left-button-dashboard">\n            <i class="fa fa-chevron-left"></i>\n          </div>\n          <div class="swiper-wrapper"></div>\n\n          <div  id="right-button-swiper" class="right-button right-button-dashboard">\n            <i class="fa fa-chevron-right"></i>\n          </div>\n        </div>\n\n\n            </div>\n        </div>\n    </div>\n\n\n\n\n\n'},useData:!0})},798:function(e,n,t){var o=t(690);e.exports=(o.default||o).template({1:function(e,n,o,a,i){var s=e.lambda,r=e.escapeExpression;return'<div class="swiper-slide dashboard-slide" data-id="'+r(s(null!=n?n.dashboardId:n,n))+'">\n    \x3c!--img src="'+r(function(e){return e&&(e.__esModule?e.default:e)}(t(719)).call(null!=n?n:e.nullContext||{},{name:"baseURL",hash:{},data:i}))+"thumbs/view.ashx?img=dashboards-common-dash"+r(s(null!=n?n.dashboardId:n,n))+'&w=110&h=53&t=crop" height="53" width="110" alt=""--\x3e\n    <div class="title"><span>'+r(s(null!=n?n.name:n,n))+"</span></div>\n</div>"},compiler:[7,">= 4.0.0"],main:function(e,n,t,o,a){var i;return null!=(i=t.each.call(null!=n?n:e.nullContext||{},null!=n?n.free:n,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?i:""},useData:!0})}}]);