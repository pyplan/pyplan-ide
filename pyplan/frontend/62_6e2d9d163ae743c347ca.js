/*! Copyright Novix S.A. 2019. All rights reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[62,27],{688:function(e,n,t){"use strict";var r=t(18);e.exports=function(e){return(0,r.translate)(e)}},694:function(e,n,t){var r,o;!function(i,c){if(!i.BackboneMVC){var s=i.BackboneMVC={};r=[t(218),t(220),t(1)],void 0===(o=function(e,n,t){return function(e,n,t,r,o){"use strict";if(void 0===t||void 0===r)return;var i=function(){function e(){this._created=(new Date).getTime()}return r.extend(e.prototype,{_created:null}),e.extend=function(n){var t,o=function(){return void 0!==t?t:(e.apply(this,arguments),void 0!==this.initialize&&this.initialize.apply(this,arguments),t=this)};return o.prototype=new e,r.extend(o.prototype,n),o.prototype.constructor=o,o.prototype.classId=r.uniqueId("controller_"),o},e}();r.extend(n,{namespace:function(n){for(var t=n.split("."),r=e,o=0,i=t.length;o<i;o++)void 0===r[t[o]]&&(r[t[o]]={}),r=r[t[o]]},Controller:{beforeFilter:function(){return(new o.Deferred).resolve()},afterRender:function(){return(new o.Deferred).resolve()},checkSession:function(){return(new o.Deferred).resolve(!0)},default:function(){return!0}},Router:function(){var e={_history:[],routes:{"*components":"dispatch"},dispatch:function(e){var n,t=(e||"").replace(/\/+$/g,"").split("/");if(c[t[0]]?n=t[0]:void 0!==c[a(t[0])]?n=a(t[0]):void 0!==c[f(t[0])]&&(n=f(t[0])),void 0===n)return this[404]();var i=new c[n],s=t.length>1?t[1]:"default";if("function"!=typeof i._actions[s])return this[404]();var p=t.length>2?r.rest(t,2):[];return function(e,n,t,o){e._history.length>888&&(e._history=r.last(e._history,888));e._history.push([n,t,o])}(this,n,s,p),function(e,n,t){var r=new c[e],i=[n].concat(t),s=o.Deferred(),a=r.beforeFilter.apply(r,i);u(a)?s=a:l(s,a);"function"==typeof r._secureActions[n]&&(s=s.pipe(function(){var e=r.checkSession.apply(r,t);return u(e)?e:l(new o.Deferred,e)}));return s=(s=s.pipe(function(){var e=r[n].apply(r,t);return u(e)?e:l(new o.Deferred,e)})).pipe(function(){var e=r.afterRender.apply(r,i);return u(e)?e:l(new o.Deferred,e)})}(n,s,p)},404:function(){},getLastAction:function(){return r.last(this._history,1)[0]},navigate:function(e,n){n&&!0!==n||(n={trigger:n});var i=r.extend({},n);return i.trigger=!1,t.Router.prototype.navigate.call(this,e,i),n.trigger?this.dispatch(e):(new o.Deferred).resolve()}};function n(n){var o=r.extend(n.routes||{},e.routes);return t.Router.extend(r.extend({},e,n,{routes:o}))}var i=t.Router.extend(r.extend({extend:n},e));return i.extend=n,i}(),Model:{extend:function(e){return e=r.extend({__fetchSuccessCallback:null,__fetchErrorCallback:null,fetch:function(e){var n=(e=e||{}).success;e.success=function(e,t){if(n&&n(e,t),e.__fetchSuccessCallback){var r=e.__fetchSuccessCallback;e.__fetchSuccessCallback=null,r.apply(e)}};var o=e.error;e.error=function(e,n){o&&o(e,n),e.trigger("error",o)},t.Model.prototype.fetch.apply(this,[e].concat(r.rest(arguments)))},parse:function(e){return this.__fetchSuccessCallback=null,this.__fetchErrorCallback=null,!e||e.error?(this.trigger("error",e&&e.error||e),{}):(this.__fetchSuccessCallback=function(){this.trigger("read",e.data)}.bind(this),e.data)}},e),t.Model.extend(e)}}}),n.Controller.extend=function e(t,o){return function(t){var u=t.name;if(void 0===u)throw"'name' property is mandatory ";t=r.extend({},o,t);var l=r.extend({},n.Controller),a={},f={};r.each(t,function(e,n){if(l[n]=e,"function"!=typeof e||"_"===n[0]||r.indexOf(s,n)>=0)return!1;if(a[n]=e,n.match(/^user_/i)){f[n]=e;var o=n.replace(/^user_/i,"");"function"!=typeof t[o]&&(f[o]=e,a[o]=e)}}),r.extend(l,a,{_actions:a,_secureActions:f}),"extend"in l&&delete l.extend;var p=i.extend(l);return r.extend(p,{extend:e(p,r.extend({},o,t))}),c[u]=p,p}}(n.Controller,{});var c={},s=["initialize","beforeFilter","afterRender","checkSession"];function u(e){return r.isObject(e)&&e.promise&&"function"==typeof e.promise}function l(e,n){return void 0===n&&(n=!0),e[n?"resolve":"reject"](n)}function a(e){return"string"!=typeof e?null:(e=e.replace(/\s{2,}/g," "),r.map(e.split(" "),function(e){return e.replace(/(^|_)[a-z]/gi,function(e){return e.toUpperCase()}).replace(/_/g,"")}).join(" "))}function f(e){return"string"!=typeof e?null:(e=e.replace(/\s{2,}/g," "),r.map(e.split(" "),function(e){return e.replace(/^[A-Z]/g,function(e){return e.toLowerCase()}).replace(/([a-z])([A-Z])/g,function(e,n,t){return n+"_"+t.toLowerCase()})}).join(" "))}}(i,s,e,n,t),s}.apply(n,r))||(e.exports=o)}}(this)},724:function(e,n,t){"use strict";(function(r){var o,i=t(18),c=t(693);void 0===(o=function(){var e=function(e,n,r){null!==e.companySettingFile&&""!==e.companySettingFile&&t.e(42).then(function(){var n=[t(713)("./".concat(e.companySettingFile))];(function(){Promise.resolve().then(function(){t(221)}).catch(t.oe)}).apply(null,n)}).catch(t.oe),__currentSession=e,(0,i.setProcessDictionary)(e.process),(0,c.ajaxSetup)(),Promise.all([t.e(2),t.e(6),t.e(43)]).then(function(){var r=[t(684)];(function(t){(new t).clearUI(),n(e)}).apply(null,r)}).catch(t.oe)};return r.Model.extend({isConnected:function(){return""!=__currentToken&&null!==__currentSession},connect:function(e,n,t,r,o){var i={error:function(e,n,t){alert("Could not contact server ".concat(__apiURL))},type:"POST"};(0,c.send)("token-auth/",{username:e,password:n},i,function(e){e&&e.token&&(__currentToken=e.token,(0,c.ajaxSetup)(),r(e))},o,!0,!0)},createSession:function(n,t,r){(0,c.send)("security/createSession",{companyId:n},{type:"POST"},function(n){e(n,t)},r)},getUserCompanies:function(e,n,t){(0,c.send)("security/getUserCompanies",{user:e,password:n},null,function(e){t(e)})},getUserCompaniesFromUserId:function(e,n){(0,c.send)("security/GetUserCompaniesFromUserId/?userId=".concat(e),null,null,function(e){n(e)})},logout:function(e){(0,c.send)("security/logout/",null,{dataType:"text"},function(n){void 0!=e&&e(n)})},getAllSessions:function(e){(0,c.send)("security/getAllSessions/",null,null,e,null,!0)},getMySessions:function(e){(0,c.send)("security/getMySessions/",null,null,e,null,!0)},getAllProcess:function(e){(0,c.send)("security/getAllProcess",null,null,e)},createFromToken:function(e,n,t){__currentToken=e,__currentSession={},(0,i.setProcessDictionary)([]),(0,c.ajaxSetup)(),(0,i.setLanguageDictionary)({}),n()},useExternalLink:function(e,n){(0,c.send)("security/useExternalLink/?guid=".concat(e),null,null,function(e,r){200===r.status?(null!==e.session.companySettingFile&&""!==e.session.companySettingFile&&t.e(42).then(function(){var n=[t(713)("./".concat(e.session.companySettingFile))];(function(){Promise.resolve().then(function(){t(221)}).catch(t.oe)}).apply(null,n)}).catch(t.oe),n(e,r)):n(e,r)})},killSessionByKey:function(e,n){(0,c.send)("security/killSessionByKey/",{session_key:e},{type:"GET",dataType:"text"},n)},createNewSession:function(n,t){(0,c.send)("security/createNewSession/",null,null,function(t){e(t,n)})},requireLogoutSessionByToken:function(e,n){(0,c.send)("security/requireLogoutSessionByToken/",{token:e},null,n)},ssoTest:function(){(0,c.send)("security/ssoTest",null,null,function(e){console.log(e)})},ssoCheckUser:function(e,n){(0,c.send)("security/SSOCheckUser/",null,null,e,n)},loginas:function(n,t,r,o,i){var s={error:function(e,n,t){alert("Could not contact server ".concat(__apiURL))}};(0,c.send)("security/loginas",{userId:n,token:t,companyId:r},s,function(n){e(n,o)})},loginFromToken:function(n,t,r){var o={error:function(e,n,t){alert("Could not contact server ".concat(__apiURL))}};(0,c.send)("security/loginFromToken",{token:n},o,function(n){e(n,t)})}})}.apply(n,[]))||(e.exports=o)}).call(this,t(218))}}]);