/*! Copyright Pyplan 2020. All rights reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[67,31],{1826:function(e,a,t){var n=t(690);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template({1:function(e,a,n,o,i){var s=null!=a?a:e.nullContext||{},l=e.escapeExpression;return'      <div class="btn-group add-report-group" style="float: left; margin-right: 8px;">\n        <a href="#" data-toggle="dropdown" class="btn btn-satgreen dropdown-toggle btn--icon"\n          style="width: 170px; min-width: 170px; max-width: 170px;">\n          <i class="fa fa-plus-circle"></i>'+l(r(t(688)).call(s,"_new",{name:"L",hash:{},data:i}))+'\n          <span class="caret"></span>\n        </a>\n        <ul class="dropdown-menu">\n          <li>\n            <a href="#" class="newDashboard">'+l(r(t(688)).call(s,"interface",{name:"L",hash:{},data:i}))+'</a>\n          </li>\n          <li>\n            <a href="#" class="newReport">'+l(r(t(688)).call(s,"application",{name:"L",hash:{},data:i}))+"</a>\n          </li>\n        </ul>\n      </div>\n"},3:function(e,a,n,o,i){return'      <button class="btn btn-blue btnImport" style="float: left;"> <i class="fa fa-download"></i> '+e.escapeExpression(r(t(688)).call(null!=a?a:e.nullContext||{},"_import",{name:"L",hash:{},data:i}))+"\n      </button>\n"},5:function(e,a,n,o,i){var s;return null!=(s=r(t(733)).call(null!=a?a:e.nullContext||{},"share_dashboard,generate_external_link",{name:"haveAnyAccess",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?s:""},6:function(e,a,n,o,i){return'    <li class="context-menu__item share">\n      <a href="javascript:void(0)" class="context-menu__link" data-action="share"><i class="fa fa-share-square"></i>\n        '+e.escapeExpression(r(t(688)).call(null!=a?a:e.nullContext||{},"share",{name:"L",hash:{},data:i}))+"</a>\n    </li>\n"},8:function(e,a,n,o,i){return'    <li class="context-menu__item publishToMy">\n      <a href="javascript:void(0)" class="context-menu__link" data-action="publishToMy"><i\n          class="fas fa-cloud-upload-alt"></i>\n        '+e.escapeExpression(r(t(688)).call(null!=a?a:e.nullContext||{},"publish",{name:"L",hash:{},data:i}))+"</a>\n    </li>\n"},10:function(e,a,n,o,i){return'    <li role="separator" class="divider export"></li>\n    <li class="context-menu__item export">\n      <a href="javascript:void(0)" class="context-menu__link" data-action="export"><i class="fa fa-upload"></i>\n        '+e.escapeExpression(r(t(688)).call(null!=a?a:e.nullContext||{},"_export",{name:"L",hash:{},data:i}))+"</a>\n    </li>\n"},compiler:[7,">= 4.0.0"],main:function(e,a,n,o,i){var s,l=null!=a?a:e.nullContext||{},d=e.escapeExpression;return'<div id="report-manager" class="container-fluid mainTask dragg-area" data-rel="report-manager" data-type="tab-content"\n  style="padding-left: 0; padding-right: 0;">\n\n  <div class="row report-manager-header"\n    style="z-index: 90; background-color: #f7f7f7; margin-left: 0px; margin-right: 0px; position: relative; border-width: 0 0 1px 0; border-style: solid; border-color: #ccc;">\n\n    <div class="col-sm-8" style="padding-top: 8px;">\n'+(null!=(s=r(t(695)).call(l,"add_dashboard",{name:"haveAccess",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?s:"")+"\n"+(null!=(s=r(t(695)).call(l,"import_dashboard",{name:"haveAccess",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?s:"")+'\n      <ol class="breadcrumb reportManager" style="float: left; width: calc(100% - 280px); margin-left: 20px;">\n\n      </ol>\n    </div>\n\n    <div class="col-sm-4">\n      <div class="input-group" style="margin-top:8px; margin-bottom: 5px; margin-right: 6px">\n        <input type="text" placeholder="Search..." class="form-control searchbox">\n        <span class="input-group-addon">\n          <i class="fa fa-search"></i>\n        </span>\n      </div>\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="col-sm-12">\n      <aside class="drawer-left">\n        <div class="card profile-menu">\n          <div class="card-body">\n            <div id="reportsTree" style="margin-top: 10px;"></div>\n          </div>\n        </div>\n      </aside>\n\n      <section class="reports-view m-t-30" style="background-color: #efefef;">\n\n        <ul class="report-manager reports">\n        </ul>\n\n        <div style="clear: both;"></div>\n\n        <ul class="report-manager dashboards">\n        </ul>\n\n        <p class="empty-message nodisplay" style="display: none;">'+d(r(t(688)).call(l,"no_interfaces_available",{name:"L",hash:{},data:i}))+' <br /> <a href="#"\n            data-rel="create_new_dashboard">'+d(r(t(688)).call(l,"create_interface",{name:"L",hash:{},data:i}))+"</a> "+d(r(t(688)).call(l,"_or",{name:"L",hash:{},data:i}))+' <a href="#"\n            data-rel="view_model">'+d(r(t(688)).call(l,"open_model",{name:"L",hash:{},data:i}))+'</a>\n        </p>\n\n        <p class="no-results nodisplay" style="display: none;">No results found.</p>\n\n      </section>\n    </div>\n  </div>\n  <div style="clear: both;"></div>\n</div>\n\n\x3c!-- Menu div initially hidden --\x3e\n<nav id="context-menu" class="context-menu">\n  <ul class="context-menu__items">\n'+(null!=(s=n.if.call(l,null!=a?a.notDesktop:a,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.program(8,i,0),data:i}))?s:"")+'    <li class="context-menu__item rename">\n      <a href="javascript:void(0)" class="context-menu__link" data-action="rename"><i class="fa fa-edit"></i>\n        '+d(r(t(688)).call(l,"rename",{name:"L",hash:{},data:i}))+'\n      </a>\n    </li>\n    <li class="context-menu__item setFav">\n      <a href="javascript:void(0)" class="context-menu__link" data-action="setFav"><i class="far fa-star"></i>\n        '+d(r(t(688)).call(l,"set_as_favorite",{name:"L",hash:{},data:i}))+'</a>\n    </li>\n    <li class="context-menu__item unsetFav">\n      <a href="javascript:void(0)" class="context-menu__link" data-action="unsetFav"><i class="fas fa-star"></i>\n        '+d(r(t(688)).call(l,"unset_as_favorite",{name:"L",hash:{},data:i}))+'</a>\n    </li>\n    <li class="context-menu__item copyToMyReports">\n      <a href="javascript:void(0)" class="context-menu__link" data-action="copyToMyReports"><i class="fa fa-user"></i>\n        '+d(r(t(688)).call(l,"copy_to_my_interfaces",{name:"L",hash:{},data:i}))+'</a>\n    </li>\n    <li class="context-menu__item duplicate">\n      <a href="javascript:void(0)" class="context-menu__link" data-action="duplicate"><i class="fa fa-copy"></i>\n        '+d(r(t(688)).call(l,"duplicate",{name:"L",hash:{},data:i}))+"</a>\n    </li>\n"+(null!=(s=r(t(695)).call(l,"export_dashboard",{name:"haveAccess",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?s:"")+'    <li role="separator" class="divider remove"></li>\n    <li class="context-menu__item remove">\n      <a href="javascript:void(0)" class="context-menu__link" data-action="delete"><i class="fa fa-trash"></i>\n        '+d(r(t(688)).call(l,"remove",{name:"L",hash:{},data:i}))+"</a>\n    </li>\n  </ul>\n</nav>\n\x3c!-- /Menu div initially hidden --\x3e"},useData:!0})},1827:function(e,a,t){var n=t(690);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template({1:function(e,a,n,o,i){var s,l=null!=a?a:e.nullContext||{},d=e.lambda,c=e.escapeExpression;return'  <li type="folder" class="report-item" '+(null!=(s=r(t(689)).call(l,null!=a?a.sharedBy:a,"!=",null,{name:"ifCond",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i}))?s:"")+'>\n    <div class="card card-folder card-item enable-context-menu" data-item-name="'+c(d(null!=a?a.name:a,a))+'"\n      user-item-id="'+c(d(null!=a?a.reportItemId:a,a))+'" data-item-id="'+c(d(null!=a?a.reportItemId:a,a))+'" data-item-type="report" data-is-fav="'+c(d(null!=a?a.isFav:a,a))+'"\n      data-item-modified="Jan 3, 2017" data-item-opened="Jan 5, 2017" data-item-created="Jan 1, 2017">\n      <div class="card-heading">\n\n        <button class="btn hasShared '+(null!=(s=n.if.call(l,null!=a?a.isShared:a,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.program(6,i,0),data:i}))?s:"")+'" '+(null!=(s=n.if.call(l,null!=a?a.disableSharer:a,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?s:"")+' title="Shared"><i class="fa fa-share-square"></i></button>\n\n'+(null!=(s=n.if.call(l,null!=a?a.isShared:a,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.program(12,i,0),data:i}))?s:"")+'      </div>\n      <div class="card-body">\n        <span class="title">'+c(d(null!=a?a.name:a,a))+'</span>\n      </div>\n      <div class="card-footer">\n        <i class="fa fa-star '+(null!=(s=n.if.call(l,null!=a?a.isFav:a,{name:"if",hash:{},fn:e.program(14,i,0),inverse:e.program(4,i,0),data:i}))?s:"")+'"></i>\n      </div>\n    </div>\n  </li>\n'},2:function(e,a,t,n,r){return' title="Shared by: '+e.escapeExpression(e.lambda(null!=a?a.sharedBy:a,a))+'" '},4:function(e,a,t,n,r){return" "},6:function(e,a,t,n,r){return"nodisplay"},8:function(e,a,t,n,r){return'\n          disabled="disabled" '},10:function(e,a,t,n,r){return"\n"},12:function(e,a,t,n,r){return'        <i class="fa fa-folder"></i>\n'},14:function(e,a,t,n,r){return" isFav "},16:function(e,a,n,o,i){var s,l=null!=a?a:e.nullContext||{},d=e.lambda,c=e.escapeExpression;return'  <li type="file" class="dash-item" '+(null!=(s=r(t(689)).call(l,null!=a?a.sharedBy:a,"!=",null,{name:"ifCond",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i}))?s:"")+'>\n    <div class="card card-file card-item enable-context-menu selected" data-item-name="'+c(d(null!=a?a.name:a,a))+'"\n      user-item-id="'+c(d(null!=a?a.reportItemId:a,a))+'" dash-version='+c(d(null!=a?a.dashVersion:a,a))+' data-item-id="'+c(d(null!=a?a.dashItemId:a,a))+'"\n      data-item-type="dashboard" data-is-fav="'+c(d(null!=a?a.isFav:a,a))+'" data-owner="'+c(d(null!=a?a.owner:a,a))+'" data-item-modified="Feb 9, 2017"\n      data-item-opened="Feb 11, 2017" data-item-created="Feb 3, 2017">\n\n      <button class="btn hasShared '+(null!=(s=n.if.call(l,null!=a?a.isShared:a,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.program(6,i,0),data:i}))?s:"")+'" '+(null!=(s=n.if.call(l,null!=a?a.disableSharer:a,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?s:"")+' title="Shared"><i class="fa fa-share-square"></i></button>\n\n      <div class="card-body">\n        \x3c!--img src="'+c(r(t(718)).call(l,{name:"baseURL",hash:{},data:i}))+"thumbs/view.ashx?img=dashboards-common-dash"+c(d(null!=a?a.dashItemId:a,a))+"&w=235&h=140&t=crop&r="+c(r(t(872)).call(l,{name:"rand",hash:{},data:i}))+'"\n          alt="" /--\x3e\n      </div>\n      <div class="card-footer">\n        <i class="fa fa-star '+(null!=(s=n.if.call(l,null!=a?a.isFav:a,{name:"if",hash:{},fn:e.program(14,i,0),inverse:e.program(4,i,0),data:i}))?s:"")+'"></i>\n        <span class="title">'+c(d(null!=a?a.name:a,a))+"</span>\n      </div>\n    </div>\n  </li>\n"},17:function(e,a,t,n,r){return' disabled="disabled"\n        '},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,r){var o,i=null!=a?a:e.nullContext||{};return'<ul class="report-manager reports">\n'+(null!=(o=t.each.call(i,null!=a?a.reports:a,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?o:"")+'</ul>\n\n<div style="clear: both;"></div>\n\n<ul class="report-manager dashboards">\n\n  \x3c!-- FILES --\x3e\n'+(null!=(o=t.each.call(i,null!=a?a.dashboards:a,{name:"each",hash:{},fn:e.program(16,r,0),inverse:e.noop,data:r}))?o:"")+"</ul>"},useData:!0})},1828:function(e,a,t){var n=t(690);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template({1:function(e,a,t,n,r){return" "},3:function(e,a,t,n,r){return"nodisplay"},5:function(e,a,t,n,r){return" isFav "},compiler:[7,">= 4.0.0"],main:function(e,a,n,o,i){var s,l=e.lambda,d=e.escapeExpression,c=null!=a?a:e.nullContext||{};return'<li type="file" class="dash-item ui-selected">\n    <div class="card card-file card-item enable-context-menu selected" data-item-name="'+d(l(null!=a?a.name:a,a))+'"\n        user-item-id="'+d(l(null!=a?a.reportItemId:a,a))+'" data-item-id="'+d(l(null!=a?a.dashItemId:a,a))+'" data-item-selected="false" data-is-fav="false"\n        data-item-type="dashboard" data-owner="'+d(l(null!=a?a.owner:a,a))+'">\n\n        <button class="btn hasShared '+(null!=(s=n.if.call(c,null!=a?a.isShared:a,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.program(3,i,0),data:i}))?s:"")+'" title="Shared"><i\n                class="fa fa-share-square"></i></button>\n\n        <div class="card-body">\n            \x3c!--img src="'+d(r(t(718)).call(c,{name:"baseURL",hash:{},data:i}))+"thumbs/view.ashx?img=dashboards-common-dash"+d(l(null!=a?a.dashboardId:a,a))+"&w=235&h=140&t=crop&r="+d(r(t(872)).call(c,{name:"rand",hash:{},data:i}))+'"\n                alt="" /--\x3e\n        </div>\n        <div class="card-footer">\n            <i class="fa fa-star '+(null!=(s=n.if.call(c,null!=a?a.isFav:a,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.program(1,i,0),data:i}))?s:"")+'"></i>\n            <span class="title">'+d(l(null!=a?a.name:a,a))+"</span>\n        </div>\n    </div>\n</li>"},useData:!0})},1829:function(e,a,t){var n=t(690);e.exports=(n.default||n).template({1:function(e,a,t,n,r){return" "},3:function(e,a,t,n,r){return"nodisplay"},5:function(e,a,t,n,r){return"\n"},7:function(e,a,t,n,r){return'      <i class="fa fa-folder"></i>\n'},9:function(e,a,t,n,r){return" isFav "},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,r){var o,i,s=null!=a?a:e.nullContext||{},l=t.helperMissing,d=e.escapeExpression;return'<li type="folder" class="report-item ui-selected">\n  <div class="card card-folder card-item enable-context-menu" data-item-selected="false" user-item-id="'+d("function"==typeof(i=null!=(i=t.reportItemId||(null!=a?a.reportItemId:a))?i:l)?i.call(s,{name:"reportItemId",hash:{},data:r}):i)+'"\n    data-item-id="'+d("function"==typeof(i=null!=(i=t.reportItemId||(null!=a?a.reportItemId:a))?i:l)?i.call(s,{name:"reportItemId",hash:{},data:r}):i)+'" data-is-fav="false" data-item-type="report">\n    <div class="card-heading">\n      <button class="btn hasShared '+(null!=(o=t.if.call(s,null!=a?a.isShared:a,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.program(3,r,0),data:r}))?o:"")+'" title="Shared"><i\n          class="fa fa-share-square"></i></button>\n\n'+(null!=(o=t.if.call(s,null!=a?a.isShared:a,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.program(7,r,0),data:r}))?o:"")+'    </div>\n    <div class="card-body">\n      <span class="title">'+d("function"==typeof(i=null!=(i=t.name||(null!=a?a.name:a))?i:l)?i.call(s,{name:"name",hash:{},data:r}):i)+'</span>\n    </div>\n    <div class="card-footer">\n      <i class="fa fa-star '+(null!=(o=t.if.call(s,null!=a?a.isFav:a,{name:"if",hash:{},fn:e.program(9,r,0),inverse:e.program(1,r,0),data:r}))?o:"")+'"></i>\n    </div>\n  </div>\n</li>'},useData:!0})},1830:function(e,a,t){var n=t(690);e.exports=(n.default||n).template({compiler:[7,">= 4.0.0"],main:function(e,a,t,n,r){var o,i=null!=a?a:e.nullContext||{},s=t.helperMissing,l=e.escapeExpression;return'<div class="editor">\n  <div class="col-xs-12 nopadding">\n    <div class="input-group">\n      <input type="text" value="'+l("function"==typeof(o=null!=(o=t.name||(null!=a?a.name:a))?o:s)?o.call(i,{name:"name",hash:{},data:r}):o)+'" class="form-control input-sm">\n      <div class="input-group-btn">\n        <button data-rel="'+l("function"==typeof(o=null!=(o=t.id||(null!=a?a.id:a))?o:s)?o.call(i,{name:"id",hash:{},data:r}):o)+'" class="btn btn-blue btn-small" type="button" style="height: 20px;"><i\n            class="fa fa-check"></i></button>\n      </div>\n    </div>\n  </div>\n</div>'},useData:!0})},1831:function(e,a,t){"use strict";(function(e){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var t=function(){if(e("#context-menu").length){var a,t,n,r,o,i,s,l,d=function(e,a){var t=e.srcElement||e.target;if(t.classList.contains(a))return t;for(;t=t.parentNode;)if(t.classList&&t.classList.contains(a))return t;return!1},c=function(){e(document).on("contextmenu",function(t){var n=e(t.target).closest("li");n.hasClass("ui-selected")||(e(".reports-view ul li").removeClass("ui-selected"),n.addClass("ui-selected"),n.click());var r=!0;e.each(e("ul.report-manager li.ui-selected>div"),function(a,t){"false"===e(t).attr("data-is-fav")&&(r=!1)}),"getReportsSharedWithMe"===e(e(".breadcrumbItem")[0]).attr("data-item-action")?(e(_).find(".copyToMyReports").show(),e(_).find(".share").hide(),e(_).find(".setFav").hide(),e(_).find(".unsetFav").hide(),e(_).find(".rename").hide(),e(_).find(".remove").hide(),e(_).find(".export").hide(),e(_).find(".duplicate").hide()):("getMyReports"===e(e(".breadcrumbItem")[0]).attr("data-item-action")?(e(_).find(".share").show(),e(_).find(".rename").show(),e(_).find(".copyToMyReports").hide(),e(_).find(".duplicate").show(),e(_).find(".export").show(),e(_).find(".remove").show()):(e(_).find(".rename").show(),e(_).find(".remove").show(),e(_).find(".duplicate").show()),r?(e(_).find(".unsetFav").show(),e(_).find(".setFav").hide()):(e(_).find(".unsetFav").hide(),e(_).find(".setFav").show())),(a=d(t,w))?(t.preventDefault(),m(),v(t)):(a=null,f())})},u=function(){e("#report-manager, .context-menu__item").on("click",function(a){var t=e(a.target).closest("li");if(t.hasClass("report-item")||t.hasClass("dash-item")||t.hasClass("context-menu__item")){var n=d(a,g);n?(a.preventDefault(),b(n)):1===(a.which||a.button)&&f()}else e("ul").find("li").removeClass("ui-selected"),1===(a.which||a.button)&&f()})},p=function(){window.onkeyup=function(e){27===e.keyCode&&f()}},h=function(){window.onresize=function(e){f()}},m=function(){1!==T&&(T=1,_.classList.add(y))},f=function(){0!==T&&(T=0,_.classList.remove(y))},v=function(e){t=function(e){var a=0,t=0;return e||(e=window.event),e.pageX||e.pageY?(a=e.pageX,t=e.pageY):(e.clientX||e.clientY)&&(a=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,t=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:a,y:t}}(e),n=t.x,r=t.y,o=_.offsetWidth+4,i=_.offsetHeight+4,s=window.innerWidth,l=window.innerHeight,_.style.left=s-n<o?s-o+"px":n+"px",_.style.top=l-r<i?l-(i+40)+"px":r-30+"px"},b=function(t){var n={itemEl:e(a),itemType:"report"===e(a).attr("data-item-type")?1:2,dataAction:t.getAttribute("data-action")};e(".context-menu").trigger("onContextMenuClick",n),f()},g="context-menu__link",y="context-menu--active",w="enable-context-menu",_=document.querySelector("#context-menu"),T=(_.querySelectorAll(".context-menu__item"),0);c(),u(),p(),h()}};a.default=t}).call(this,t(1))},701:function(e,a,t){"use strict";(function(n,r){var o,i;o=[t(684)],void 0===(i=function(e){var a=this;return n.Controller.extend({name:"dashboardManager",showDashboard:function(a,n,o,i,s,l,d){var c="dashboard-".concat(a),u=new e;u.existsTask(c)?(u.selectTask(c),i&&r(".mainTask[data-rel='".concat(c,"']")).length>0&&r(".mainTask[data-rel='".concat(c,"']")).trigger("refreshView")):(u.addSimpleTask(c,o),t.e(44).then(function(){var e=[t(818)];(function(e){(new e).render(a,n,s,l,d),u.selectTask(c)}).apply(null,e)}).catch(t.oe))},showEmbeddableDashboard:function(a,n,o,i,s,l){var d="dashboard-".concat(a),c=new e;__currentSession.fromEmbedded,c.existsTask(d)?(c.selectTask(d),i&&r(".mainTask[data-rel='".concat(d,"']")).length>0&&r(".mainTask[data-rel='".concat(d,"']")).trigger("refreshView")):(c.addSimpleTask(d,o),Promise.all([t.e(44),t.e(167)]).then(function(){var e=[t(888)];(function(e){(new e).render(a,n,o,s,l),c.selectTask(d)}).apply(null,e)}).catch(t.oe))},removeDashboardTaskFromHome:function(a){var t="dashboard-".concat(a),n=new e;n.existsTask(t)&&n.removeTask(t)},drawDashboardBars:function(e,t){a.drawToolbar(e,function(){t()})},drawBottombar:function(e,a){t.e(168).then(function(){var n=[t(889)];(function(t){var n=new t;n.setElement(e),n.render(),void 0!=a&&a()}).apply(null,n)}).catch(t.oe)},showNodeInfo:function(e){Promise.all([t.e(12),t.e(17),t.e(64)]).then(function(){var a=[t(785)];(function(a){new a(e).render()}).apply(null,a)}).catch(t.oe)},removeNodeInfo:function(e){Promise.all([t.e(12),t.e(17),t.e(64)]).then(function(){var a=[t(785)];(function(a){(new a).remove(e)}).apply(null,a)}).catch(t.oe)},drawToolbar:function(e,a){t.e(41).then(function(){var n=[t(821)];(function(t){(new t).show({el:e,positions:["left","right"],onLoad:a,className:"dockDashboardProperty"})}).apply(null,n)}).catch(t.oe)},drawMoreDashboard:function(e,a){t.e(169).then(function(){var e=[t(890)];(function(e){var t=new e;t.setElement("body"),t.render(a)}).apply(null,e)}).catch(t.oe)},getDefaultContent:function(e,a){Promise.all([t.e(0),t.e(8),t.e(65)]).then(function(){var n=[t(747)];(function(t){var n=new t({model:e});a(n)}).apply(null,n)}).catch(t.oe)},getEmptyContent:function(e,a){Promise.all([t.e(0),t.e(66)]).then(function(){var n=[t(786)];(function(t){var n=new t({model:e});a(n)}).apply(null,n)}).catch(t.oe)},getChartToolbar:function(e,a,n,r){var o;switch(e){case"linechart":o="line/lineToolbar";break;case"columnchart":case"columnchartstacked":case"columnchartpercent":case"barchart":case"barchartstacked":case"barchartpercent":o="columnAndBar/columnAndBarToolbar";break;case"areachart":case"areachartstacked":case"areachartpercent":o="area/areaToolbar";break;case"piechart":o="pie/pieToolbar";break;case"funnelchart":o="funnelToolbar/funnelToolbar";break;case"pyramidchart":o="pyramidToolbar/pyramidToolbar";break;case"gaugechart":o="gauge/gaugeToolbar";break;case"waterfallchart":o="waterfall/waterfallToolbar";break;case"scatterchart":o="scatter/scatterToolbar";break;case"table":o="table/tableToolbar";break;case"indexlist":o="index/indexToolbar";break;case"map":o="map/mapToolbar";break;case"indicator":o="indicator/indicatorToolbar";break;case"selector":o="selector/selectorToolbar";break;case"formnode":o="formnode/formnodeToolbar";break;case"nodetable":o="nodeTable/nodetableToolbar";break;case"button":o="button/buttonToolbar";break;case"analyticachart":o="analyticaChart/analyticaChartToolbar";break;case"objectItem":switch(a){case"texteditor":o="texteditor/texteditorToolbar";break;case"cubeviewer":o="cubeviewer/cubeviewerToolbar";break;case"diagramviewer":o="diagramViewer/diagramViewerToolbar";break;case"mapviewer":o="mapViewer/mapViewerToolbar";break;case"inputform":o="inputForm/inputFormToolbar";break;case"menuwidget":o="menuWidget/menuWidgetToolbar";break;case"dashboardcontainer_QUITAR_ESTO_PARA_MOSTRAR":o="dashboardContainer/dashboardContainerToolbar"}break;case"complexchart":o="complexchart/complexChartToolbar";break;default:o=!1}o?Promise.all([t.e(24),t.e(170)]).then(function(){var e=[t(891)("./".concat(o))];(function(e){var a=new e({model:n});r(a)}).apply(null,e)}).catch(t.oe):Promise.all([t.e(24),t.e(53),t.e(171)]).then(function(){var e=[t(892)];(function(e){var a=new e({model:n});r(a)}).apply(null,e)}).catch(t.oe)},getChartItemViewFromType:function(e,a){switch(e){case"empty":Promise.all([t.e(0),t.e(66)]).then(function(){var e=[t(786)];(function(e){a(e)}).apply(null,e)}).catch(t.oe);break;case"linechart":Promise.all([t.e(0),t.e(8),t.e(172)]).then(function(){var e=[t(893)];(function(e){a(e)}).apply(null,e)}).catch(t.oe);break;case"columnchart":Promise.all([t.e(0),t.e(8),t.e(65)]).then(function(){var e=[t(747)];(function(e){a(e)}).apply(null,e)}).catch(t.oe);break;case"columnchartstacked":Promise.all([t.e(0),t.e(8),t.e(173)]).then(function(){var e=[t(894)];(function(e){a(e)}).apply(null,e)}).catch(t.oe);break;case"columnchartpercent":Promise.all([t.e(0),t.e(8),t.e(174)]).then(function(){var e=[t(895)];(function(e){a(e)}).apply(null,e)}).catch(t.oe);break;case"barchart":Promise.all([t.e(0),t.e(8),t.e(175)]).then(function(){var e=[t(788)];(function(e){a(e)}).apply(null,e)}).catch(t.oe);break;case"barchartstacked":Promise.all([t.e(0),t.e(8),t.e(176)]).then(function(){var e=[t(896)];(function(e){a(e)}).apply(null,e)}).catch(t.oe);break;case"barchartpercent":Promise.all([t.e(0),t.e(8),t.e(177)]).then(function(){var e=[t(897)];(function(e){a(e)}).apply(null,e)}).catch(t.oe);break;case"areachart":Promise.all([t.e(0),t.e(8),t.e(178)]).then(function(){var e=[t(789)];(function(e){a(e)}).apply(null,e)}).catch(t.oe);break;case"areachartstacked":Promise.all([t.e(0),t.e(8),t.e(179)]).then(function(){var e=[t(898)];(function(e){a(e)}).apply(null,e)}).catch(t.oe);break;case"areachartpercent":Promise.all([t.e(0),t.e(8),t.e(180)]).then(function(){var e=[t(899)];(function(e){a(e)}).apply(null,e)}).catch(t.oe);break;case"piechart":Promise.all([t.e(0),t.e(8),t.e(181)]).then(function(){var e=[t(900)];(function(e){a(e)}).apply(null,e)}).catch(t.oe);break;case"gaugechart":Promise.all([t.e(0),t.e(8),t.e(182)]).then(function(){var e=[t(901)];(function(e){a(e)}).apply(null,e)}).catch(t.oe);break;case"waterfallchart":Promise.all([t.e(0),t.e(8),t.e(183)]).then(function(){var e=[t(902)];(function(e){a(e)}).apply(null,e)}).catch(t.oe);break;case"scatterchart":Promise.all([t.e(0),t.e(8),t.e(184)]).then(function(){var e=[t(903)];(function(e){a(e)}).apply(null,e)}).catch(t.oe);break;case"complexchart":Promise.all([t.e(0),t.e(8),t.e(185)]).then(function(){var e=[t(904)];(function(e){a(e)}).apply(null,e)}).catch(t.oe);break;case"table":Promise.all([t.e(0),t.e(12),t.e(186)]).then(function(){var e=[t(905)];(function(e){a(e)}).apply(null,e)}).catch(t.oe);break;case"indexlist":Promise.all([t.e(0),t.e(187)]).then(function(){var e=[t(906)];(function(e){a(e)}).apply(null,e)}).catch(t.oe);break;case"map":Promise.all([t.e(33),t.e(0),t.e(12),t.e(89),t.e(188)]).then(function(){var e=[t(907)];(function(e){a(e)}).apply(null,e)}).catch(t.oe);break;case"indicator":Promise.all([t.e(87),t.e(310),t.e(0),t.e(189)]).then(function(){var e=[t(908)];(function(e){a(e)}).apply(null,e)}).catch(t.oe);break;case"selector":Promise.all([t.e(0),t.e(190)]).then(function(){var e=[t(931)];(function(e){a(e)}).apply(null,e)}).catch(t.oe);break;case"formnode":Promise.all([t.e(0),t.e(191)]).then(function(){var e=[t(932)];(function(e){a(e)}).apply(null,e)}).catch(t.oe);break;case"nodetable":Promise.all([t.e(0),t.e(16),t.e(34),t.e(192)]).then(function(){var e=[t(933)];(function(e){a(e)}).apply(null,e)}).catch(t.oe);break;case"button":Promise.all([t.e(0),t.e(193)]).then(function(){var e=[t(934)];(function(e){a(e)}).apply(null,e)}).catch(t.oe);break;case"funnelchart":Promise.all([t.e(0),t.e(8),t.e(194)]).then(function(){var e=[t(935)];(function(e){a(e)}).apply(null,e)}).catch(t.oe);break;case"pyramidchart":Promise.all([t.e(0),t.e(8),t.e(195)]).then(function(){var e=[t(936)];(function(e){a(e)}).apply(null,e)}).catch(t.oe);break;case"analyticachart":Promise.all([t.e(0),t.e(196)]).then(function(){var e=[t(937)];(function(e){a(e)}).apply(null,e)}).catch(t.oe)}},getObjectItemViewFromType:function(e,a){switch(e){case"texteditor":Promise.all([t.e(0),t.e(88),t.e(197)]).then(function(){var e=[t(938)];(function(e){a(e)}).apply(null,e)}).catch(t.oe);break;case"cubeviewer":Promise.all([t.e(0),t.e(16),t.e(34),t.e(198)]).then(function(){var e=[t(939)];(function(e){a(e)}).apply(null,e)}).catch(t.oe);break;case"diagramviewer":Promise.all([t.e(0),t.e(12),t.e(17),t.e(199)]).then(function(){var e=[t(940)];(function(e){a(e)}).apply(null,e)}).catch(t.oe);break;case"mapviewer":Promise.all([t.e(33),t.e(0),t.e(12),t.e(91),t.e(200)]).then(function(){var e=[t(941)];(function(e){a(e)}).apply(null,e)}).catch(t.oe);break;case"inputform":Promise.all([t.e(0),t.e(16),t.e(35),t.e(201)]).then(function(){var e=[t(942)];(function(e){a(e)}).apply(null,e)}).catch(t.oe);break;case"dashboardcontainer":Promise.all([t.e(0),t.e(202)]).then(function(){var e=[t(943)];(function(e){a(e)}).apply(null,e)}).catch(t.oe);case"menuwidget":Promise.all([t.e(0),t.e(24),t.e(203)]).then(function(){var e=[t(944)];(function(e){a(e)}).apply(null,e)}).catch(t.oe)}},getFilterView:function(e){t.e(204).then(function(){var a=[t(945)];(function(a){e(a)}).apply(null,a)}).catch(t.oe)},showCopyDashboard:function(e,a,n){t.e(205).then(function(){var r=[t(946)];(function(t){(new t).render(e,a,n)}).apply(null,r)}).catch(t.oe)},showDashboardComments:function(e){t.e(206).then(function(){var a=[t(947)];(function(a){var t=new a;t.setElement(e.parent),t.render(e)}).apply(null,a)}).catch(t.oe)},refreshAllOpenDashboards:function(){r(".mainTask.dashboardTask .btnRefresh").trigger("click")},showTimeFrameSetting:function(e){t.e(207).then(function(){var a=[t(948)];(function(a){var t=new a(e);t.setElement(e.el),t.render()}).apply(null,a)}).catch(t.oe)},updatePrintReportProgress:function(e){t.e(45).then(function(){var a=[t(748)];(function(a){new a(e).updatePrintReportProgress()}).apply(null,a)}).catch(t.oe)},updatePrintReportMessage:function(e){t.e(45).then(function(){var a=[t(748)];(function(a){new a(e).updatePrintReportMessage()}).apply(null,a)}).catch(t.oe)},updatePrintReportComplete:function(e){t.e(45).then(function(){var a=[t(748)];(function(a){new a(e).updatePrintReportComplete()}).apply(null,a)}).catch(t.oe)},loginInToMyPyplanModal:function(e){t.e(208).then(function(){var a=[t(949)];(function(a){(new a).render(e)}).apply(null,a)}).catch(t.oe)},publishToMyPyplanModal:function(e){t.e(209).then(function(){var a=[t(950)];(function(a){(new a).render(e)}).apply(null,a)}).catch(t.oe)}})}.apply(a,o))||(e.exports=i)}).call(this,t(694),t(1))},811:function(e,a,t){"use strict";(function(n){var r,o=t(693);void 0===(r=function(){return n.Model.extend({url:"inputModule",defaults:{formsViewList:[]},search:function(e,a){(0,o.send)("reportManager/search/?text=".concat(e),null,{type:"GET"},a)},getMyReports:function(e,a){(0,o.send)("reportManager/myReports/?parent=".concat(e),null,{type:"GET"},a)},getFavsReports:function(e,a){(0,o.send)("reportManager/myReports/?favs=true",null,{type:"GET"},a)},getReportsSharedWithMe:function(e,a){(0,o.send)("reportManager/sharedWithMe/?parent=".concat(e),null,{type:"GET"},a)},getMySharedReports:function(e,a){(0,o.send)("reportManager/mySharedReports/",null,{type:"GET"},a)},getRecentsReports:function(e,a){(0,o.send)("reportManager/recents/?parent=".concat(e),null,{type:"GET"},a)},exportDashboards:function(e,a){var n=new XMLHttpRequest;n.responseType="arraybuffer",n.open("PUT","".concat(__apiURL,"/reportManager/exportItems/"),!0),n.setRequestHeader("Authorization","Token ".concat(__currentToken)),n.setRequestHeader("session-key",__currentSession?__currentSession.session_key:""),n.setRequestHeader("Content-type","application/json"),n.onreadystatechange=function(e){var n=e.currentTarget;n.readyState==n.DONE&&(200==n.status?a(n):t.e(18).then(function(){var e=[t(685)];(function(e){(new e).show({title:"ERROR!",text:n.response,notifyType:"error"})}).apply(null,e)}).catch(t.oe))},n.send(JSON.stringify(e))},exportItemsAndPublish:function(e,a,t,n,r,i,s){(0,o.send)("reportManager/exportItemsAndPublish/",JSON.stringify({username:e,uuid:a,model_folder:t,model_id:n,dashboard_ids:r,report_ids:i}),{type:"PUT",contentType:"application/json;charset=utf-8"},s)},importDashboards:function(e,a){(0,o.send)("reportManager/importItems/",JSON.stringify(e),{type:"PUT",contentType:"application/json;charset=utf-8"},a)},create:function(e,a){(0,o.send)("reportManager/",e,{type:"POST"},function(e){void 0!=a&&a(e)})},createReport:function(e,a){(0,o.send)("reportManager/",e,{type:"POST"},function(e){void 0!=a&&a(e)})},dropOnReport:function(e,a){(0,o.send)("reportManager/dropOnReport/",JSON.stringify(e),{type:"PUT",contentType:"application/json;charset=utf-8"},a)},updateOrder:function(e){(0,o.send)("reportManager/changeOrder/",JSON.stringify({values:e}),{type:"PUT",contentType:"application/json;charset=utf-8"},function(e){})},setAsFav:function(e,a,t){(0,o.send)("reportManager/setAsFav/",JSON.stringify({report_ids:e.report_ids,dashboard_ids:e.dashboard_ids,is_fav:a}),{type:"PUT",contentType:"application/json;charset=utf-8",dataType:"text"},t)},updateName:function(e,a,t){(0,o.send)("reportManager/".concat(e,"/"),{name:a},{type:"PUT",dataType:"text"},function(e){void 0!=t&&t(e)})},deleteItems:function(e,a){(0,o.send)("reportManager/bulkDelete/",JSON.stringify({values:e}),{type:"DELETE",contentType:"application/json;charset=utf-8"},function(e){void 0!=a&&a(e)})},createTempId:function(){return"tmp-".concat(parseInt(5e5*Math.random()))},copyToMyReports:function(e,a){(0,o.send)("reportManager/copyToMyReports/",JSON.stringify(e),{type:"PUT",contentType:"application/json;charset=utf-8",dataType:"text"},function(e){void 0!=a&&a(e)})},duplicateItems:function(e,a){(0,o.send)("reportManager/duplicateItems/",JSON.stringify(e),{type:"PUT",contentType:"application/json;charset=utf-8",dataType:"text"},function(e){a&&a(e)})}})}.apply(a,[]))||(e.exports=r)}).call(this,t(218))},837:function(e,a,t){"use strict";(function(n,r){var o,i,s=t(18);function l(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function d(e){return function(e){if(Array.isArray(e)){for(var a=0,t=new Array(e.length);a<e.length;a++)t[a]=e[a];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}o=[t(219),t(811),t(749),t(701),t(1826),t(1827),t(1828),t(1829),t(1830)],void 0===(i=function(e,a,o,i,c,u,p,h,m){return n.View.extend({el:r("#main"),currentFilename:void 0,breadcrumbItems:[],firstLoad:!0,itemWasDropped:!1,render:function(n,l){var u=this,f="";f=String(n).lastIndexOf("/")>=0?(f=String(n).substr(String(n).lastIndexOf("/")+1)).substr(0,f.length-4):n,this.currentFilename=f,this.reportManagerModel=new a,this.dashboardManagerModel=new o;var v=new e,b=c({notDesktop:!1});this.$el.append(b),this.breadcrumbItems=[{name:"My Interfaces",itemId:null,action:"getMyReports"}],this.updateBreadcrumb(),t(1831).default(),u.registerSelectionEvents();var g=[{name:"My Interfaces",itemType:0,callTo:"getMyReports",specialFolderType:1,id:"myReports",data:{firstLevel:!0,extension:null,specialFileType:0,isShared:!1,sharedBy:null,fileSize:0,lastUpdateTime:"0001-01-01T00:00:00",fullPath:"novix\\super\\CARPETA DENEGADA\\",hasDenied:!1}},{name:"Favs",itemType:0,callTo:"getFavsReports",specialFolderType:7,id:"favs",data:{firstLevel:!0,extension:null,specialFileType:0,isShared:!1,sharedBy:null,fileSize:1368447,lastUpdateTime:"2017-09-19T18:24:01.6792936-03:00",fullPath:"novix\\super\\cgap shd.ana",hasDenied:!1}}];function y(e){r(".reports-view").width(r(window).width()-r(".drawer-left").width()-50-38),r(".reports-view").height(r(window).height()-(r(".report-manager-header").height()+40+38)),r(".drawer-left").height(r(window).height()-(r(".report-manager-header").height()+40+10)),r(".dashboards-wrapper").length>0&&(r(".dashboards-wrapper").width(r(window).width()-100),e?r(".dashboards-wrapper").height(r(window).height()-300):r(".dashboards-wrapper").height(r(window).height()-120))}if(r("#report-manager").on("removeView",function(e,a){u.removeView(e,a)}),r("#report-manager").on("refreshImageDashboard",function(e,a){r("ul.report-manager li>div[data-item-id='"+a+"'] img").each(function(e,a){r(this).attr("src",r(this).attr("src")+"&"+Math.random())})}),(0,s.registerResizeEvents)("modelSummary",y),y(),l){r("#currentModel").html(f),r("#navigation .modelopened").show(),r("#left .navigation .modelopened").show();var w=r("#navigation li.modelopened[data-key='btnSaveModelAs'] a"),_=r("#navigation li.modelopened[data-key='btnSaveModelAs'] a i"),T=r("#navigation li.modelopened[data-key='btnSaveModel']"),I=r("#navigation li.modelopened[data-key='btnSaveModelAs']");(function(e){(0,s.haveAccess)("change_model")&&!e||(0,s.haveAccess)("change_public_model")&&e?(T.show(),_.removeClass("fa-paste").addClass("fa-save-all"),w.prop("title",(0,s.translate)("save_model_as")),I.show(),__currentSession.modelInfo&&__currentSession.modelInfo.readonly&&(r("#navigation li.modelopened[data-key='btnSaveModel']").hide(),(0,s.showMessage)(__currentSession.modelInfo.readOnlyReason,"","info",!1))):(T.hide(),I.hide())})(__currentSession&&__currentSession.autoopenUri?__currentSession.autoopenUri&&__currentSession.autoopenUri.toLowerCase().indexOf("/public/")>=0:__currentSession.modelInfo.uri&&__currentSession.modelInfo.uri.toLowerCase().indexOf("/public/")>=0),u.initTree(g)}else r("#mainLoading").show(),v.openModel(n,function(e){r("#mainLoading").hide(),e&&(r("#navigation .modelopened").show(),r("#left .navigation .modelopened").show(),u.initTree(g))});function x(e,a,t,n){!function(e,a){var t=!!e.dashItemId,n=(t?p:h)(e);void 0==a?t?r("ul.report-manager.dashboards").prepend(n):r("ul.report-manager.reports").prepend(n):r(n).insertBefore(a)}(a,t),e&&r(t).remove(),void 0!=n&&r.isFunction(n)&&n(a)}function k(e,a,n){var o={userItemId:r(e).attr("user-item-id"),dashboardId:r(e).attr("data-item-id"),name:r(e).find("span.title").text()},i=m(o);r(e).find("span.title").hide(),a?r(e).find(".card-footer").append(i):r(e).find(".card-body").append(i),r(e).find("div.editor input").select(),r(e).find("div.editor input").focus();var s=function(i){var s=r(i).closest("div.card").find("input").val();if(s!=o.name?(a?u.dashboardManagerModel.updateName(o.dashboardId,s):u.reportManagerModel.updateName(o.userItemId,s),r(e).find("span.title").text(s),r(e).find("span.title").show(),r(e).find("span.title").attr("title",s),r(e).attr("data-item-name",s),r(e).hasClass("item-dashboard")&&r(e).find(">img").first().attr("data-title",s)):r(e).find("span.title").show(),r(e).find("div.editor").remove(),r(e).closest("li").select(),r(e).closest("li").click(),"search"===u.breadcrumbItems[0].action){var l=r("ol.breadcrumb li.active").attr("data-item-id");r("#reportsTree").jstree("is_open",l)&&(r("#reportsTree").jstree().create_node(l,{text:s,type:"folder",id:o.userItemId,reportItemId:o.userItemId},"first"),r("#reportsTree").jstree("refresh_node",u.currentNodeId))}else if(!a){l=r("#reportsTree").jstree("get_selected"),r("#reportsTree").jstree("is_open",l);n?r("#reportsTree").jstree().create_node(l,{text:s,type:"folder",id:o.userItemId,reportItemId:o.userItemId},"first"):r("#reportsTree").jstree().rename_node(o.userItemId,s),r("#reportsTree").jstree("refresh_node",u.currentNodeId)}Promise.all([t.e(19),t.e(7)]).then(function(){var e=[t(817)];(function(e){var a=new e,t={dashboardId:o.dashboardId,name:s};a.refreshDashboardName(t)}).apply(null,e)}).catch(t.oe)};r(e).find("div.editor button").click(function(){s(r(this))}),r(e).find("div.editor input").focusout(function(){s(r(this))}),r(e).find("div.editor input").keypress(function(e){13==e.keyCode&&s(r(this))}),r(e).find("div.editor").click(function(e){e.stopPropagation()})}r(".drawer-left").perfectScrollbar(),r("#report-manager").on("fullRefresh",function(e){r("#report-manager").trigger("removeView"),u.render(u.currentFilename,!0)});var M=-1;r("input.searchbox").on("keyup",function(){var e=r(this).val();clearTimeout(M),M=setTimeout(function(){u.reportManagerModel.search(e,function(e){""===r("input.searchbox").val()?r("#"+r("#reportsTree").jstree("get_selected")).find("a:first").click():(u.loadDashboardInfo(d(e.dashboards).concat(d(e.reports)),!0),u.startDraggerInDesktop(),u.breadcrumbItems=[],u.breadcrumbItems.push({name:"Search results: ",itemId:0,action:"search"}),u.updateBreadcrumb(),u.enableCreateBtns())})},400)}),r("#report-manager .btnImport").click(function(){t.e(51).then(function(){var e=[t(760)];(function(e){(new e).showImportReport()}).apply(null,e)}).catch(t.oe)}),r("a[data-rel='view_model']").on("click",function(){r("#left a.btnShowDiagram").click()}),r('.newDashboard, a[data-rel="create_new_dashboard"]').on("click",function(e){r(".reports-view .empty-message").hide(),r(".reports-view .no-results").hide();var a=(0,s.translate)("new_dashboard"),t={};t.name=a;var n=parseInt(r("ol.breadcrumb li.active").attr("data-item-id"),10);t.reportId=n||null,t.reportItemId=n||null,u.dashboardManagerModel.createItem(t,function(e){var a;r('ul.report-manager li[type="file"]').length>0&&(a=r('ul.report-manager li[type="file"]').first()),x(void 0,e,a,function(e){k(r(".report-manager li[type='file']>div[data-item-id='"+e.dashItemId+"']"),!0,!0),u.updateDashboardsOrder(),u.startDraggerInDesktop()})})}),r(".newReport").on("click",function(e){r(".reports-view .empty-message").hide(),r(".reports-view .no-results").hide();var a=(0,s.translate)("_new_report"),t={};t.id=u.reportManagerModel.createTempId(),t.name=a,t.itemType=1;var n=parseInt(r("ol.breadcrumb li.active").attr("data-item-id"),10);t.parentId=n||null,u.reportManagerModel.createReport(t,function(e){var a;t.reportItemId=e.reportItemId,r('ul.report-manager li[type="folder"]').length>0&&(a=r('ul.report-manager li[type="folder"]').first()),x(void 0,t,a,function(e){k(r(".report-manager li[type='folder']>div[data-item-id='"+e.reportItemId+"']"),!1,!0),u.updateReportsOrder(),u.startDraggerInDesktop()})})}),r("ol.breadcrumb").on("click","li",function(e){if(!r(this).hasClass("active")){var a=r(this).index();u.breadcrumbItems=u.breadcrumbItems.slice(0,0===a?1:a+1),u.updateBreadcrumb();var t=r(this).attr("data-item-id"),n=r(this).attr("data-item-action");null!==n&&"null"!==n&&"undefined"!==n?u.returnGetData(n,null,!1,null):u.returnGetData("getMyReports",t,!1,null),r("#reportsTree").jstree("deselect_all"),r("#reportsTree").jstree("select_node",t)}}),r(".reports-view").on("dblclick","ul li",function(e){if(r(this).find("div.editor").length>0)return!1;var a=r(this).find("div").attr("data-item-type"),t=r(this).find("div").attr("data-item-id"),n=r(this).find("div").attr("data-item-name"),o=r(this).find("div").attr("dash-version");if("search"===u.breadcrumbItems[0].action)u.breadcrumbItems.push({name:n,itemId:t,action:null}),u.updateBreadcrumb(),u.returnGetData("getMyReports",t,!1,null);else if("report"===a)r("#reportsTree").jstree("open_node",r("#reportsTree").jstree("get_selected"),function(){r("#reportsTree").jstree("deselect_all"),r("#reportsTree").jstree("open_node",t),r("#reportsTree").jstree("select_node",t),u.returnGetData("getMyReports",t,!1,null)});else if("dashboard"===a){var i=r(this).find("div.card-body span.title").text(),s=parseInt(r(this).children().attr("data-owner"))===__currentSession.userCompanyId;u.openDashboard(t,i,o,s)}u.enableCreateBtns()}),r(".context-menu").on("onContextMenuClick",function(e,a){var n;e.preventDefault();var o,l=!(1===a.itemType);l?(n=r(a.itemEl).attr("data-item-id"),o=r(".report-manager li>div[data-item-id='"+n+"']")):(n=r(a.itemEl).attr("user-item-id"),o=r(".report-manager li>div[user-item-id='"+n+"']"));var d=[],c=[],p=r(".report-manager li>div[data-item-id='"+n+"']").attr("dash-version");switch(r.each(r("ul.report-manager li.ui-selected>div"),function(e,a){var t=parseInt(r(a).attr("data-item-id"),10),n=r(a).attr("data-item-type");t&&("report"===n?d.push(t):c.push(t))}),a.dataAction){case"publishToMy":var h=new i;__currentSession.my_uuid?h.publishToMyPyplanModal({title:(0,s.translate)("publish_dashboard_to_my_pyplan"),okOnEnter:!0,modalClass:"smallModal",itemId:n,itemType:l?"dashboard":"report"}):h.loginInToMyPyplanModal({title:(0,s.translate)("login_to_my_pyplan"),okOnEnter:!0,modalClass:"smallModal",itemId:n,itemType:l?"dashboard":"report"});break;case"share":t.e(46).then(function(){var e=[t(1076)];(function(e){var t=new e;l?t.showSharer(n,function(e){e?(r(a.itemEl).find(".hasShared").show(),r(a.itemEl).attr("data-hasshared",!0),l||r(a.itemEl).find("img").attr("data-hasshared",!0)):(r(a.itemEl).find(".hasShared").hide(),r(a.itemEl).attr("data-hasshared",""),l||r(a.itemEl).find("img").attr("data-hasshared",""))},l,p):t.showReportSharer(n,function(e){e?(r(a.itemEl).find(".hasShared").show(),r(a.itemEl).attr("data-hasshared",!0),l||r(a.itemEl).find("img").attr("data-hasshared",!0)):(r(a.itemEl).find(".hasShared").hide(),r(a.itemEl).attr("data-hasshared",""),l||r(a.itemEl).find("img").attr("data-hasshared",""))},l,p)}).apply(null,e)}).catch(t.oe);break;case"rename":k(o,l,!1);break;case"setFav":u.setAsFav(!0);break;case"unsetFav":u.setAsFav(!1);break;case"copyToMyReports":u.copyToMyReports();break;case"duplicate":u.duplicate();break;case"export":t.e(51).then(function(){var e=[t(760)];(function(e){(new e).showExportReport({dashboard_ids:c,report_ids:d})}).apply(null,e)}).catch(t.oe);break;case"delete":u.deleteReportItems({dashboardIds:c,reportIds:d})}}),r(".reports-view").on("click","button.hasShared",function(e){e.preventDefault(),e.stopPropagation();var a,n=this,o=!r(this).closest("li").hasClass("report-item");a=o?r(this).closest("div").attr("data-item-id"):r(this).closest("div.card-item").attr("data-item-id"),(0,s.haveAccess)("share_dashboard")?t.e(46).then(function(){var e=[t(1076)];(function(e){(new e).showSharer(a,function(e){e||r(n).hide()},o)}).apply(null,e)}).catch(t.oe):t.e(18).then(function(){var e=[t(685)];(function(e){(new e).show({title:"WARNING!",text:(0,s.translate)("share_dashboard_access_denied"),notifyType:"error"})}).apply(null,e)}).catch(t.oe)})},openRootNodes:function(e){var a=setInterval(function(){if(r("#reportsTree .jstree-container-ul li").length===e.length){clearInterval(a);var t=0;r("#reportsTree .jstree-container-ul li").first().each(function(){0===t&&r("#reportsTree").jstree("select_node",r(this),!1,!0),r("#reportsTree").jstree("open_node",r(this)),t++})}},5)},updateBreadcrumb:function(){r("ol.breadcrumb").empty();for(var e=0;e<this.breadcrumbItems.length;e++)"search"===this.breadcrumbItems[e].action?r("ol.breadcrumb").append('<li class="breadcrumbItem" data-item-action="null" data-item-id="">Search results: </li>'):e===this.breadcrumbItems.length-1?r("ol.breadcrumb").append('<li class="breadcrumbItem active" data-item-action="'+this.breadcrumbItems[e].action+'" data-item-id="'+this.breadcrumbItems[e].itemId+'">'+this.breadcrumbItems[e].name+"</li>"):r("ol.breadcrumb").append('<li class="breadcrumbItem" data-item-action="'+this.breadcrumbItems[e].action+'" data-item-id="'+this.breadcrumbItems[e].itemId+'"><a>'+this.breadcrumbItems[e].name+"</a></li>")},setAsFav:function(e){var a={report_ids:[],dashboard_ids:[]};r.each(r("ul.report-manager li.ui-selected>div"),function(e,t){var n=parseInt(r(t).attr("data-item-id"),10),o=r(t).attr("data-item-type");n&&("report"===o?a.report_ids.push(n):a.dashboard_ids.push(n))}),this.reportManagerModel.setAsFav(a,e,function(e){function a(e,a,t){var n=r('ul.report-manager li>div[data-item-id="'.concat(a,'"][data-item-type="').concat(e,'"]'));n.attr("data-is-fav",t),t&&!n.find(".fa-star").hasClass(".isFav")?n.find(".fa-star").addClass("isFav"):n.find(".fa-star").removeClass("isFav")}e.reports.forEach(function(e){a("report",e.reportItemId,e.isFav)}),e.dashboards.forEach(function(e){a("dashboard",e.dashItemId,e.isFav)})})},copyToMyReports:function(){var e={dashboard_ids:[],report_ids:[]};r.each(r("ul.report-manager li.ui-selected>div"),function(a,t){var n=parseInt(r(t).attr("data-item-id"),10),o=r(t).attr("data-item-type");n&&("report"===o?e.report_ids.push(n):e.dashboard_ids.push(n))}),this.reportManagerModel.copyToMyReports(e,function(e){r("#reportsTree").jstree("refresh_node","j1_1_anchor")})},duplicate:function(){var e=[],a=[];r.each(r("ul.report-manager li.ui-selected>div"),function(t,n){var o=parseInt(r(n).attr("data-item-id"),10),i=r(n).attr("data-item-type");o&&("report"===i?e.push(o):a.push(o))});var t={report_ids:e,dashboard_ids:a};this.reportManagerModel.duplicateItems(t,function(e){r("#reportsTree").jstree("refresh_node",r("#reportsTree").jstree("get_selected")),r("#"+r("#reportsTree").jstree("get_selected")).find("a:first").click()})},deleteReportItems:function(e){var a=e.dashboardIds,n=e.reportIds,r=this;t.e(5).then(function(){var e=[t(683)];(function(e){(new e).show({title:(0,s.translate)("Delete"),text:(0,s.translate)("Are you sure you want to delete these item/s?"),buttons:[{title:(0,s.translate)("yes"),css:"primary",code:"yes"},{title:(0,s.translate)("no"),code:"no"}],callback:function(e){"yes"==e&&(n.length>0&&r.reportManagerModel.deleteItems(n,r.deleteReportsCallback),a.length>0&&r.dashboardManagerModel.deleteItems(a,r.deleteDashboardsCallback.bind(r)))}})}).apply(null,e)}).catch(t.oe)},deleteReportsCallback:function(e){if(e){for(var a,t=0;t<e.length;t++)r("ul.report-manager").find('div[user-item-id="'+e[t]+'"]').closest("li").remove(),r("#reportsTree").jstree("delete_node",e[t]);a=r("ol.breadcrumb li.active").attr("data-item-id"),r("#reportsTree").jstree("select_node",a),r("#reportsTree").jstree("refresh_node",a)}0===r("ul.report-manager li").length&&this.showEmptyMsg()},deleteDashboardsCallback:function(e){if(e)for(var a=0;a<e.length;a++)r("ul.report-manager").find('div[data-item-id="'+e[a]+'"]').closest("li").remove(),r("#reportsTree").jstree("delete_node",e[a]);0===r("ul.report-manager li").length&&this.showEmptyMsg()},showEmptyMsg:function(){"My Interfaces"===r("ol.breadcrumb li:first").text()&&r(".reports-view .empty-message").show()},openDashboard:function(e,a,n,r){"0"===n?t.e(7).then(function(){var n=[t(702)];(function(t){(new t).showDashboard(e,null,a,!1,!0)}).apply(null,n)}).catch(t.oe):Promise.resolve().then(function(){var n=[t(701)];(function(t){(new t).showDashboard(e,null,a,!1,!0,null,r)}).apply(null,n)}).catch(t.oe)},loadDashboardInfo:function(e,a){var t=this;if(r(".reports-view ul").remove(),e.length>0)r(".reports-view .empty-message").hide(),r(".reports-view .no-results").hide();else if(a)if(""===r("input.searchbox").val()){r("#reportsTree").jstree("deselect_all");var n=r("#reportsTree ul > li:first").attr("id");r("#reportsTree").jstree("select_node",n)}else r(".reports-view .no-results").show();else t.showEmptyMsg();r("#mainLoading").show();var o=[],i=[];r.each(e,function(e,a){a.isShared="getReportsSharedWithMe"===t.breadcrumbItems[0].action,a.disableSharer=a.owner!=__currentSession.userCompanyId,a.dashItemId?i.push(a):o.push(a)});var s=u({reports:o,dashboards:i});r(".reports-view").append(s),r("ul.folders li:first").click(),r("#mainLoading").hide()},startDraggerInDesktop:function(){var e,a,t=this;r("ul.report-manager.reports li").droppable({hoverClass:"ui-over",tolerance:"pointer",drop:function(e,a){t.itemWasDropped=!0;var n={report_ids:[],dashboard_ids:[],report_id:r(this).find("div").attr("data-item-id")};r.each(r("ul.ui-draggable-helper li"),function(e,a){var t=r(a).find("div"),o=t.attr("data-item-id");switch(t.attr("data-item-type")){case"dashboard":n.dashboard_ids.push(o);break;case"report":n.report_ids.push(o)}}),t.reportManagerModel.dropOnReport(n,function(e){e&&(n.report_ids.forEach(function(e){r('ul.report-manager.reports li>div[data-item-type="report"][data-item-id=\''.concat(e,"']")).parent().remove()}),n.dashboard_ids.forEach(function(e){r('ul.report-manager.dashboards li>div[data-item-type="dashboard"][data-item-id=\''.concat(e,"']")).parent().remove()})),t.itemWasDropped=!1})},over:function(e,a){},out:function(e,a){r(a.item).removeClass("ui-over")}}),r("ul.report-manager.reports").sortable((l(e={placeholder:"report-placeholder",containment:"body",items:'li[type="folder"]',revert:!1,tolerance:0,helper:"clone",zIndex:999999999,dropOnEmpty:!1,scroll:!0},"helper",function(e,a){a.hasClass("ui-selected")||a.addClass("ui-selected");var t=r(".ui-selected").not(".ui-sortable-placeholder").clone(),n=r("<ul/>");return a.siblings(".ui-selected").addClass("ui-hidden"),n.append(t)}),l(e,"start",function(e,a){r(a.helper).addClass("ui-draggable-helper");var t=a.item.siblings(".ui-selected.ui-hidden").not(".ui-sortable-placeholder");a.item.data("items",t)}),l(e,"receive",function(e,a){a.item.before(a.item.data("items"))}),l(e,"stop",function(e,a){r(a.item).removeClass("ui-draggable-helper"),t.itemWasDropped||(a.item.siblings(".ui-selected").removeClass("ui-hidden"),r(".ui-selected").removeClass("ui-selected"),t.updateReportsOrder())}),l(e,"sort",function(e,a){}),e)),r("ul.report-manager.dashboards").sortable((l(a={placeholder:"dash-placeholder",containment:"body",items:'li[type="file"]',revert:!1,tolerance:"intersect",delay:500,dropOnEmpty:!1,helper:"clone",zIndex:999999999,scroll:!0},"helper",function(e,a){a.hasClass("ui-selected")||a.addClass("ui-selected");var t=r(".ui-selected").not(".ui-sortable-placeholder").clone(),n=r("<ul/>");return a.siblings(".ui-selected").addClass("ui-hidden"),n.append(t)}),l(a,"start",function(e,a){r(a.helper).addClass("ui-draggable-helper");var t=a.item.siblings(".ui-selected.ui-hidden").not(".ui-sortable-placeholder");a.item.data("items",t)}),l(a,"receive",function(e,a){a.item.before(a.item.data("items"))}),l(a,"stop",function(e,a){t.itemWasDropped||(a.item.siblings(".ui-selected").removeClass("ui-hidden"),r(".ui-selected").removeClass("ui-selected"),t.updateDashboardsOrder())}),a))},updateReportsOrder:function(){var e=[];r('ul.report-manager li>div[data-item-type="report"]').each(function(){e.push(r(this).attr("data-item-id"))}),this.reportManagerModel.updateOrder(e)},updateDashboardsOrder:function(){var e=[];r('ul.report-manager li>div[data-item-type="dashboard"]').each(function(){e.push(r(this).attr("data-item-id"))}),this.dashboardManagerModel.updateOrder(e)},optimizeStructureForTree:function(e,a){for(var t=[],n=0;n<e.length;n++)if(void 0===e[n].itemType&&(e[n].itemType=e[n].dashItemId?2:1),e[n].text=e[n].name,e[n].type=e[n].itemType,e[n].id=e[n].reportItemId,0===e[n].type||1===e[n].type?(e[n].children=!0,e[n].type="folder"):1===e[n].itemType?(e[n].children=!0,e[n].type="folder"):"tree"===a&&t.push(n),e[n].specialFolderType)switch(e[n].children=!0,e[n].specialFolderType){case 0:e[n].type="folder";break;case 1:e[n].type="myfolder";break;case 2:e[n].type="public";break;case 3:e[n].type="sharedWithMe";break;case 4:e[n].type="modelsPath";break;case 5:e[n].type="shared";break;case 6:e[n].type="recent";break;case 7:e[n].type="favs";break;case 8:e[n].type="trash";break;default:e[n].type="folder"}else e[n].type="folder";if("tree"===a)for(n=0;n<t.length;n++)e.splice(t[t.length-(n+1)],1);return e},initTree:function(e){var a=this;r("#reportsTree").jstree({plugins:["wholerow","types"],types:{default:{icon:"fa fa-folder"},folder:{icon:"fa fa-folder"},sharedWithMe:{icon:"fa fa-user-plus"},shared:{icon:"fa fa-users"},recent:{icon:"fa fa-clock"},favs:{icon:"fa fa-star"},trash:{icon:"fa fa-trash"},myfolder:{icon:"fa fa-user"},public:{icon:"fa fa-globe"}},core:{check_callback:!0,themes:{name:"proton",responsive:!0},data:function(t,n){if("#"===t.id)n.call(this,a.optimizeStructureForTree(e,"tree")),a.openRootNodes(e);else if(t.original.callTo)a.returnGetData(t.original.callTo,null,!0,n);else{var r=t.original.reportItemId;a.returnGetData(t.original.callTo,r,!0,n)}}}}).on("select_node.jstree",function(e,t){var n=t.node.original.callTo;if(t.node.original.callTo)a.returnGetData(n,null,!1,null);else{var o=t.node.original.reportItemId;a.returnGetData(n,o,!1,null)}a.breadcrumbItems=[];for(var i,s=r("#reportsTree").jstree("get_path",t.node,null,!0),l=0;l<s.length;l++){i=r("#reportsTree").jstree("get_text",s[l],!0);var d=r("#reportsTree").jstree("get_node",s[l]).original.callTo;a.breadcrumbItems.push({name:i,itemId:s[l],action:d})}a.updateBreadcrumb(),a.enableCreateBtns()}).on("create_node.jstree",function(e,t){a.droppableTreeItems(this)}).on("after_open.jstree",function(e,t){a.droppableTreeItems(this)})},droppableTreeItems:function(e){var a=this;r(".drawer-left ul>li").first().find("div").droppable({hoverClass:"jstree-wholerow-hovered",intersect:"pointer",drop:function(e,t){a.itemWasDropped=!0;var n,o=[],i=r(this).parent().attr("id"),s={dashboard_ids:[],report_ids:[],report_id:i.indexOf("j")>=0?null:i};n=r("ol.breadcrumb li.active").attr("data-item-id");var l=!1;r.each(r("ul.ui-draggable-helper li"),function(e,a){var t=r(a).find("div"),i=t.attr("data-item-id");switch(t.attr("data-item-type")){case"dashboard":s.dashboard_ids.push(i);break;case"report":s.report_ids.push(i),o=r(this).closest('ul.jstree-children li[id="'+i+'"]'),(s.report_id===i||o.length>0||s.report_id===n)&&(l=!0)}}),l||a.reportManagerModel.dropOnReport(s,function(e){e&&(r("#reportsTree").jstree("deselect_all"),s.dashboard_ids.forEach(function(e){r('ul.report-manager.dashboards li>div[data-item-type="dashboard"][data-item-id=\''.concat(e,"']")).parent().remove()}),s.report_ids.forEach(function(e){var a=r("ul.report-manager li>div[user-item-id='".concat(e,"']")).attr("data-item-name"),t=r("ul.report-manager li>div[user-item-id='".concat(e,"']")).attr("data-item-type");r("ul.report-manager li>div[user-item-id='".concat(e,"']")).parent().remove(),r("#reportsTree").jstree("select_node",i),r("#reportsTree").jstree("is_open",i),"folder"===t&&(r("#reportsTree").jstree("delete_node",e),r("#reportsTree").jstree().create_node(i,{text:a,type:"folder",id:e,reportItemId:e},"last",function(){r("#reportsTree").jstree("refresh_node",e)}))})),a.itemWasDropped=!1})},out:function(e,a){r(a.item).removeClass("ui-over")}})},enableCreateBtns:function(){"My Interfaces"!==r("ol.breadcrumb li:first").text()?(r("#report-manager").find(".dropdown-toggle").enable(!1),r("#report-manager").find(".dropdown-toggle").addClass("disabled")):(r("#report-manager").find(".dropdown-toggle").enable(!0),r("#report-manager").find(".dropdown-toggle").removeClass("disabled"))},returnGetData:function(e,a,t,n){var r,o,i=this,s=this;switch(a&&(r=this.reportManagerModel.getMyReports,o=this.dashboardManagerModel.getMyDashboards),e){case"getMyReports":r=this.reportManagerModel.getMyReports,o=this.dashboardManagerModel.getMyDashboards;break;case"getReportsSharedWithMe":r=this.reportManagerModel.getReportsSharedWithMe,o=this.dashboardManagerModel.getDashboardsSharedWithMe;break;case"getMySharedReports":r=this.reportManagerModel.getMySharedReports,o=this.dashboardManagerModel.getMySharedDashboards;break;case"getRecentsReports":r=this.reportManagerModel.getRecentsReports,o=this.dashboardManagerModel.getRecentsDashboards;break;case"getFavsReports":r=this.reportManagerModel.getFavsReports,o=this.dashboardManagerModel.getFavsDashboards}r(a,function(e){o(a,function(a){!function(e){if(null!==e)if(t){var a=s.optimizeStructureForTree(e,"tree");n.call(i,a)}else(e.length>0||!s.firstLoad)&&(s.loadDashboardInfo(e,!1),s.startDraggerInDesktop(),s.firstLoad=!1)}(d(e).concat(d(a)))})})},registerSelectionEvents:function(){r(".reports-view").on("mousedown",".report-manager li",function(t){r(t.target).hasClass("form-control")||(window.event.ctrlKey&&r(this).toggleClass("ui-selected"),0===window.event.button&&(window.event.ctrlKey||window.event.shiftKey||(r(".ui-selected").find("div.editor button").click(),a(),r(this).toggleClass("ui-selected")),window.event.shiftKey&&e([r(void 0).index(),r(this).index()])))});var e=function(e){var a=r("ul.report-manager li");e.sort(function(e,a){return e-a});for(var t=e[0];t<=e[1];t++)r(a[t]).addClass("ui-selected");return!1},a=function(){for(var e=r("ul.report-manager li"),a=0;a<e.length;a++)r(e[a]).removeClass("ui-selected")}},removeView:function(e,a){r('.mainTask[data-rel="report-manager"]').remove(),r(".context-menu").off("onContextMenuClick"),r("#context-menu").remove()}})}.apply(a,o))||(e.exports=i)}).call(this,t(218),t(1))}}]);