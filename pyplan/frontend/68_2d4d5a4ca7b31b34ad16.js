/*! Copyright Novix S.A. 2019. All rights reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{1868:function(e,t,a){var r=a(690);function n(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template({1:function(e,t,a,r,n){return'      <div class="btn-group add-report-group" style="float: left; margin-right: 8px;">\n        <a href="#" data-toggle="dropdown" class="btn btn-satgreen dropdown-toggle btn--icon"\n          style="width: 170px; min-width: 170px; max-width: 170px;">\n          <i class="fa fa-plus-circle"></i>New\n          <span class="caret"></span>\n        </a>\n        <ul class="dropdown-menu">\n          <li>\n            <a href="#" class="newDashboard">Interface</a>\n          </li>\n          <li>\n            <a href="#" class="newReport">Application</a>\n          </li>\n        </ul>\n      </div>\n'},3:function(e,t,a,r,n){return'      <button class="btn btn-blue btnImport" style="float: left;"> <i class="fa fa-download"></i> Import </button>\n'},5:function(e,t,a,r,n){return'    \x3c!--li class="context-menu__item share">\n      <a href="javascript:void(0)" class="context-menu__link" data-action="share"><i class="fa fa-share-square"></i>\n        Share</a>\n    </li--\x3e\n'},7:function(e,t,a,r,n){return'    <li role="separator" class="divider export"></li>\n    <li class="context-menu__item export">\n      <a href="javascript:void(0)" class="context-menu__link" data-action="export"><i class="fa fa-upload"></i>\n        Export</a>\n    </li>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,r,i,s){var o,d=null!=t?t:e.nullContext||{};return'<div id="report-manager" class="container-fluid mainTask dragg-area" data-rel="report-manager" data-type="tab-content"\n  style="padding-left: 0; padding-right: 0;">\n\n  <div class="row report-manager-header"\n    style="z-index: 90; background-color: #f7f7f7; margin-left: 0px; margin-right: 0px; position: relative; border-width: 0 0 1px 0; border-style: solid; border-color: #ccc;">\n\n    <div class="col-sm-8" style="padding-top: 8px;">\n'+(null!=(o=n(a(698)).call(d,"add_dashboard",{name:"haveAccess",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?o:"")+"\n"+(null!=(o=n(a(698)).call(d,"import_dashboard",{name:"haveAccess",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?o:"")+'\n      <ol class="breadcrumb reportManager" style="float: left; width: calc(100% - 280px); margin-left: 20px;">\n\n      </ol>\n    </div>\n\n    <div class="col-sm-4">\n      <div class="input-group" style="margin-top:8px; margin-bottom: 5px; margin-right: 6px">\n        <input type="text" placeholder="Search..." class="form-control searchbox">\n        <span class="input-group-addon">\n          <i class="fa fa-search"></i>\n        </span>\n      </div>\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="col-sm-12">\n      <aside class="drawer-left">\n        <div class="card profile-menu">\n          <div class="card-body">\n            <div id="reportsTree" style="margin-top: 10px;"></div>\n          </div>\n        </div>\n      </aside>\n\n      <section class="reports-view m-t-30" style="background-color: #efefef;">\n\n        <ul class="report-manager reports">\n        </ul>\n\n        <div style="clear: both;"></div>\n\n        <ul class="report-manager dashboards">\n        </ul>\n\n        <p class="empty-message nodisplay" style="display: none;">There are no Interfaces available. <br /> <a href="#"\n            data-rel="create_new_dashboard">Create new Interface</a> or <a href="#" data-rel="view_model">Open model</a>\n        </p>\n\n        <p class="no-results nodisplay" style="display: none;">No results found.</p>\n\n      </section>\n    </div>\n  </div>\n  <div style="clear: both;"></div>\n</div>\n\n\x3c!-- Menu div initially hidden --\x3e\n<nav id="context-menu" class="context-menu">\n  <ul class="context-menu__items">\n'+(null!=(o=n(a(698)).call(d,"share_dashboard",{name:"haveAccess",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?o:"")+'    <li class="context-menu__item rename">\n      <a href="javascript:void(0)" class="context-menu__link" data-action="rename"><i class="fa fa-edit"></i> Rename\n      </a>\n    </li>\n    <li class="context-menu__item setFav">\n      <a href="javascript:void(0)" class="context-menu__link" data-action="setFav"><i class="far fa-star"></i> Set as\n        Fav</a>\n    </li>\n    <li class="context-menu__item unsetFav">\n      <a href="javascript:void(0)" class="context-menu__link" data-action="unsetFav"><i class="fas fa-star"></i> Unset\n        as Fav</a>\n    </li>\n    <li class="context-menu__item copyToMyReports">\n      <a href="javascript:void(0)" class="context-menu__link" data-action="copyToMyReports"><i\n          class="fa fa-user"></i>Copy to My Interfaces</a>\n    </li>\n    <li class="context-menu__item duplicate">\n      <a href="javascript:void(0)" class="context-menu__link" data-action="duplicate"><i\n          class="fa fa-copy"></i>Duplicate</a>\n    </li>\n'+(null!=(o=n(a(698)).call(d,"export_dashboard",{name:"haveAccess",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?o:"")+'    <li role="separator" class="divider remove"></li>\n    <li class="context-menu__item remove">\n      <a href="javascript:void(0)" class="context-menu__link" data-action="delete"><i class="fa fa-trash"></i>\n        Remove</a>\n    </li>\n  </ul>\n</nav>\n\x3c!-- /Menu div initially hidden --\x3e'},useData:!0})},1869:function(e,t,a){var r=a(690);function n(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template({1:function(e,t,r,i,s){var o,d=null!=t?t:e.nullContext||{},l=e.lambda,c=e.escapeExpression;return'  <li type="folder" class="report-item" '+(null!=(o=n(a(689)).call(d,null!=t?t.sharedBy:t,"!=",null,{name:"ifCond",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?o:"")+'>\n    <div class="card card-folder card-item enable-context-menu" data-item-name="'+c(l(null!=t?t.name:t,t))+'"\n      user-item-id="'+c(l(null!=t?t.reportItemId:t,t))+'" data-item-id="'+c(l(null!=t?t.reportItemId:t,t))+'" data-item-type="report" data-is-fav="'+c(l(null!=t?t.isFav:t,t))+'"\n      data-item-modified="Jan 3, 2017" data-item-opened="Jan 5, 2017" data-item-created="Jan 1, 2017">\n      <div class="card-heading">\n\n        <button class="btn hasShared '+(null!=(o=r.if.call(d,null!=t?t.isShared:t,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.program(6,s,0),data:s}))?o:"")+'" '+(null!=(o=r.if.call(d,null!=t?t.disableSharer:t,{name:"if",hash:{},fn:e.program(8,s,0),inverse:e.noop,data:s}))?o:"")+' title="Shared"><i class="fa fa-share-square"></i></button>\n\n'+(null!=(o=r.if.call(d,null!=t?t.isShared:t,{name:"if",hash:{},fn:e.program(10,s,0),inverse:e.program(12,s,0),data:s}))?o:"")+'      </div>\n      <div class="card-body">\n        <span class="title">'+c(l(null!=t?t.name:t,t))+'</span>\n      </div>\n      <div class="card-footer">\n        <i class="fa fa-star '+(null!=(o=r.if.call(d,null!=t?t.isFav:t,{name:"if",hash:{},fn:e.program(14,s,0),inverse:e.program(4,s,0),data:s}))?o:"")+'"></i>\n      </div>\n    </div>\n  </li>\n'},2:function(e,t,a,r,n){return' title="Shared by: '+e.escapeExpression(e.lambda(null!=t?t.sharedBy:t,t))+'" '},4:function(e,t,a,r,n){return" "},6:function(e,t,a,r,n){return"nodisplay"},8:function(e,t,a,r,n){return'\n          disabled="disabled" '},10:function(e,t,a,r,n){return"\n"},12:function(e,t,a,r,n){return'        <i class="fa fa-folder"></i>\n'},14:function(e,t,a,r,n){return" isFav "},16:function(e,t,r,i,s){var o,d=null!=t?t:e.nullContext||{},l=e.lambda,c=e.escapeExpression;return'  <li type="file" class="dash-item" '+(null!=(o=n(a(689)).call(d,null!=t?t.sharedBy:t,"!=",null,{name:"ifCond",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?o:"")+'>\n    <div class="card card-file card-item enable-context-menu selected" data-item-name="'+c(l(null!=t?t.name:t,t))+'"\n      user-item-id="'+c(l(null!=t?t.reportItemId:t,t))+'" dash-version='+c(l(null!=t?t.dashVersion:t,t))+' data-item-id="'+c(l(null!=t?t.dashItemId:t,t))+'"\n      data-item-type="dashboard" data-is-fav="'+c(l(null!=t?t.isFav:t,t))+'" data-owner="'+c(l(null!=t?t.owner:t,t))+'" data-item-modified="Feb 9, 2017"\n      data-item-opened="Feb 11, 2017" data-item-created="Feb 3, 2017">\n\n      <button class="btn hasShared '+(null!=(o=r.if.call(d,null!=t?t.isShared:t,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.program(6,s,0),data:s}))?o:"")+'" '+(null!=(o=r.if.call(d,null!=t?t.disableSharer:t,{name:"if",hash:{},fn:e.program(17,s,0),inverse:e.noop,data:s}))?o:"")+' title="Shared"><i class="fa fa-share-square"></i></button>\n\n      <div class="card-body">\n        \x3c!--img src="'+c(n(a(719)).call(d,{name:"baseURL",hash:{},data:s}))+"thumbs/view.ashx?img=dashboards-common-dash"+c(l(null!=t?t.dashItemId:t,t))+"&w=235&h=140&t=crop&r="+c(n(a(915)).call(d,{name:"rand",hash:{},data:s}))+'"\n          alt="" /--\x3e\n      </div>\n      <div class="card-footer">\n        <i class="fa fa-star '+(null!=(o=r.if.call(d,null!=t?t.isFav:t,{name:"if",hash:{},fn:e.program(14,s,0),inverse:e.program(4,s,0),data:s}))?o:"")+'"></i>\n        <span class="title">'+c(l(null!=t?t.name:t,t))+"</span>\n      </div>\n    </div>\n  </li>\n"},17:function(e,t,a,r,n){return' disabled="disabled"\n        '},compiler:[7,">= 4.0.0"],main:function(e,t,a,r,n){var i,s=null!=t?t:e.nullContext||{};return'<ul class="report-manager reports">\n'+(null!=(i=a.each.call(s,null!=t?t.reports:t,{name:"each",hash:{},fn:e.program(1,n,0),inverse:e.noop,data:n}))?i:"")+'</ul>\n\n<div style="clear: both;"></div>\n\n<ul class="report-manager dashboards">\n\n  \x3c!-- FILES --\x3e\n'+(null!=(i=a.each.call(s,null!=t?t.dashboards:t,{name:"each",hash:{},fn:e.program(16,n,0),inverse:e.noop,data:n}))?i:"")+"</ul>"},useData:!0})},1870:function(e,t,a){var r=a(690);function n(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template({1:function(e,t,a,r,n){return" "},3:function(e,t,a,r,n){return"nodisplay"},5:function(e,t,a,r,n){return" isFav "},compiler:[7,">= 4.0.0"],main:function(e,t,r,i,s){var o,d=e.lambda,l=e.escapeExpression,c=null!=t?t:e.nullContext||{};return'<li type="file" class="dash-item ui-selected">\n    <div class="card card-file card-item enable-context-menu selected" data-item-name="'+l(d(null!=t?t.name:t,t))+'"\n        user-item-id="'+l(d(null!=t?t.reportItemId:t,t))+'" data-item-id="'+l(d(null!=t?t.dashItemId:t,t))+'" data-item-selected="false" data-is-fav="false"\n        data-item-type="dashboard" data-owner="'+l(d(null!=t?t.owner:t,t))+'">\n\n        <button class="btn hasShared '+(null!=(o=r.if.call(c,null!=t?t.isShared:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?o:"")+'" title="Shared"><i\n                class="fa fa-share-square"></i></button>\n\n        <div class="card-body">\n            \x3c!--img src="'+l(n(a(719)).call(c,{name:"baseURL",hash:{},data:s}))+"thumbs/view.ashx?img=dashboards-common-dash"+l(d(null!=t?t.dashboardId:t,t))+"&w=235&h=140&t=crop&r="+l(n(a(915)).call(c,{name:"rand",hash:{},data:s}))+'"\n                alt="" /--\x3e\n        </div>\n        <div class="card-footer">\n            <i class="fa fa-star '+(null!=(o=r.if.call(c,null!=t?t.isFav:t,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.program(1,s,0),data:s}))?o:"")+'"></i>\n            <span class="title">'+l(d(null!=t?t.name:t,t))+"</span>\n        </div>\n    </div>\n</li>"},useData:!0})},1871:function(e,t,a){var r=a(690);e.exports=(r.default||r).template({1:function(e,t,a,r,n){return" "},3:function(e,t,a,r,n){return"nodisplay"},5:function(e,t,a,r,n){return"\n"},7:function(e,t,a,r,n){return'      <i class="fa fa-folder"></i>\n'},9:function(e,t,a,r,n){return" isFav "},compiler:[7,">= 4.0.0"],main:function(e,t,a,r,n){var i,s,o=null!=t?t:e.nullContext||{},d=a.helperMissing,l=e.escapeExpression;return'<li type="folder" class="report-item ui-selected">\n  <div class="card card-folder card-item enable-context-menu" data-item-selected="false" user-item-id="'+l("function"==typeof(s=null!=(s=a.reportItemId||(null!=t?t.reportItemId:t))?s:d)?s.call(o,{name:"reportItemId",hash:{},data:n}):s)+'"\n    data-item-id="'+l("function"==typeof(s=null!=(s=a.reportItemId||(null!=t?t.reportItemId:t))?s:d)?s.call(o,{name:"reportItemId",hash:{},data:n}):s)+'" data-is-fav="false" data-item-type="report">\n    <div class="card-heading">\n      <button class="btn hasShared '+(null!=(i=a.if.call(o,null!=t?t.isShared:t,{name:"if",hash:{},fn:e.program(1,n,0),inverse:e.program(3,n,0),data:n}))?i:"")+'" title="Shared"><i\n          class="fa fa-share-square"></i></button>\n\n'+(null!=(i=a.if.call(o,null!=t?t.isShared:t,{name:"if",hash:{},fn:e.program(5,n,0),inverse:e.program(7,n,0),data:n}))?i:"")+'    </div>\n    <div class="card-body">\n      <span class="title">'+l("function"==typeof(s=null!=(s=a.name||(null!=t?t.name:t))?s:d)?s.call(o,{name:"name",hash:{},data:n}):s)+'</span>\n    </div>\n    <div class="card-footer">\n      <i class="fa fa-star '+(null!=(i=a.if.call(o,null!=t?t.isFav:t,{name:"if",hash:{},fn:e.program(9,n,0),inverse:e.program(1,n,0),data:n}))?i:"")+'"></i>\n    </div>\n  </div>\n</li>'},useData:!0})},1872:function(e,t,a){var r=a(690);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,a,r,n){var i,s=null!=t?t:e.nullContext||{},o=a.helperMissing,d=e.escapeExpression;return'<div class="editor">\n  <div class="col-xs-12 nopadding">\n    <div class="input-group">\n      <input type="text" value="'+d("function"==typeof(i=null!=(i=a.name||(null!=t?t.name:t))?i:o)?i.call(s,{name:"name",hash:{},data:n}):i)+'" class="form-control input-sm">\n      <div class="input-group-btn">\n        <button data-rel="'+d("function"==typeof(i=null!=(i=a.id||(null!=t?t.id:t))?i:o)?i.call(s,{name:"id",hash:{},data:n}):i)+'" class="btn btn-blue btn-small" type="button" style="height: 20px;"><i\n            class="fa fa-check"></i></button>\n      </div>\n    </div>\n  </div>\n</div>'},useData:!0})},1873:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){if(e("#context-menu").length){var t,a,r,n,i,s,o,d,l=function(e,t){var a=e.srcElement||e.target;if(a.classList.contains(t))return a;for(;a=a.parentNode;)if(a.classList&&a.classList.contains(t))return a;return!1},c=function(){e(document).on("contextmenu",function(a){var r=e(a.target).closest("li");r.hasClass("ui-selected")||(e(".reports-view ul li").removeClass("ui-selected"),r.addClass("ui-selected"),r.click());var n=!0;e.each(e("ul.report-manager li.ui-selected>div"),function(t,a){"false"===e(a).attr("data-is-fav")&&(n=!1)}),"getReportsSharedWithMe"===e(e(".breadcrumbItem")[0]).attr("data-item-action")?(e(I).find(".copyToMyReports").show(),e(I).find(".share").hide(),e(I).find(".setFav").hide(),e(I).find(".unsetFav").hide(),e(I).find(".rename").hide(),e(I).find(".remove").hide(),e(I).find(".export").hide(),e(I).find(".duplicate").hide()):("getMyReports"===e(e(".breadcrumbItem")[0]).attr("data-item-action")?(e(I).find(".share").show(),e(I).find(".rename").show(),e(I).find(".copyToMyReports").hide(),e(I).find(".duplicate").show(),e(I).find(".export").show(),e(I).find(".remove").show()):(e(I).find(".rename").show(),e(I).find(".remove").show(),e(I).find(".duplicate").show()),n?(e(I).find(".unsetFav").show(),e(I).find(".setFav").hide()):(e(I).find(".unsetFav").hide(),e(I).find(".setFav").show())),(t=l(a,w))?(a.preventDefault(),m(),v(a)):(t=null,f())})},p=function(){e("#report-manager, .context-menu__item").on("click",function(t){var a=e(t.target).closest("li");if(a.hasClass("report-item")||a.hasClass("dash-item")||a.hasClass("context-menu__item")){var r=l(t,b);r?(t.preventDefault(),g(r)):1===(t.which||t.button)&&f()}else e("ul").find("li").removeClass("ui-selected"),1===(t.which||t.button)&&f()})},u=function(){window.onkeyup=function(e){27===e.keyCode&&f()}},h=function(){window.onresize=function(e){f()}},m=function(){1!==_&&(_=1,I.classList.add(y))},f=function(){0!==_&&(_=0,I.classList.remove(y))},v=function(e){a=function(e){var t=0,a=0;return e||(e=window.event),e.pageX||e.pageY?(t=e.pageX,a=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,a=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:t,y:a}}(e),r=a.x,n=a.y,i=I.offsetWidth+4,s=I.offsetHeight+4,o=window.innerWidth,d=window.innerHeight,I.style.left=o-r<i?o-i+"px":r+"px",I.style.top=d-n<s?d-(s+40)+"px":n-30+"px"},g=function(a){var r={itemEl:e(t),itemType:"report"===e(t).attr("data-item-type")?1:2,dataAction:a.getAttribute("data-action")};e(".context-menu").trigger("onContextMenuClick",r),f()},b="context-menu__link",y="context-menu--active",w="enable-context-menu",I=document.querySelector("#context-menu"),_=(I.querySelectorAll(".context-menu__item"),0);c(),p(),u(),h()}};t.default=a}).call(this,a(1))},907:function(e,t,a){"use strict";(function(r,n){var i,s,o=a(18);function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}i=[a(219),a(908),a(751),a(1868),a(1869),a(1870),a(1871),a(1872)],void 0===(s=function(e,t,i,s,c,p,u,h){return r.View.extend({el:n("#main"),currentFilename:void 0,breadcrumbItems:[],firstLoad:!0,render:function(r,d){var c,m=this;c=String(r).lastIndexOf("/")>=0?(c=String(r).substr(String(r).lastIndexOf("/")+1)).substr(0,c.length-4):r,this.currentFilename=c,this.reportManagerModel=new t,this.dashboardManagerModel=new i;var f=new e,v=s();this.$el.append(v),m.breadcrumbItems=[],m.breadcrumbItems.push({name:"My Interfaces",itemId:null,action:"getMyReports"}),m.updateBreadcrumb(),a(1873).default(),m.registerSelectionEvents();var g=[{name:"My Interfaces",itemType:0,callTo:"getMyReports",specialFolderType:1,id:"myReports",data:{firstLevel:!0,extension:null,specialFileType:0,isShared:!1,sharedBy:null,fileSize:0,lastUpdateTime:"0001-01-01T00:00:00",fullPath:"novix\\super\\CARPETA DENEGADA\\",hasDenied:!1}},{name:"Favs",itemType:0,callTo:"getFavsReports",specialFolderType:7,id:"favs",data:{firstLevel:!0,extension:null,specialFileType:0,isShared:!1,sharedBy:null,fileSize:1368447,lastUpdateTime:"2017-09-19T18:24:01.6792936-03:00",fullPath:"novix\\super\\cgap shd.ana",hasDenied:!1}}];function b(e){n(".reports-view").width(n(window).width()-n(".drawer-left").width()-50-38),n(".reports-view").height(n(window).height()-(n(".report-manager-header").height()+40+38)),n(".drawer-left").height(n(window).height()-(n(".report-manager-header").height()+40+10)),n(".dashboards-wrapper").length>0&&(n(".dashboards-wrapper").width(n(window).width()-100),e?n(".dashboards-wrapper").height(n(window).height()-300):n(".dashboards-wrapper").height(n(window).height()-120))}if(n("#report-manager").on("removeView",function(e,t){m.removeView(e,t)}),n("#report-manager").on("refreshImageDashboard",function(e,t){n("ul.report-manager li>div[data-item-id='"+t+"'] img").each(function(e,t){n(this).attr("src",n(this).attr("src")+"&"+Math.random())})}),(0,o.registerResizeEvents)("modelSummary",b),b(),d){if(n("#currentModel").html(c),n("#navigation .modelopened").show(),n("#left .navigation .modelopened").show(),__currentSession&&__currentSession.autoopenUri){var y=__currentSession.autoopenUri&&__currentSession.autoopenUri.toLowerCase().indexOf("/public/")>=0;(0,o.haveAccess)("change_model")&&!y||(0,o.haveAccess)("change_public_model")&&y?(n("#navigation li.modelopened[data-key='btnSaveModel']").show(),n("#navigation li.modelopened[data-key='btnSaveModelAs']").show(),__currentSession.modelInfo&&__currentSession.modelInfo.readonly&&(n("#navigation li.modelopened[data-key='btnSaveModel']").hide(),(0,o.showMessage)(__currentSession.modelInfo.readOnlyReason,"","info",!1))):(n("#navigation li.modelopened[data-key='btnSaveModel']").hide(),n("#navigation li.modelopened[data-key='btnSaveModelAs']").hide())}m.initTree(g)}else n("#mainLoading").show(),f.openModel(r,function(e){n("#mainLoading").hide(),e&&(n("#navigation .modelopened").show(),n("#left .navigation .modelopened").show(),m.initTree(g))});function w(e,t,a,r){!function(e,t){var a=!!e.dashItemId,r=(a?p:u)(e);void 0==t?a?n("ul.report-manager.dashboards").prepend(r):n("ul.report-manager.reports").prepend(r):n(r).insertBefore(t)}(t,a),e&&n(a).remove(),void 0!=r&&n.isFunction(r)&&r(t)}function I(e,t,r){var i={userItemId:n(e).attr("user-item-id"),dashboardId:n(e).attr("data-item-id"),name:n(e).find("span.title").text()},s=h(i);n(e).find("span.title").hide(),t?n(e).find(".card-footer").append(s):n(e).find(".card-body").append(s),n(e).find("div.editor input").select(),n(e).find("div.editor input").focus();var o=function(s){var o=n(s).closest("div.card").find("input").val();if(o!=i.name?(t?m.dashboardManagerModel.updateName(i.dashboardId,o):m.reportManagerModel.updateName(i.userItemId,o),n(e).find("span.title").text(o),n(e).find("span.title").show(),n(e).find("span.title").attr("title",o),n(e).attr("data-item-name",o),n(e).hasClass("item-dashboard")&&n(e).find(">img").first().attr("data-title",o)):n(e).find("span.title").show(),n(e).find("div.editor").remove(),n(e).closest("li").select(),n(e).closest("li").click(),"search"===m.breadcrumbItems[0].action){var d=n("ol.breadcrumb li.active").attr("data-item-id");n("#reportsTree").jstree("is_open",d)&&(n("#reportsTree").jstree().create_node(d,{text:o,type:"folder",id:i.userItemId,reportItemId:i.userItemId},"first"),n("#reportsTree").jstree("refresh_node",m.currentNodeId))}else if(!t){d=n("#reportsTree").jstree("get_selected"),n("#reportsTree").jstree("is_open",d);r?n("#reportsTree").jstree().create_node(d,{text:o,type:"folder",id:i.userItemId,reportItemId:i.userItemId},"first"):n("#reportsTree").jstree().rename_node(i.userItemId,o),n("#reportsTree").jstree("refresh_node",m.currentNodeId)}Promise.all([a.e(19),a.e(280)]).then(function(){var e=[a(747)];(function(e){var t=new e,a={dashboardId:i.dashboardId,name:o};t.refreshDashboardName(a)}).apply(null,e)}).catch(a.oe)};n(e).find("div.editor button").click(function(){o(n(this))}),n(e).find("div.editor input").focusout(function(){o(n(this))}),n(e).find("div.editor input").keypress(function(e){13==e.keyCode&&o(n(this))}),n(e).find("div.editor").click(function(e){e.stopPropagation()})}n(".drawer-left").perfectScrollbar(),n("#report-manager").on("fullRefresh",function(e){n("#report-manager").trigger("removeView"),m.render(m.currentFilename,!0)});var _=-1;n("input.searchbox").on("keyup",function(){var e=n(this).val();clearTimeout(_),_=setTimeout(function(){m.reportManagerModel.search(e,function(e){""===n("input.searchbox").val()?n("#"+n("#reportsTree").jstree("get_selected")).find("a:first").click():(m.loadDashboardInfo(l(e.dashboards).concat(l(e.reports)),!0),m.startDraggerInDesktop(),m.breadcrumbItems=[],m.breadcrumbItems.push({name:"Search results: ",itemId:0,action:"search"}),m.updateBreadcrumb(),m.enableCreateBtns())})},400)}),n("#report-manager .btnImport").click(function(){a.e(54).then(function(){var e=[a(775)];(function(e){(new e).showImportReport()}).apply(null,e)}).catch(a.oe)}),n("a[data-rel='view_model']").on("click",function(){n("#left a.btnShowDiagram").click()}),n('.newDashboard, a[data-rel="create_new_dashboard"]').on("click",function(e){n(".reports-view .empty-message").hide(),n(".reports-view .no-results").hide();var t=(0,o.translate)("new_dashboard"),a={};a.name=t;var r=parseInt(n("ol.breadcrumb li.active").attr("data-item-id"),10);a.reportId=r||null,a.reportItemId=r||null,m.dashboardManagerModel.createItem(a,function(e){var t;n('ul.report-manager li[type="file"]').length>0&&(t=n('ul.report-manager li[type="file"]').first()),w(void 0,e,t,function(e){I(n(".report-manager li[type='file']>div[data-item-id='"+e.dashItemId+"']"),!0,!0),m.updateDashboardsOrder(),m.startDraggerInDesktop()})})}),n(".newReport").on("click",function(e){n(".reports-view .empty-message").hide(),n(".reports-view .no-results").hide();var t=(0,o.translate)("_new_report"),a={};a.id=m.reportManagerModel.createTempId(),a.name=t,a.itemType=1;var r=parseInt(n("ol.breadcrumb li.active").attr("data-item-id"),10);a.parentId=r||null,m.reportManagerModel.createReport(a,function(e){var t;a.reportItemId=e.reportItemId,n('ul.report-manager li[type="folder"]').length>0&&(t=n('ul.report-manager li[type="folder"]').first()),w(void 0,a,t,function(e){I(n(".report-manager li[type='folder']>div[data-item-id='"+e.reportItemId+"']"),!1,!0),m.updateReportsOrder(),m.startDraggerInDesktop()})})}),n("ol.breadcrumb").on("click","li",function(e){if(!n(this).hasClass("active")){var t=n(this).index();m.breadcrumbItems=m.breadcrumbItems.slice(0,0===t?1:t+1),m.updateBreadcrumb();var a=n(this).attr("data-item-id"),r=n(this).attr("data-item-action");null!==r&&"null"!==r&&"undefined"!==r?m.returnGetData(r,null,!1,null):m.returnGetData("getMyReports",a,!1,null),n("#reportsTree").jstree("deselect_all"),n("#reportsTree").jstree("select_node",a)}}),n(".reports-view").on("dblclick","ul li",function(e){if(n(this).find("div.editor").length>0)return!1;var t=n(this).find("div").attr("data-item-type"),a=n(this).find("div").attr("data-item-id"),r=n(this).find("div").attr("data-item-name"),i=n(this).find("div").attr("dash-version");if("search"===m.breadcrumbItems[0].action)m.breadcrumbItems.push({name:r,itemId:a,action:null}),m.updateBreadcrumb(),m.returnGetData("getMyReports",a,!1,null);else if("report"===t)n("#reportsTree").jstree("open_node",n("#reportsTree").jstree("get_selected"),function(){n("#reportsTree").jstree("deselect_all"),n("#reportsTree").jstree("open_node",a),n("#reportsTree").jstree("select_node",a),m.returnGetData("getMyReports",a,!1,null)});else if("dashboard"===t){var s=n(this).find("div.card-body span.title").text(),o=parseInt(n(this).children().attr("data-owner"))===__currentSession.userCompanyId;m.openDashboard(a,s,i,o)}m.enableCreateBtns()}),n(".context-menu").on("onContextMenuClick",function(e,t){var r;e.preventDefault();var i,s=!(1===t.itemType);s?(r=n(t.itemEl).attr("data-item-id"),i=n(".report-manager li>div[data-item-id='"+r+"']")):(r=n(t.itemEl).attr("user-item-id"),i=n(".report-manager li>div[user-item-id='"+r+"']"));var o=[],d=[],l=n(".report-manager li>div[data-item-id='"+r+"']").attr("dash-version");switch(n.each(n("ul.report-manager li.ui-selected>div"),function(e,t){var a=parseInt(n(t).attr("data-item-id"),10),r=n(t).attr("data-item-type");a&&("report"===r?o.push(a):d.push(a))}),t.dataAction){case"share":a.e(49).then(function(){var e=[a(1115)];(function(e){var a=new e;s?a.showSharer(r,function(e){e?(n(t.itemEl).find(".hasShared").show(),n(t.itemEl).attr("data-hasshared",!0),s||n(t.itemEl).find("img").attr("data-hasshared",!0)):(n(t.itemEl).find(".hasShared").hide(),n(t.itemEl).attr("data-hasshared",""),s||n(t.itemEl).find("img").attr("data-hasshared",""))},s,l):a.showReportSharer(r,function(e){e?(n(t.itemEl).find(".hasShared").show(),n(t.itemEl).attr("data-hasshared",!0),s||n(t.itemEl).find("img").attr("data-hasshared",!0)):(n(t.itemEl).find(".hasShared").hide(),n(t.itemEl).attr("data-hasshared",""),s||n(t.itemEl).find("img").attr("data-hasshared",""))},s,l)}).apply(null,e)}).catch(a.oe);break;case"rename":I(i,s,!1);break;case"setFav":m.setAsFav(!0);break;case"unsetFav":m.setAsFav(!1);break;case"copyToMyReports":m.copyToMyReports();break;case"duplicate":m.duplicate();break;case"export":a.e(54).then(function(){var e=[a(775)];(function(e){(new e).showExportReport({dashboard_ids:d,report_ids:o})}).apply(null,e)}).catch(a.oe);break;case"delete":m.deleteReportItems({dashboardIds:d,reportIds:o})}}),n(".reports-view").on("click","button.hasShared",function(e){e.preventDefault(),e.stopPropagation();var t,r=this,i=!n(this).closest("li").hasClass("report-item");t=i?n(this).closest("div").attr("data-item-id"):n(this).closest("div.card-item").attr("data-item-id"),(0,o.haveAccess)("share_dashboard")?a.e(49).then(function(){var e=[a(1115)];(function(e){(new e).showSharer(t,function(e){e||n(r).hide()},i)}).apply(null,e)}).catch(a.oe):a.e(17).then(function(){var e=[a(685)];(function(e){(new e).show({title:"WARNING!",text:(0,o.translate)("share_dashboard_access_denied"),notifyType:"error"})}).apply(null,e)}).catch(a.oe)})},openRootNodes:function(e){var t=setInterval(function(){if(n("#reportsTree .jstree-container-ul li").length===e.length){clearInterval(t);var a=0;n("#reportsTree .jstree-container-ul li").first().each(function(){0===a&&n("#reportsTree").jstree("select_node",n(this),!1,!0),n("#reportsTree").jstree("open_node",n(this)),a++})}},5)},updateBreadcrumb:function(){n("ol.breadcrumb").empty();for(var e=0;e<this.breadcrumbItems.length;e++)"search"===this.breadcrumbItems[e].action?n("ol.breadcrumb").append('<li class="breadcrumbItem" data-item-action="null" data-item-id="">Search results: </li>'):e===this.breadcrumbItems.length-1?n("ol.breadcrumb").append('<li class="breadcrumbItem active" data-item-action="'+this.breadcrumbItems[e].action+'" data-item-id="'+this.breadcrumbItems[e].itemId+'">'+this.breadcrumbItems[e].name+"</li>"):n("ol.breadcrumb").append('<li class="breadcrumbItem" data-item-action="'+this.breadcrumbItems[e].action+'" data-item-id="'+this.breadcrumbItems[e].itemId+'"><a>'+this.breadcrumbItems[e].name+"</a></li>")},setAsFav:function(e){var t={report_ids:[],dashboard_ids:[]};n.each(n("ul.report-manager li.ui-selected>div"),function(e,a){var r=parseInt(n(a).attr("data-item-id"),10),i=n(a).attr("data-item-type");r&&("report"===i?t.report_ids.push(r):t.dashboard_ids.push(r))}),this.reportManagerModel.setAsFav(t,e,function(e){function t(e,t,a){var r=n('ul.report-manager li>div[data-item-id="'.concat(t,'"][data-item-type="').concat(e,'"]'));r.attr("data-is-fav",a),a&&!r.find(".fa-star").hasClass(".isFav")?r.find(".fa-star").addClass("isFav"):r.find(".fa-star").removeClass("isFav")}e.reports.forEach(function(e){t("report",e.reportItemId,e.isFav)}),e.dashboards.forEach(function(e){t("dashboard",e.dashItemId,e.isFav)})})},copyToMyReports:function(){var e={dashboard_ids:[],report_ids:[]};n.each(n("ul.report-manager li.ui-selected>div"),function(t,a){var r=parseInt(n(a).attr("data-item-id"),10),i=n(a).attr("data-item-type");r&&("report"===i?e.report_ids.push(r):e.dashboard_ids.push(r))}),this.reportManagerModel.copyToMyReports(e,function(e){n("#reportsTree").jstree("refresh_node","j1_1_anchor")})},duplicate:function(){var e=[],t=[];n.each(n("ul.report-manager li.ui-selected>div"),function(a,r){var i=parseInt(n(r).attr("data-item-id"),10),s=n(r).attr("data-item-type");i&&("report"===s?e.push(i):t.push(i))});var a={report_ids:e,dashboard_ids:t};this.reportManagerModel.duplicateItems(a,function(e){n("#reportsTree").jstree("refresh_node",n("#reportsTree").jstree("get_selected")),n("#"+n("#reportsTree").jstree("get_selected")).find("a:first").click()})},deleteReportItems:function(e){var t=e.dashboardIds,r=e.reportIds,n=this;a.e(3).then(function(){var e=[a(683)];(function(e){(new e).show({title:(0,o.translate)("Delete"),text:(0,o.translate)("Are you sure you want to delete these item/s?"),buttons:[{title:(0,o.translate)("yes"),css:"primary",code:"yes"},{title:(0,o.translate)("no"),code:"no"}],callback:function(e){"yes"==e&&(r.length>0&&n.reportManagerModel.deleteItems(r,n.deleteReportsCallback),t.length>0&&n.dashboardManagerModel.deleteItems(t,n.deleteDashboardsCallback.bind(n)))}})}).apply(null,e)}).catch(a.oe)},deleteReportsCallback:function(e){if(e){for(var t,a=0;a<e.length;a++)n("ul.report-manager").find('div[user-item-id="'+e[a]+'"]').closest("li").remove(),n("#reportsTree").jstree("delete_node",e[a]);t=n("ol.breadcrumb li.active").attr("data-item-id"),n("#reportsTree").jstree("select_node",t),n("#reportsTree").jstree("refresh_node",t)}0===n("ul.report-manager li").length&&this.showEmptyMsg()},deleteDashboardsCallback:function(e){if(e)for(var t=0;t<e.length;t++)n("ul.report-manager").find('div[data-item-id="'+e[t]+'"]').closest("li").remove(),n("#reportsTree").jstree("delete_node",e[t]);0===n("ul.report-manager li").length&&this.showEmptyMsg()},showEmptyMsg:function(){"My Interfaces"===n("ol.breadcrumb li:first").text()&&n(".reports-view .empty-message").show()},openDashboard:function(e,t,r,n){"0"===r?a.e(16).then(function(){var r=[a(699)];(function(a){(new a).showDashboard(e,null,t,!1,!0)}).apply(null,r)}).catch(a.oe):a.e(32).then(function(){var r=[a(702)];(function(a){(new a).showDashboard(e,null,t,!1,!0,null,n)}).apply(null,r)}).catch(a.oe)},loadDashboardInfo:function(e,t){var a=this;if(n(".reports-view ul").remove(),e.length>0)n(".reports-view .empty-message").hide(),n(".reports-view .no-results").hide();else if(t)if(""===n("input.searchbox").val()){n("#reportsTree").jstree("deselect_all");var r=n("#reportsTree ul > li:first").attr("id");n("#reportsTree").jstree("select_node",r)}else n(".reports-view .no-results").show();else a.showEmptyMsg();n("#mainLoading").show();var i=[],s=[];n.each(e,function(e,t){t.isShared="getReportsSharedWithMe"===a.breadcrumbItems[0].action,t.disableSharer=t.owner!=__currentSession.userCompanyId,t.dashItemId?s.push(t):i.push(t)});var o=c({reports:i,dashboards:s});n(".reports-view").append(o),n("ul.folders li:first").click(),n("#mainLoading").hide()},startDraggerInDesktop:function(){var e,t,a=this;n("ul.report-manager.reports li").droppable({hoverClass:"ui-over",tolerance:"pointer",drop:function(e,t){var r={report_ids:[],dashboard_ids:[],report_id:n(this).find("div").attr("data-item-id")};n.each(n("ul.ui-draggable-helper li"),function(e,t){var a=n(t).find("div"),i=a.attr("data-item-id");switch(a.attr("data-item-type")){case"dashboard":r.dashboard_ids.push(i);break;case"report":r.report_ids.push(i)}}),a.reportManagerModel.dropOnReport(r,function(e){e&&(r.report_ids.forEach(function(e){n('ul.report-manager.reports li>div[data-item-type="report"][data-item-id=\''.concat(e,"']")).parent().remove()}),r.dashboard_ids.forEach(function(e){n('ul.report-manager.dashboards li>div[data-item-type="dashboard"][data-item-id=\''.concat(e,"']")).parent().remove()}))})},over:function(e,t){},out:function(e,t){n(t.item).removeClass("ui-over")}}),n("ul.report-manager.reports").sortable((d(e={placeholder:"report-placeholder",containment:"body",items:'li[type="folder"]',revert:!1,tolerance:0,helper:"clone",zIndex:999999999,dropOnEmpty:!1,scroll:!0},"helper",function(e,t){t.hasClass("ui-selected")||t.addClass("ui-selected");var a=n(".ui-selected").not(".ui-sortable-placeholder").clone(),r=n("<ul/>");return t.siblings(".ui-selected").addClass("ui-hidden"),r.append(a)}),d(e,"start",function(e,t){n(t.helper).addClass("ui-draggable-helper");var a=t.item.siblings(".ui-selected.ui-hidden").not(".ui-sortable-placeholder");t.item.data("items",a)}),d(e,"receive",function(e,t){t.item.before(t.item.data("items"))}),d(e,"stop",function(e,t){n(t.item).removeClass("ui-draggable-helper"),t.item.siblings(".ui-selected").removeClass("ui-hidden"),n(".ui-selected").removeClass("ui-selected"),a.updateReportsOrder()}),d(e,"sort",function(e,t){}),e)),n("ul.report-manager.dashboards").sortable((d(t={placeholder:"dash-placeholder",containment:"body",items:'li[type="file"]',revert:!1,tolerance:"intersect",delay:500,dropOnEmpty:!1,helper:"clone",zIndex:999999999,scroll:!0},"helper",function(e,t){t.hasClass("ui-selected")||t.addClass("ui-selected");var a=n(".ui-selected").not(".ui-sortable-placeholder").clone(),r=n("<ul/>");return t.siblings(".ui-selected").addClass("ui-hidden"),r.append(a)}),d(t,"start",function(e,t){n(t.helper).addClass("ui-draggable-helper");var a=t.item.siblings(".ui-selected.ui-hidden").not(".ui-sortable-placeholder");t.item.data("items",a)}),d(t,"receive",function(e,t){t.item.before(t.item.data("items"))}),d(t,"stop",function(e,t){n(e.target).hasClass("report-item")||(t.item.siblings(".ui-selected").removeClass("ui-hidden"),n(".ui-selected").removeClass("ui-selected"),a.updateDashboardsOrder())}),t))},updateReportsOrder:function(){var e=[];n('ul.report-manager li>div[data-item-type="report"]').each(function(){e.push(n(this).attr("data-item-id"))}),this.reportManagerModel.updateOrder(e)},updateDashboardsOrder:function(){var e=[];n('ul.report-manager li>div[data-item-type="dashboard"]').each(function(){e.push(n(this).attr("data-item-id"))}),this.dashboardManagerModel.updateOrder(e)},optimizeStructureForTree:function(e,t){for(var a=[],r=0;r<e.length;r++)if(void 0===e[r].itemType&&(e[r].itemType=e[r].dashItemId?2:1),e[r].text=e[r].name,e[r].type=e[r].itemType,e[r].id=e[r].reportItemId,0===e[r].type||1===e[r].type?(e[r].children=!0,e[r].type="folder"):1===e[r].itemType?(e[r].children=!0,e[r].type="folder"):"tree"===t&&a.push(r),e[r].specialFolderType)switch(e[r].children=!0,e[r].specialFolderType){case 0:e[r].type="folder";break;case 1:e[r].type="myfolder";break;case 2:e[r].type="public";break;case 3:e[r].type="sharedWithMe";break;case 4:e[r].type="modelsPath";break;case 5:e[r].type="shared";break;case 6:e[r].type="recent";break;case 7:e[r].type="favs";break;case 8:e[r].type="trash";break;default:e[r].type="folder"}else e[r].type="folder";if("tree"===t)for(r=0;r<a.length;r++)e.splice(a[a.length-(r+1)],1);return e},initTree:function(e){var t=this;n("#reportsTree").jstree({plugins:["wholerow","types"],types:{default:{icon:"fa fa-folder"},folder:{icon:"fa fa-folder"},sharedWithMe:{icon:"fa fa-user-plus"},shared:{icon:"fa fa-users"},recent:{icon:"fa fa-clock"},favs:{icon:"fa fa-star"},trash:{icon:"fa fa-trash"},myfolder:{icon:"fa fa-user"},public:{icon:"fa fa-globe"}},core:{check_callback:!0,themes:{name:"proton",responsive:!0},data:function(a,r){if("#"===a.id)r.call(this,t.optimizeStructureForTree(e,"tree")),t.openRootNodes(e);else if(a.original.callTo)t.returnGetData(a.original.callTo,null,!0,r);else{var n=a.original.reportItemId;t.returnGetData(a.original.callTo,n,!0,r)}}}}).on("select_node.jstree",function(e,a){var r=a.node.original.callTo;if(a.node.original.callTo)t.returnGetData(r,null,!1,null);else{var i=a.node.original.reportItemId;t.returnGetData(r,i,!1,null)}t.breadcrumbItems=[];for(var s,o=n("#reportsTree").jstree("get_path",a.node,null,!0),d=0;d<o.length;d++){s=n("#reportsTree").jstree("get_text",o[d],!0);var l=n("#reportsTree").jstree("get_node",o[d]).original.callTo;t.breadcrumbItems.push({name:s,itemId:o[d],action:l})}t.updateBreadcrumb(),t.enableCreateBtns()}).on("create_node.jstree",function(e,a){t.droppableTreeItems(this)}).on("after_open.jstree",function(e,a){t.droppableTreeItems(this)})},droppableTreeItems:function(e){var t=this;n(".drawer-left ul>li").first().find("div").droppable({hoverClass:"jstree-wholerow-hovered",intersect:"pointer",drop:function(e,a){var r,i=[],s=n(this).parent().attr("id"),o={dashboard_ids:[],report_ids:[],report_id:s.indexOf("j")>=0?null:s};r=n("ol.breadcrumb li.active").attr("data-item-id");var d=!1;n.each(n("ul.ui-draggable-helper li"),function(e,t){var a=n(t).find("div"),s=a.attr("data-item-id");switch(a.attr("data-item-type")){case"dashboard":o.dashboard_ids.push(s);break;case"report":o.report_ids.push(s),i=n(this).closest('ul.jstree-children li[id="'+s+'"]'),(o.report_id===s||i.length>0||o.report_id===r)&&(d=!0)}}),d||t.reportManagerModel.dropOnReport(o,function(e){e&&(n("#reportsTree").jstree("deselect_all"),o.dashboard_ids.forEach(function(e){n('ul.report-manager.dashboards li>div[data-item-type="dashboard"][data-item-id=\''.concat(e,"']")).parent().remove()}),o.report_ids.forEach(function(e){var t=n("ul.report-manager li>div[user-item-id='".concat(e,"']")).attr("data-item-name"),a=n("ul.report-manager li>div[user-item-id='".concat(e,"']")).attr("data-item-type");n("ul.report-manager li>div[user-item-id='".concat(e,"']")).parent().remove(),n("#reportsTree").jstree("select_node",s),n("#reportsTree").jstree("is_open",s),"folder"===a&&(n("#reportsTree").jstree("delete_node",e),n("#reportsTree").jstree().create_node(s,{text:t,type:"folder",id:e,reportItemId:e},"last",function(){n("#reportsTree").jstree("refresh_node",e)}))}))})},out:function(e,t){n(t.item).removeClass("ui-over")}})},enableCreateBtns:function(){"My Interfaces"!==n("ol.breadcrumb li:first").text()?(n("#report-manager").find(".dropdown-toggle").enable(!1),n("#report-manager").find(".dropdown-toggle").addClass("disabled")):(n("#report-manager").find(".dropdown-toggle").enable(!0),n("#report-manager").find(".dropdown-toggle").removeClass("disabled"))},returnGetData:function(e,t,a,r){var n,i,s=this,o=this;switch(t&&(n=this.reportManagerModel.getMyReports,i=this.dashboardManagerModel.getMyDashboards),e){case"getMyReports":n=this.reportManagerModel.getMyReports,i=this.dashboardManagerModel.getMyDashboards;break;case"getReportsSharedWithMe":n=this.reportManagerModel.getReportsSharedWithMe,i=this.dashboardManagerModel.getDashboardsSharedWithMe;break;case"getMySharedReports":n=this.reportManagerModel.getMySharedReports,i=this.dashboardManagerModel.getMySharedDashboards;break;case"getRecentsReports":n=this.reportManagerModel.getRecentsReports,i=this.dashboardManagerModel.getRecentsDashboards;break;case"getFavsReports":n=this.reportManagerModel.getFavsReports,i=this.dashboardManagerModel.getFavsDashboards}n(t,function(e){i(t,function(t){!function(e){if(null!==e)if(a){var t=o.optimizeStructureForTree(e,"tree");r.call(s,t)}else(e.length>0||!o.firstLoad)&&(o.loadDashboardInfo(e,!1),o.startDraggerInDesktop(),o.firstLoad=!1)}(l(e).concat(l(t)))})})},registerSelectionEvents:function(){n(".reports-view").on("mousedown",".report-manager li",function(a){n(a.target).hasClass("form-control")||(window.event.ctrlKey&&n(this).toggleClass("ui-selected"),0===window.event.button&&(window.event.ctrlKey||window.event.shiftKey||(n(".ui-selected").find("div.editor button").click(),t(),n(this).toggleClass("ui-selected")),window.event.shiftKey&&e([n(void 0).index(),n(this).index()])))});var e=function(e){var t=n("ul.report-manager li");e.sort(function(e,t){return e-t});for(var a=e[0];a<=e[1];a++)n(t[a]).addClass("ui-selected");return!1},t=function(){for(var e=n("ul.report-manager li"),t=0;t<e.length;t++)n(e[t]).removeClass("ui-selected")}},removeView:function(e,t){n('.mainTask[data-rel="report-manager"]').remove(),n(".context-menu").off("onContextMenuClick"),n("#context-menu").remove()}})}.apply(t,i))||(e.exports=s)}).call(this,a(218),a(1))},908:function(e,t,a){"use strict";(function(r){var n,i=a(693);void 0===(n=function(){return r.Model.extend({url:"inputModule",defaults:{formsViewList:[]},search:function(e,t){(0,i.send)("reportManager/search/?text=".concat(e),null,{type:"GET"},t)},getMyReports:function(e,t){(0,i.send)("reportManager/myReports/?parent=".concat(e),null,{type:"GET"},t)},getFavsReports:function(e,t){(0,i.send)("reportManager/myReports/?parent=".concat(e,"&favs=true"),null,{type:"GET"},t)},getReportsSharedWithMe:function(e,t){(0,i.send)("reportManager/sharedWithMe/?parent=".concat(e),null,{type:"GET"},t)},getMySharedReports:function(e,t){(0,i.send)("reportManager/mySharedReports/?parent=".concat(e),null,{type:"GET"},t)},getRecentsReports:function(e,t){(0,i.send)("reportManager/recents/?parent=".concat(e),null,{type:"GET"},t)},exportDashboards:function(e,t){var r=new XMLHttpRequest;r.responseType="arraybuffer",r.open("PUT","".concat(__apiURL,"/reportManager/exportItems/"),!0),r.setRequestHeader("Authorization","Token ".concat(__currentToken)),r.setRequestHeader("session-key",__currentSession?__currentSession.session_key:""),r.setRequestHeader("Content-type","application/json"),r.onreadystatechange=function(e){var r=e.currentTarget;r.readyState==r.DONE&&(200==r.status?t(r):a.e(17).then(function(){var e=[a(685)];(function(e){(new e).show({title:"ERROR!",text:r.response,notifyType:"error"})}).apply(null,e)}).catch(a.oe))},r.send(JSON.stringify(e))},importDashboards:function(e,t){(0,i.send)("reportManager/importItems/",JSON.stringify(e),{type:"PUT",contentType:"application/json;charset=utf-8"},t)},create:function(e,t){(0,i.send)("reportManager/",e,{type:"POST"},function(e){void 0!=t&&t(e)})},createReport:function(e,t){(0,i.send)("reportManager/",e,{type:"POST"},function(e){void 0!=t&&t(e)})},dropOnReport:function(e,t){(0,i.send)("reportManager/dropOnReport/",JSON.stringify(e),{type:"PUT",contentType:"application/json;charset=utf-8"},t)},updateOrder:function(e){(0,i.send)("reportManager/changeOrder/",JSON.stringify({values:e}),{type:"PUT",contentType:"application/json;charset=utf-8"},function(e){})},setAsFav:function(e,t,a){(0,i.send)("reportManager/setAsFav/",JSON.stringify({report_ids:e.report_ids,dashboard_ids:e.dashboard_ids,is_fav:t}),{type:"PUT",contentType:"application/json;charset=utf-8",dataType:"text"},a)},updateName:function(e,t,a){(0,i.send)("reportManager/".concat(e,"/"),{name:t},{type:"PUT",dataType:"text"},function(e){void 0!=a&&a(e)})},deleteItems:function(e,t){(0,i.send)("reportManager/bulkDelete/",JSON.stringify({values:e}),{type:"DELETE",contentType:"application/json;charset=utf-8"},function(e){void 0!=t&&t(e)})},createTempId:function(){return"tmp-"+parseInt(5e5*Math.random())},copyToMyReports:function(e,t){(0,i.send)("reportManager/copyToMyReports/",JSON.stringify(e),{type:"PUT",contentType:"application/json;charset=utf-8",dataType:"text"},function(e){void 0!=t&&t(e)})},duplicateItems:function(e,t){(0,i.send)("reportManager/duplicateItems/",JSON.stringify(e),{type:"PUT",contentType:"application/json;charset=utf-8",dataType:"text"},function(e){t&&t(e)})}})}.apply(t,[]))||(e.exports=n)}).call(this,a(218))}}]);