/*! Copyright Pyplan 2020. All rights reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[68,47,281],{1826:function(e,t,a){var n=a(690);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template({1:function(e,t,n,o,i){var s=null!=t?t:e.nullContext||{},l=e.escapeExpression;return'      <div class="btn-group add-report-group" style="float: left; margin-right: 8px;">\n        <a href="#" data-toggle="dropdown" class="btn btn-satgreen dropdown-toggle btn--icon"\n          style="width: 170px; min-width: 170px; max-width: 170px;">\n          <i class="fa fa-plus-circle"></i>'+l(r(a(688)).call(s,"_new",{name:"L",hash:{},data:i}))+'\n          <span class="caret"></span>\n        </a>\n        <ul class="dropdown-menu">\n          <li>\n            <a href="#" class="newDashboard">'+l(r(a(688)).call(s,"interface",{name:"L",hash:{},data:i}))+'</a>\n          </li>\n          <li>\n            <a href="#" class="newReport">'+l(r(a(688)).call(s,"application",{name:"L",hash:{},data:i}))+"</a>\n          </li>\n        </ul>\n      </div>\n"},3:function(e,t,n,o,i){return'      <button class="btn btn-blue btnImport" style="float: left;"> <i class="fa fa-download"></i> '+e.escapeExpression(r(a(688)).call(null!=t?t:e.nullContext||{},"_import",{name:"L",hash:{},data:i}))+"\n      </button>\n"},5:function(e,t,n,o,i){var s;return null!=(s=r(a(736)).call(null!=t?t:e.nullContext||{},"share_dashboard,generate_external_link",{name:"haveAnyAccess",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?s:""},6:function(e,t,n,o,i){return'    <li class="context-menu__item share">\n      <a href="javascript:void(0)" class="context-menu__link" data-action="share"><i class="fa fa-share-square"></i>\n        '+e.escapeExpression(r(a(688)).call(null!=t?t:e.nullContext||{},"share",{name:"L",hash:{},data:i}))+"</a>\n    </li>\n"},8:function(e,t,n,o,i){return'    <li class="context-menu__item publishToMy">\n      <a href="javascript:void(0)" class="context-menu__link" data-action="publishToMy"><i\n          class="fas fa-cloud-upload-alt"></i>\n        '+e.escapeExpression(r(a(688)).call(null!=t?t:e.nullContext||{},"publish",{name:"L",hash:{},data:i}))+"</a>\n    </li>\n"},10:function(e,t,n,o,i){return'    <li role="separator" class="divider export"></li>\n    <li class="context-menu__item export">\n      <a href="javascript:void(0)" class="context-menu__link" data-action="export"><i class="fa fa-upload"></i>\n        '+e.escapeExpression(r(a(688)).call(null!=t?t:e.nullContext||{},"_export",{name:"L",hash:{},data:i}))+"</a>\n    </li>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,o,i){var s,l=null!=t?t:e.nullContext||{},d=e.escapeExpression;return'<div id="report-manager" class="container-fluid mainTask dragg-area" data-rel="report-manager" data-type="tab-content"\n  style="padding-left: 0; padding-right: 0;">\n\n  <div class="row report-manager-header"\n    style="z-index: 90; background-color: #f7f7f7; margin-left: 0px; margin-right: 0px; position: relative; border-width: 0 0 1px 0; border-style: solid; border-color: #ccc;">\n\n    <div class="col-sm-8" style="padding-top: 8px;">\n'+(null!=(s=r(a(695)).call(l,"add_dashboard",{name:"haveAccess",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?s:"")+"\n"+(null!=(s=r(a(695)).call(l,"import_dashboard",{name:"haveAccess",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?s:"")+'\n      <ol class="breadcrumb reportManager" style="float: left; width: calc(100% - 280px); margin-left: 20px;">\n\n      </ol>\n    </div>\n\n    <div class="col-sm-4">\n      <div class="input-group" style="margin-top:8px; margin-bottom: 5px; margin-right: 6px">\n        <input type="text" placeholder="Search..." class="form-control searchbox">\n        <span class="input-group-addon">\n          <i class="fa fa-search"></i>\n        </span>\n      </div>\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="col-sm-12">\n      <aside class="drawer-left">\n        <div class="card profile-menu">\n          <div class="card-body">\n            <div id="reportsTree" style="margin-top: 10px;"></div>\n          </div>\n        </div>\n      </aside>\n\n      <section class="reports-view m-t-30" style="background-color: #efefef;">\n\n        <ul class="report-manager reports">\n        </ul>\n\n        <div style="clear: both;"></div>\n\n        <ul class="report-manager dashboards">\n        </ul>\n\n        <p class="empty-message nodisplay" style="display: none;">'+d(r(a(688)).call(l,"no_interfaces_available",{name:"L",hash:{},data:i}))+' <br /> <a href="#"\n            data-rel="create_new_dashboard">'+d(r(a(688)).call(l,"create_interface",{name:"L",hash:{},data:i}))+"</a> "+d(r(a(688)).call(l,"_or",{name:"L",hash:{},data:i}))+' <a href="#"\n            data-rel="view_model">'+d(r(a(688)).call(l,"open_model",{name:"L",hash:{},data:i}))+'</a>\n        </p>\n\n        <p class="no-results nodisplay" style="display: none;">No results found.</p>\n\n      </section>\n    </div>\n  </div>\n  <div style="clear: both;"></div>\n</div>\n\n\x3c!-- Menu div initially hidden --\x3e\n<nav id="context-menu" class="context-menu">\n  <ul class="context-menu__items">\n'+(null!=(s=n.if.call(l,null!=t?t.notDesktop:t,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.program(8,i,0),data:i}))?s:"")+'    <li class="context-menu__item rename">\n      <a href="javascript:void(0)" class="context-menu__link" data-action="rename"><i class="fa fa-edit"></i>\n        '+d(r(a(688)).call(l,"rename",{name:"L",hash:{},data:i}))+'\n      </a>\n    </li>\n    <li class="context-menu__item setFav">\n      <a href="javascript:void(0)" class="context-menu__link" data-action="setFav"><i class="far fa-star"></i>\n        '+d(r(a(688)).call(l,"set_as_favorite",{name:"L",hash:{},data:i}))+'</a>\n    </li>\n    <li class="context-menu__item unsetFav">\n      <a href="javascript:void(0)" class="context-menu__link" data-action="unsetFav"><i class="fas fa-star"></i>\n        '+d(r(a(688)).call(l,"unset_as_favorite",{name:"L",hash:{},data:i}))+'</a>\n    </li>\n    <li class="context-menu__item copyToMyReports">\n      <a href="javascript:void(0)" class="context-menu__link" data-action="copyToMyReports"><i class="fa fa-user"></i>\n        '+d(r(a(688)).call(l,"copy_to_my_interfaces",{name:"L",hash:{},data:i}))+'</a>\n    </li>\n    <li class="context-menu__item duplicate">\n      <a href="javascript:void(0)" class="context-menu__link" data-action="duplicate"><i class="fa fa-copy"></i>\n        '+d(r(a(688)).call(l,"duplicate",{name:"L",hash:{},data:i}))+"</a>\n    </li>\n"+(null!=(s=r(a(695)).call(l,"export_dashboard",{name:"haveAccess",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?s:"")+'    <li role="separator" class="divider remove"></li>\n    <li class="context-menu__item remove">\n      <a href="javascript:void(0)" class="context-menu__link" data-action="delete"><i class="fa fa-trash"></i>\n        '+d(r(a(688)).call(l,"remove",{name:"L",hash:{},data:i}))+"</a>\n    </li>\n  </ul>\n</nav>\n\x3c!-- /Menu div initially hidden --\x3e"},useData:!0})},1827:function(e,t,a){var n=a(690);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template({1:function(e,t,n,o,i){var s,l=null!=t?t:e.nullContext||{},d=e.lambda,c=e.escapeExpression;return'  <li type="folder" class="report-item" '+(null!=(s=r(a(689)).call(l,null!=t?t.sharedBy:t,"!=",null,{name:"ifCond",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i}))?s:"")+'>\n    <div class="card card-folder card-item enable-context-menu" data-item-name="'+c(d(null!=t?t.name:t,t))+'"\n      user-item-id="'+c(d(null!=t?t.reportItemId:t,t))+'" data-item-id="'+c(d(null!=t?t.reportItemId:t,t))+'" data-item-type="report" data-is-fav="'+c(d(null!=t?t.isFav:t,t))+'"\n      data-item-modified="Jan 3, 2017" data-item-opened="Jan 5, 2017" data-item-created="Jan 1, 2017">\n      <div class="card-heading">\n\n        <button class="btn hasShared '+(null!=(s=n.if.call(l,null!=t?t.isShared:t,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.program(6,i,0),data:i}))?s:"")+'" '+(null!=(s=n.if.call(l,null!=t?t.disableSharer:t,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?s:"")+' title="Shared"><i class="fa fa-share-square"></i></button>\n\n'+(null!=(s=n.if.call(l,null!=t?t.isShared:t,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.program(12,i,0),data:i}))?s:"")+'      </div>\n      <div class="card-body">\n        <span class="title">'+c(d(null!=t?t.name:t,t))+'</span>\n      </div>\n      <div class="card-footer">\n        <i class="fa fa-star '+(null!=(s=n.if.call(l,null!=t?t.isFav:t,{name:"if",hash:{},fn:e.program(14,i,0),inverse:e.program(4,i,0),data:i}))?s:"")+'"></i>\n      </div>\n    </div>\n  </li>\n'},2:function(e,t,a,n,r){return' title="Shared by: '+e.escapeExpression(e.lambda(null!=t?t.sharedBy:t,t))+'" '},4:function(e,t,a,n,r){return" "},6:function(e,t,a,n,r){return"nodisplay"},8:function(e,t,a,n,r){return'\n          disabled="disabled" '},10:function(e,t,a,n,r){return"\n"},12:function(e,t,a,n,r){return'        <i class="fa fa-folder"></i>\n'},14:function(e,t,a,n,r){return" isFav "},16:function(e,t,n,o,i){var s,l=null!=t?t:e.nullContext||{},d=e.lambda,c=e.escapeExpression;return'  <li type="file" class="dash-item" '+(null!=(s=r(a(689)).call(l,null!=t?t.sharedBy:t,"!=",null,{name:"ifCond",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i}))?s:"")+'>\n    <div class="card card-file card-item enable-context-menu selected" data-item-name="'+c(d(null!=t?t.name:t,t))+'"\n      user-item-id="'+c(d(null!=t?t.reportItemId:t,t))+'" dash-version='+c(d(null!=t?t.dashVersion:t,t))+' data-item-id="'+c(d(null!=t?t.dashItemId:t,t))+'"\n      data-item-type="dashboard" data-is-fav="'+c(d(null!=t?t.isFav:t,t))+'" data-owner="'+c(d(null!=t?t.owner:t,t))+'" data-item-modified="Feb 9, 2017"\n      data-item-opened="Feb 11, 2017" data-item-created="Feb 3, 2017">\n\n      <button class="btn hasShared '+(null!=(s=n.if.call(l,null!=t?t.isShared:t,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.program(6,i,0),data:i}))?s:"")+'" '+(null!=(s=n.if.call(l,null!=t?t.disableSharer:t,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?s:"")+' title="Shared"><i class="fa fa-share-square"></i></button>\n\n      <div class="card-body">\n        \x3c!--img src="'+c(r(a(718)).call(l,{name:"baseURL",hash:{},data:i}))+"thumbs/view.ashx?img=dashboards-common-dash"+c(d(null!=t?t.dashItemId:t,t))+"&w=235&h=140&t=crop&r="+c(r(a(953)).call(l,{name:"rand",hash:{},data:i}))+'"\n          alt="" /--\x3e\n      </div>\n      <div class="card-footer">\n        <i class="fa fa-star '+(null!=(s=n.if.call(l,null!=t?t.isFav:t,{name:"if",hash:{},fn:e.program(14,i,0),inverse:e.program(4,i,0),data:i}))?s:"")+'"></i>\n        <span class="title">'+c(d(null!=t?t.name:t,t))+"</span>\n      </div>\n    </div>\n  </li>\n"},17:function(e,t,a,n,r){return' disabled="disabled"\n        '},compiler:[7,">= 4.0.0"],main:function(e,t,a,n,r){var o,i=null!=t?t:e.nullContext||{};return'<ul class="report-manager reports">\n'+(null!=(o=a.each.call(i,null!=t?t.reports:t,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?o:"")+'</ul>\n\n<div style="clear: both;"></div>\n\n<ul class="report-manager dashboards">\n\n  \x3c!-- FILES --\x3e\n'+(null!=(o=a.each.call(i,null!=t?t.dashboards:t,{name:"each",hash:{},fn:e.program(16,r,0),inverse:e.noop,data:r}))?o:"")+"</ul>"},useData:!0})},1828:function(e,t,a){var n=a(690);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(n.default||n).template({1:function(e,t,a,n,r){return" "},3:function(e,t,a,n,r){return"nodisplay"},5:function(e,t,a,n,r){return" isFav "},compiler:[7,">= 4.0.0"],main:function(e,t,n,o,i){var s,l=e.lambda,d=e.escapeExpression,c=null!=t?t:e.nullContext||{};return'<li type="file" class="dash-item ui-selected">\n    <div class="card card-file card-item enable-context-menu selected" data-item-name="'+d(l(null!=t?t.name:t,t))+'"\n        user-item-id="'+d(l(null!=t?t.reportItemId:t,t))+'" data-item-id="'+d(l(null!=t?t.dashItemId:t,t))+'" data-item-selected="false" data-is-fav="false"\n        data-item-type="dashboard" data-owner="'+d(l(null!=t?t.owner:t,t))+'">\n\n        <button class="btn hasShared '+(null!=(s=n.if.call(c,null!=t?t.isShared:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.program(3,i,0),data:i}))?s:"")+'" title="Shared"><i\n                class="fa fa-share-square"></i></button>\n\n        <div class="card-body">\n            \x3c!--img src="'+d(r(a(718)).call(c,{name:"baseURL",hash:{},data:i}))+"thumbs/view.ashx?img=dashboards-common-dash"+d(l(null!=t?t.dashboardId:t,t))+"&w=235&h=140&t=crop&r="+d(r(a(953)).call(c,{name:"rand",hash:{},data:i}))+'"\n                alt="" /--\x3e\n        </div>\n        <div class="card-footer">\n            <i class="fa fa-star '+(null!=(s=n.if.call(c,null!=t?t.isFav:t,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.program(1,i,0),data:i}))?s:"")+'"></i>\n            <span class="title">'+d(l(null!=t?t.name:t,t))+"</span>\n        </div>\n    </div>\n</li>"},useData:!0})},1829:function(e,t,a){var n=a(690);e.exports=(n.default||n).template({1:function(e,t,a,n,r){return" "},3:function(e,t,a,n,r){return"nodisplay"},5:function(e,t,a,n,r){return"\n"},7:function(e,t,a,n,r){return'      <i class="fa fa-folder"></i>\n'},9:function(e,t,a,n,r){return" isFav "},compiler:[7,">= 4.0.0"],main:function(e,t,a,n,r){var o,i,s=null!=t?t:e.nullContext||{},l=a.helperMissing,d=e.escapeExpression;return'<li type="folder" class="report-item ui-selected">\n  <div class="card card-folder card-item enable-context-menu" data-item-selected="false" user-item-id="'+d("function"==typeof(i=null!=(i=a.reportItemId||(null!=t?t.reportItemId:t))?i:l)?i.call(s,{name:"reportItemId",hash:{},data:r}):i)+'"\n    data-item-id="'+d("function"==typeof(i=null!=(i=a.reportItemId||(null!=t?t.reportItemId:t))?i:l)?i.call(s,{name:"reportItemId",hash:{},data:r}):i)+'" data-is-fav="false" data-item-type="report">\n    <div class="card-heading">\n      <button class="btn hasShared '+(null!=(o=a.if.call(s,null!=t?t.isShared:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.program(3,r,0),data:r}))?o:"")+'" title="Shared"><i\n          class="fa fa-share-square"></i></button>\n\n'+(null!=(o=a.if.call(s,null!=t?t.isShared:t,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.program(7,r,0),data:r}))?o:"")+'    </div>\n    <div class="card-body">\n      <span class="title">'+d("function"==typeof(i=null!=(i=a.name||(null!=t?t.name:t))?i:l)?i.call(s,{name:"name",hash:{},data:r}):i)+'</span>\n    </div>\n    <div class="card-footer">\n      <i class="fa fa-star '+(null!=(o=a.if.call(s,null!=t?t.isFav:t,{name:"if",hash:{},fn:e.program(9,r,0),inverse:e.program(1,r,0),data:r}))?o:"")+'"></i>\n    </div>\n  </div>\n</li>'},useData:!0})},1830:function(e,t,a){var n=a(690);e.exports=(n.default||n).template({compiler:[7,">= 4.0.0"],main:function(e,t,a,n,r){var o,i=null!=t?t:e.nullContext||{},s=a.helperMissing,l=e.escapeExpression;return'<div class="editor">\n  <div class="col-xs-12 nopadding">\n    <div class="input-group">\n      <input type="text" value="'+l("function"==typeof(o=null!=(o=a.name||(null!=t?t.name:t))?o:s)?o.call(i,{name:"name",hash:{},data:r}):o)+'" class="form-control input-sm">\n      <div class="input-group-btn">\n        <button data-rel="'+l("function"==typeof(o=null!=(o=a.id||(null!=t?t.id:t))?o:s)?o.call(i,{name:"id",hash:{},data:r}):o)+'" class="btn btn-blue btn-small" type="button" style="height: 20px;"><i\n            class="fa fa-check"></i></button>\n      </div>\n    </div>\n  </div>\n</div>'},useData:!0})},1831:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){if(e("#context-menu").length){var t,a,n,r,o,i,s,l,d=function(e,t){var a=e.srcElement||e.target;if(a.classList.contains(t))return a;for(;a=a.parentNode;)if(a.classList&&a.classList.contains(t))return a;return!1},c=function(){e(document).on("contextmenu",function(a){var n=e(a.target).closest("li");n.hasClass("ui-selected")||(e(".reports-view ul li").removeClass("ui-selected"),n.addClass("ui-selected"),n.click());var r=!0;e.each(e("ul.report-manager li.ui-selected>div"),function(t,a){"false"===e(a).attr("data-is-fav")&&(r=!1)}),"getReportsSharedWithMe"===e(e(".breadcrumbItem")[0]).attr("data-item-action")?(e(I).find(".copyToMyReports").show(),e(I).find(".share").hide(),e(I).find(".setFav").hide(),e(I).find(".unsetFav").hide(),e(I).find(".rename").hide(),e(I).find(".remove").hide(),e(I).find(".export").hide(),e(I).find(".duplicate").hide()):("getMyReports"===e(e(".breadcrumbItem")[0]).attr("data-item-action")?(e(I).find(".share").show(),e(I).find(".rename").show(),e(I).find(".copyToMyReports").hide(),e(I).find(".duplicate").show(),e(I).find(".export").show(),e(I).find(".remove").show()):(e(I).find(".rename").show(),e(I).find(".remove").show(),e(I).find(".duplicate").show()),r?(e(I).find(".unsetFav").show(),e(I).find(".setFav").hide()):(e(I).find(".unsetFav").hide(),e(I).find(".setFav").show())),(t=d(a,w))?(a.preventDefault(),f(),v(a)):(t=null,m())})},u=function(){e("#report-manager, .context-menu__item").on("click",function(t){var a=e(t.target).closest("li");if(a.hasClass("report-item")||a.hasClass("dash-item")||a.hasClass("context-menu__item")){var n=d(t,g);n?(t.preventDefault(),b(n)):1===(t.which||t.button)&&m()}else e("ul").find("li").removeClass("ui-selected"),1===(t.which||t.button)&&m()})},p=function(){window.onkeyup=function(e){27===e.keyCode&&m()}},h=function(){window.onresize=function(e){m()}},f=function(){1!==_&&(_=1,I.classList.add(y))},m=function(){0!==_&&(_=0,I.classList.remove(y))},v=function(e){a=function(e){var t=0,a=0;return e||(e=window.event),e.pageX||e.pageY?(t=e.pageX,a=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,a=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:t,y:a}}(e),n=a.x,r=a.y,o=I.offsetWidth+4,i=I.offsetHeight+4,s=window.innerWidth,l=window.innerHeight,I.style.left=s-n<o?s-o+"px":n+"px",I.style.top=l-r<i?l-(i+40)+"px":r-30+"px"},b=function(a){var n={itemEl:e(t),itemType:"report"===e(t).attr("data-item-type")?1:2,dataAction:a.getAttribute("data-action")};e(".context-menu").trigger("onContextMenuClick",n),m()},g="context-menu__link",y="context-menu--active",w="enable-context-menu",I=document.querySelector("#context-menu"),_=(I.querySelectorAll(".context-menu__item"),0);c(),u(),p(),h()}};t.default=a}).call(this,a(1))},702:function(e,t,a){"use strict";(function(n,r){var o,i;o=[a(683),a(703)],void 0===(i=function(e,t){return n.Controller.extend({name:"dashboardManager",showDashboard:function(t,n,o,i,s,l,d){var c="dashboard-"+t,u=new e;u.existsTask(c)?(u.selectTask(c),i&&r(".mainTask[data-rel='"+c+"']").length>0&&r(".mainTask[data-rel='"+c+"']").trigger("refreshView")):(u.addSimpleTask(c,o),a.e(44).then(function(){var e=[a(805)];(function(e){(new e).render(t,n,s,l,d),u.selectTask(c)}).apply(null,e)}).catch(a.oe))},showEmbeddableDashboard:function(t,n,o,i,s,l){var d="dashboard-"+t,c=new e;__currentSession.fromEmbedded,c.existsTask(d)?(c.selectTask(d),i&&r(".mainTask[data-rel='"+d+"']").length>0&&r(".mainTask[data-rel='"+d+"']").trigger("refreshView")):(c.addSimpleTask(d,o),Promise.all([a.e(44),a.e(168)]).then(function(){var e=[a(889)];(function(e){(new e).render(t,n,o,s,l),c.selectTask(d)}).apply(null,e)}).catch(a.oe))},removeDashboardTaskFromHome:function(t){var a="dashboard-"+t,n=new e;n.existsTask(a)&&n.removeTask(a)},drawDashboardBars:function(e,t){this.drawToolbar(e,function(){t()})},drawBottombar:function(e,t){a.e(169).then(function(){var n=[a(890)];(function(a){var n=new a;n.setElement(e),n.render(),void 0!=t&&t()}).apply(null,n)}).catch(a.oe)},showNodeInfo:function(e){Promise.all([a.e(11),a.e(16),a.e(65)]).then(function(){var t=[a(768)];(function(t){new t(e).render()}).apply(null,t)}).catch(a.oe)},removeNodeInfo:function(e){Promise.all([a.e(11),a.e(16),a.e(65)]).then(function(){var t=[a(768)];(function(t){(new t).remove(e)}).apply(null,t)}).catch(a.oe)},drawToolbar:function(e,t){a.e(41).then(function(){var n=[a(749)];(function(a){(new a).show({el:e,positions:["left","right"],onLoad:t,className:"dockDashboardProperty"})}).apply(null,n)}).catch(a.oe)},drawMoreDashboard:function(e,t){a.e(170).then(function(){var e=[a(891)];(function(e){var a=new e;a.setElement("body"),a.render(t)}).apply(null,e)}).catch(a.oe)},getDefaultContent:function(e,t){Promise.all([a.e(0),a.e(7),a.e(66)]).then(function(){var n=[a(742)];(function(a){var n=new a({model:e});t(n)}).apply(null,n)}).catch(a.oe)},getEmptyContent:function(e,t){Promise.all([a.e(0),a.e(67)]).then(function(){var n=[a(769)];(function(a){var n=new a({model:e});t(n)}).apply(null,n)}).catch(a.oe)},getChartToolbar:function(e,t,n,r){var o;switch(e){case"linechart":o="line/lineToolbar";break;case"columnchart":case"columnchartstacked":case"columnchartpercent":case"barchart":case"barchartstacked":case"barchartpercent":o="columnAndBar/columnAndBarToolbar";break;case"areachart":case"areachartstacked":case"areachartpercent":o="area/areaToolbar";break;case"piechart":o="pie/pieToolbar";break;case"funnelchart":o="funnelToolbar/funnelToolbar";break;case"pyramidchart":o="pyramidToolbar/pyramidToolbar";break;case"gaugechart":o="gauge/gaugeToolbar";break;case"waterfallchart":o="waterfall/waterfallToolbar";break;case"scatterchart":o="scatter/scatterToolbar";break;case"table":o="table/tableToolbar";break;case"indexlist":o="index/indexToolbar";break;case"map":o="map/mapToolbar";break;case"indicator":o="indicator/indicatorToolbar";break;case"selector":o="selector/selectorToolbar";break;case"formnode":o="formnode/formnodeToolbar";break;case"nodetable":o="nodeTable/nodetableToolbar";break;case"button":o="button/buttonToolbar";break;case"analyticachart":o="analyticaChart/analyticaChartToolbar";break;case"objectItem":switch(t){case"texteditor":o="texteditor/texteditorToolbar";break;case"cubeviewer":o="cubeviewer/cubeviewerToolbar";break;case"diagramviewer":o="diagramViewer/diagramViewerToolbar";break;case"mapviewer":o="mapViewer/mapViewerToolbar";break;case"inputform":o="inputForm/inputFormToolbar";break;case"menuwidget":o="menuWidget/menuWidgetToolbar";break;case"dashboardcontainer_QUITAR_ESTO_PARA_MOSTRAR":o="dashboardContainer/dashboardContainerToolbar"}break;case"complexchart":o="complexchart/complexChartToolbar";break;default:o=!1}o?Promise.all([a.e(24),a.e(171)]).then(function(){var e=[a(892)("./"+o)];(function(e){var t=new e({model:n});r(t)}).apply(null,e)}).catch(a.oe):Promise.all([a.e(24),a.e(54),a.e(172)]).then(function(){var e=[a(893)];(function(e){var t=new e({model:n});r(t)}).apply(null,e)}).catch(a.oe)},getChartItemViewFromType:function(e,t){switch(e){case"empty":Promise.all([a.e(0),a.e(67)]).then(function(){var e=[a(769)];(function(e){t(e)}).apply(null,e)}).catch(a.oe);break;case"linechart":Promise.all([a.e(0),a.e(7),a.e(173)]).then(function(){var e=[a(894)];(function(e){t(e)}).apply(null,e)}).catch(a.oe);break;case"columnchart":Promise.all([a.e(0),a.e(7),a.e(66)]).then(function(){var e=[a(742)];(function(e){t(e)}).apply(null,e)}).catch(a.oe);break;case"columnchartstacked":Promise.all([a.e(0),a.e(7),a.e(174)]).then(function(){var e=[a(895)];(function(e){t(e)}).apply(null,e)}).catch(a.oe);break;case"columnchartpercent":Promise.all([a.e(0),a.e(7),a.e(175)]).then(function(){var e=[a(896)];(function(e){t(e)}).apply(null,e)}).catch(a.oe);break;case"barchart":Promise.all([a.e(0),a.e(7),a.e(176)]).then(function(){var e=[a(788)];(function(e){t(e)}).apply(null,e)}).catch(a.oe);break;case"barchartstacked":Promise.all([a.e(0),a.e(7),a.e(177)]).then(function(){var e=[a(897)];(function(e){t(e)}).apply(null,e)}).catch(a.oe);break;case"barchartpercent":Promise.all([a.e(0),a.e(7),a.e(178)]).then(function(){var e=[a(898)];(function(e){t(e)}).apply(null,e)}).catch(a.oe);break;case"areachart":Promise.all([a.e(0),a.e(7),a.e(179)]).then(function(){var e=[a(789)];(function(e){t(e)}).apply(null,e)}).catch(a.oe);break;case"areachartstacked":Promise.all([a.e(0),a.e(7),a.e(180)]).then(function(){var e=[a(899)];(function(e){t(e)}).apply(null,e)}).catch(a.oe);break;case"areachartpercent":Promise.all([a.e(0),a.e(7),a.e(181)]).then(function(){var e=[a(900)];(function(e){t(e)}).apply(null,e)}).catch(a.oe);break;case"piechart":Promise.all([a.e(0),a.e(7),a.e(182)]).then(function(){var e=[a(901)];(function(e){t(e)}).apply(null,e)}).catch(a.oe);break;case"gaugechart":Promise.all([a.e(0),a.e(7),a.e(183)]).then(function(){var e=[a(902)];(function(e){t(e)}).apply(null,e)}).catch(a.oe);break;case"waterfallchart":Promise.all([a.e(0),a.e(7),a.e(184)]).then(function(){var e=[a(903)];(function(e){t(e)}).apply(null,e)}).catch(a.oe);break;case"scatterchart":Promise.all([a.e(0),a.e(7),a.e(185)]).then(function(){var e=[a(904)];(function(e){t(e)}).apply(null,e)}).catch(a.oe);break;case"complexchart":Promise.all([a.e(0),a.e(7),a.e(186)]).then(function(){var e=[a(905)];(function(e){t(e)}).apply(null,e)}).catch(a.oe);break;case"table":Promise.all([a.e(0),a.e(11),a.e(187)]).then(function(){var e=[a(906)];(function(e){t(e)}).apply(null,e)}).catch(a.oe);break;case"indexlist":Promise.all([a.e(0),a.e(188)]).then(function(){var e=[a(907)];(function(e){t(e)}).apply(null,e)}).catch(a.oe);break;case"map":Promise.all([a.e(33),a.e(0),a.e(11),a.e(91),a.e(189)]).then(function(){var e=[a(908)];(function(e){t(e)}).apply(null,e)}).catch(a.oe);break;case"indicator":Promise.all([a.e(89),a.e(312),a.e(0),a.e(190)]).then(function(){var e=[a(909)];(function(e){t(e)}).apply(null,e)}).catch(a.oe);break;case"selector":Promise.all([a.e(0),a.e(191)]).then(function(){var e=[a(930)];(function(e){t(e)}).apply(null,e)}).catch(a.oe);break;case"formnode":Promise.all([a.e(0),a.e(192)]).then(function(){var e=[a(931)];(function(e){t(e)}).apply(null,e)}).catch(a.oe);break;case"nodetable":Promise.all([a.e(0),a.e(15),a.e(34),a.e(193)]).then(function(){var e=[a(932)];(function(e){t(e)}).apply(null,e)}).catch(a.oe);break;case"button":Promise.all([a.e(0),a.e(194)]).then(function(){var e=[a(933)];(function(e){t(e)}).apply(null,e)}).catch(a.oe);break;case"funnelchart":Promise.all([a.e(0),a.e(7),a.e(195)]).then(function(){var e=[a(934)];(function(e){t(e)}).apply(null,e)}).catch(a.oe);break;case"pyramidchart":Promise.all([a.e(0),a.e(7),a.e(196)]).then(function(){var e=[a(935)];(function(e){t(e)}).apply(null,e)}).catch(a.oe);break;case"analyticachart":Promise.all([a.e(0),a.e(197)]).then(function(){var e=[a(936)];(function(e){t(e)}).apply(null,e)}).catch(a.oe)}},getObjectItemViewFromType:function(e,t){switch(e){case"texteditor":Promise.all([a.e(0),a.e(90),a.e(198)]).then(function(){var e=[a(937)];(function(e){t(e)}).apply(null,e)}).catch(a.oe);break;case"cubeviewer":Promise.all([a.e(0),a.e(15),a.e(34),a.e(199)]).then(function(){var e=[a(938)];(function(e){t(e)}).apply(null,e)}).catch(a.oe);break;case"diagramviewer":Promise.all([a.e(0),a.e(11),a.e(16),a.e(200)]).then(function(){var e=[a(939)];(function(e){t(e)}).apply(null,e)}).catch(a.oe);break;case"mapviewer":Promise.all([a.e(33),a.e(0),a.e(11),a.e(92),a.e(201)]).then(function(){var e=[a(940)];(function(e){t(e)}).apply(null,e)}).catch(a.oe);break;case"inputform":Promise.all([a.e(0),a.e(15),a.e(35),a.e(202)]).then(function(){var e=[a(941)];(function(e){t(e)}).apply(null,e)}).catch(a.oe);break;case"dashboardcontainer":Promise.all([a.e(0),a.e(203)]).then(function(){var e=[a(942)];(function(e){t(e)}).apply(null,e)}).catch(a.oe);case"menuwidget":Promise.all([a.e(0),a.e(24),a.e(204)]).then(function(){var e=[a(943)];(function(e){t(e)}).apply(null,e)}).catch(a.oe)}},getFilterView:function(e){a.e(205).then(function(){var t=[a(944)];(function(t){e(t)}).apply(null,t)}).catch(a.oe)},showCopyDashboard:function(e,t,n){a.e(206).then(function(){var r=[a(945)];(function(a){(new a).render(e,t,n)}).apply(null,r)}).catch(a.oe)},showDashboardComments:function(e){a.e(207).then(function(){var t=[a(946)];(function(t){var a=new t;a.setElement(e.parent),a.render(e)}).apply(null,t)}).catch(a.oe)},refreshAllOpenDashboards:function(){r(".mainTask.dashboardTask .btnRefresh").trigger("click")},showTimeFrameSetting:function(e){a.e(208).then(function(){var t=[a(947)];(function(t){var a=new t(e);a.setElement(e.el),a.render()}).apply(null,t)}).catch(a.oe)},updatePrintReportProgress:function(e){a.e(45).then(function(){var t=[a(739)];(function(t){new t(e).updatePrintReportProgress()}).apply(null,t)}).catch(a.oe)},updatePrintReportMessage:function(e){a.e(45).then(function(){var t=[a(739)];(function(t){new t(e).updatePrintReportMessage()}).apply(null,t)}).catch(a.oe)},updatePrintReportComplete:function(e){a.e(45).then(function(){var t=[a(739)];(function(t){new t(e).updatePrintReportComplete()}).apply(null,t)}).catch(a.oe)},loginInToMyPyplanModal:function(e){a.e(209).then(function(){var t=[a(948)];(function(t){(new t).render(e)}).apply(null,t)}).catch(a.oe)},publishToMyPyplanModal:function(e){a.e(210).then(function(){var t=[a(949)];(function(t){(new t).render(e)}).apply(null,t)}).catch(a.oe)}})}.apply(t,o))||(e.exports=i)}).call(this,a(694),a(1))},703:function(e,t,a){"use strict";(function(n,r){var o,i=a(693);void 0===(o=function(){return n.Model.extend({defaults:{dashId:null,dashboardViewList:[],modifiedDash:!1,noQuery:[],styleLibraries:[],nodeOwner:"",extraOptions:void 0},resizeTimeOut:0,getDashboard:function(e,t){(0,i.send)("dashboardManager/by_id/".concat(e,"/"),null,null,function(e){e&&(t(e),r("#summary").trigger("refresh"))})},getNavigator:function(e,t){var a=e.reportId,n=void 0===a?null:a,r=e.dashboardId,o=void 0===r?null:r,s="";n?(s="?report_id=".concat(n),o&&(s+="&dashboard_id=".concat(o))):o&&(s="?dashboard_id=".concat(o)),(0,i.send)("reportManager/getNavigator/".concat(s),null,null,t)},calculateScaleFactor:function(e,t){if(this.getItemsModel().length>0)for(var a=this.getItemsModel(),n=0;n<a.length;n++)a[n].calculateScaleFactor(e,t)},updateSizes:function(e,t){if(this.getItemsModel().length>0){var a=300;t&&(a=1),clearTimeout(this.resizeTimeOut);var n=this.getItemsModel();this.resizeTimeOut=setTimeout(function(){var e;for(e=0;e<n.length;e++)n[e].baseUpdateSize(),n[e].updateSize()},a)}},setStateModified:function(e){this.set({modifiedDash:e})},getStateModified:function(){return this.get("modifiedDash")},addItemToModel:function(e){this.get("dashboardViewList").push(e)},getItemsModel:function(){return this.get("dashboardViewList")},getItemModel:function(e){var t,a=this.getItemsModel();for(t=0;t<a.length;t++)if(a[t].tagId==e)return a[t]},countItemsModelByNodeId:function(e){for(var t=0,a=this.getItemsModel(),n=0;n<a.length;n++)a[n].currentNodeId&&e&&a[n].currentNodeId.toLowerCase()==e.toLowerCase()&&t++;return t},removeItemModel:function(e){var t,a=this.getItemsModel();for(t=0;t<a.length;t++)if(a[t].tagId==e.tagId){a.splice(t,1);break}this.set({dashboardViewList:a})},removeAllItemsModel:function(){this.set("dashboardViewList",[])},changeItemModel:function(e,t){this.removeItemModel(e),this.addItemToModel(t)},setNodeOwner:function(e){this.set("node",e)},getNodeOwner:function(){return this.get("node")},onFilterChange:function(e,t,a,n,r,o){if(r){var i=this.getItemModel(r);if(i&&i.isUnlinkedIndex(e))return void i.onFilterChange(e,t,a,n,!0)}var s=this.getItemsModel();if(s)for(var l=0;l<s.length;l++)s[l].onFilterChange(e,t,a,n,!1,o)},onFiltersChange:function(e){var t=this.getItemsModel();if(t)for(var a=0;a<t.length;a++)t[a].onFiltersChange(e)},synchronizeDrop:function(e,t,a,n,r,o,i){if(i){var s=this.getItemsModel();if(s)for(var l=0;l<s.length;l++)s[l].tagId&&s[l].tagId!=i&&s[l].onSynchronizeDrop(e,t,a,n,r,o)}},synchronizeLevel:function(e,t,a){if(a){var n=this.getItemsModel();if(n)for(var r=0;r<n.length;r++)n[r].tagId&&n[r].tagId!=a&&n[r].onSynchronizeLevel(e,t)}},getNodeFullData:function(e,t,a,n){var r={node:e};t&&(r.fromRow=1,r.toRow=t),(0,i.send)("dashboardManager/getNodeFullData/",r,{type:"GET"},a,n)},getNodeIndexes:function(e,t){(0,i.send)("dashboardManager/getNodeIndexes/",{node:e},null,function(e){e&&t(e)})},getIndexValues:function(e,t){(0,i.send)("dashboardManager/getIndexValues/",e,null,function(e){e&&t(e)})},getGeoDef:function(e,t){(0,i.send)("Dashboard/GetGeoDef/"+e,null,null,function(e){e&&t(e)})},evaluateNode:function(e,t,a,n,r,o,s,l,d,c,u,p,h,f,m){l||(l="sum");var v={node:e,dims:t,rows:a,columns:n,summaryBy:l,bottomTotal:u,rightTotal:p,timeFormat:h,timeFormatType:f,calendarType:m},b="evaluateNode";o&&(b="evaluateNodeDef"),d&&d>0&&c&&c>0&&(v.fromRow=d*(c-1)+1,v.toRow=d*c),(0,i.send)("dashboardManager/".concat(b,"/"),JSON.stringify(v),{type:"POST",contentType:"application/json;charset=utf-8"},r,s)},evaluateNodeForPivot:function(e,t,a,n){(0,i.send)("Dashboard/EvaluateNodeForPivot/",{node:e},{type:"GET"},function(e){var o=e.value,i={success:function(e,a,n){t(e)},complete:function(){r("#mainLoading").hide(),r("#secondLoading").hide(),a()},dataType:"json",progress:function(e){if(e.lengthComputable){var t=e.loaded/e.total*100;n(t)}else try{var a=this.getResponseHeader("X-Content-Length");t=e.loaded/a*100;n(t)}catch(e){}}};r("#secondLoading").show(),r.ajax("".concat(__apiURL,"/scripts/download.aspx?name=").concat(o),i)},a)},updateDefinition:function(e,t,a,n){var o=[];a&&r.each(a,function(e,t){o.push({id:t})});var s={dashboardId:e,definition:t,styles:a};(0,i.send)("dashboardManager/".concat(e,"/"),JSON.stringify(s),{type:"PATCH",contentType:"application/json;charset=utf-8",dataType:"text"},function(e){void 0!=n&&n(e)})},updateDashboardImage:function(e,t,a){var n={id:e,fileData:t};(0,i.send)("Dashboard/UpdateImage/",n,{type:"PUT"},function(t){r("#summary").trigger("refresh"),r("#model-summary").trigger("refresh",{id:e}),t&&a&&a(t)})},validateIndexes:function(e,t){var a=function(t){var a;for(a=0;a<e.length;a++)if(e[a].field==t)return e[a]},n=function(e){var t,n;for(t=0;t<e.length;t++)void 0!=(n=a(e[t].field))&&(e[t].name=n.name)};n(t.dims),n(t.rows),n(t.columns)},initializeDashboardQuery:function(e){this.set("noQuery",e),this._initNoQuery()},_initNoQuery:function(){var e=this.get("noQuery");e&&e.length>0&&r.each(e,function(e,t){t.started=!1})},isReadyForEvaluate:function(e,t){var a=!0,n=this.get("noQuery");return n&&n.length>0&&r.each(n,function(n,r){r.node==e?r.started=!0:0==r.started&&r.rel&&r.rel.indexOf(t)>=0&&(a=!1)}),a},setNodeValueChanges:function(e,t){(0,i.send)("dashboardManager/pivotGrid/setCubeChanges/",JSON.stringify(e),{type:"POST",contentType:"application/json;charset=utf-8"},function(e){t(e),r("body").trigger("pendingChanges",[!0])})},isResultComputed:function(e,t){(0,i.send)("dashboardManager/isResultComputed/",JSON.stringify({nodes:e}),{type:"POST",contentType:"application/json;charset=utf-8"},function(e){t(e)})},reevaluateNodesNeeded:function(e){r(".dashboardTask").trigger("reevaluateNodesNeeded",[e])},reevaluateNodesNeededInThisDashboard:function(e){for(var t=[],a=this.getItemsModel(),n=0;n<a.length;n++){var o=a[n].getNodesOfView();o&&(t=t.concat(o))}t.length>0&&this.isResultComputed(t,function(t){if(t&&t.length>0)for(var n=0;n<a.length;n++)e&&a[n].tagId==e||(t.indexOf(a[n].currentNodeId)>=0&&r(a[n].tagId).trigger("evaluateNodeFromCurrentResult"),a[n].needRefresh(t)&&a[n].refreshItemDash())})},applyNumberFormat:function(e){for(var t=this.getItemsModel(),a=0;a<t.length;a++)t[a].currentNodeId==e&&t[a].applyNumberFormat()},getStyleLibrary:function(e){var t=this.get("styleLibraries");if(t)for(var a=0;a<t.length;a++)if(t[a].id==e)return t[a].definition;return[]},getStyleLibraries:function(){return this.get("styleLibraries")},setStyleLibraries:function(e){return this.set("styleLibraries",e)},refreshStyleLibraries:function(e){var t=this;a.e(63).then(function(){var n=[a(728)];(function(a){(new a).list(null,function(a){t.set("styleLibraries",a),e(a)})}).apply(null,n)}).catch(a.oe)},syncDrilldown:function(e,t,a){var n=this.getItemsModel();if(n)for(var r=0;r<n.length;r++)n[r].tagId!=a&&n[r].syncDrilldown(e,t,a)},syncDrillUp:function(e,t){var a=this.getItemsModel();if(a)for(var n=0;n<a.length;n++)a[n].tagId!=t&&a[n].syncDrillup(e,t)},syncShowHideLegend:function(e,t,a){},viewAsChart:function(e,t){(0,i.send)("Dashboard/viewAsChart/",e,{type:"POST"},t)}})}.apply(t,[]))||(e.exports=o)}).call(this,a(218),a(1))},855:function(e,t,a){"use strict";(function(n){var r,o=a(693);void 0===(r=function(){return n.Model.extend({url:"inputModule",defaults:{formsViewList:[]},search:function(e,t){(0,o.send)("reportManager/search/?text=".concat(e),null,{type:"GET"},t)},getMyReports:function(e,t){(0,o.send)("reportManager/myReports/?parent=".concat(e),null,{type:"GET"},t)},getFavsReports:function(e,t){(0,o.send)("reportManager/myReports/?favs=true",null,{type:"GET"},t)},getReportsSharedWithMe:function(e,t){(0,o.send)("reportManager/sharedWithMe/?parent=".concat(e),null,{type:"GET"},t)},getMySharedReports:function(e,t){(0,o.send)("reportManager/mySharedReports/",null,{type:"GET"},t)},getRecentsReports:function(e,t){(0,o.send)("reportManager/recents/?parent=".concat(e),null,{type:"GET"},t)},exportDashboards:function(e,t){var n=new XMLHttpRequest;n.responseType="arraybuffer",n.open("PUT","".concat(__apiURL,"/reportManager/exportItems/"),!0),n.setRequestHeader("Authorization","Token ".concat(__currentToken)),n.setRequestHeader("session-key",__currentSession?__currentSession.session_key:""),n.setRequestHeader("Content-type","application/json"),n.onreadystatechange=function(e){var n=e.currentTarget;n.readyState==n.DONE&&(200==n.status?t(n):a.e(17).then(function(){var e=[a(685)];(function(e){(new e).show({title:"ERROR!",text:n.response,notifyType:"error"})}).apply(null,e)}).catch(a.oe))},n.send(JSON.stringify(e))},exportItemsAndPublish:function(e,t,a,n,r,i,s){(0,o.send)("reportManager/exportItemsAndPublish/",JSON.stringify({username:e,uuid:t,model_folder:a,model_id:n,dashboard_ids:r,report_ids:i}),{type:"PUT",contentType:"application/json;charset=utf-8"},s)},importDashboards:function(e,t){(0,o.send)("reportManager/importItems/",JSON.stringify(e),{type:"PUT",contentType:"application/json;charset=utf-8"},t)},create:function(e,t){(0,o.send)("reportManager/",e,{type:"POST"},function(e){void 0!=t&&t(e)})},createReport:function(e,t){(0,o.send)("reportManager/",e,{type:"POST"},function(e){void 0!=t&&t(e)})},dropOnReport:function(e,t){(0,o.send)("reportManager/dropOnReport/",JSON.stringify(e),{type:"PUT",contentType:"application/json;charset=utf-8"},t)},updateOrder:function(e){(0,o.send)("reportManager/changeOrder/",JSON.stringify({values:e}),{type:"PUT",contentType:"application/json;charset=utf-8"},function(e){})},setAsFav:function(e,t,a){(0,o.send)("reportManager/setAsFav/",JSON.stringify({report_ids:e.report_ids,dashboard_ids:e.dashboard_ids,is_fav:t}),{type:"PUT",contentType:"application/json;charset=utf-8",dataType:"text"},a)},updateName:function(e,t,a){(0,o.send)("reportManager/".concat(e,"/"),{name:t},{type:"PUT",dataType:"text"},function(e){void 0!=a&&a(e)})},deleteItems:function(e,t){(0,o.send)("reportManager/bulkDelete/",JSON.stringify({values:e}),{type:"DELETE",contentType:"application/json;charset=utf-8"},function(e){void 0!=t&&t(e)})},createTempId:function(){return"tmp-".concat(parseInt(5e5*Math.random()))},copyToMyReports:function(e,t){(0,o.send)("reportManager/copyToMyReports/",JSON.stringify(e),{type:"PUT",contentType:"application/json;charset=utf-8",dataType:"text"},function(e){void 0!=t&&t(e)})},duplicateItems:function(e,t){(0,o.send)("reportManager/duplicateItems/",JSON.stringify(e),{type:"PUT",contentType:"application/json;charset=utf-8",dataType:"text"},function(e){t&&t(e)})}})}.apply(t,[]))||(e.exports=r)}).call(this,a(218))},878:function(e,t,a){"use strict";(function(n,r){var o,i,s=a(18);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function d(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}o=[a(219),a(855),a(754),a(702),a(1826),a(1827),a(1828),a(1829),a(1830)],void 0===(i=function(e,t,o,i,c,u,p,h,f){return n.View.extend({el:r("#main"),currentFilename:void 0,breadcrumbItems:[],firstLoad:!0,itemWasDropped:!1,render:function(n,l){var u=this,m="";m=String(n).lastIndexOf("/")>=0?(m=String(n).substr(String(n).lastIndexOf("/")+1)).substr(0,m.length-4):n,this.currentFilename=m,this.reportManagerModel=new t,this.dashboardManagerModel=new o;var v=new e,b=c({notDesktop:!1});this.$el.append(b),this.breadcrumbItems=[{name:"My Interfaces",itemId:null,action:"getMyReports"}],this.updateBreadcrumb(),a(1831).default(),u.registerSelectionEvents();var g=[{name:"My Interfaces",itemType:0,callTo:"getMyReports",specialFolderType:1,id:"myReports",data:{firstLevel:!0,extension:null,specialFileType:0,isShared:!1,sharedBy:null,fileSize:0,lastUpdateTime:"0001-01-01T00:00:00",fullPath:"novix\\super\\CARPETA DENEGADA\\",hasDenied:!1}},{name:"Favs",itemType:0,callTo:"getFavsReports",specialFolderType:7,id:"favs",data:{firstLevel:!0,extension:null,specialFileType:0,isShared:!1,sharedBy:null,fileSize:1368447,lastUpdateTime:"2017-09-19T18:24:01.6792936-03:00",fullPath:"novix\\super\\cgap shd.ana",hasDenied:!1}}];function y(e){r(".reports-view").width(r(window).width()-r(".drawer-left").width()-50-38),r(".reports-view").height(r(window).height()-(r(".report-manager-header").height()+40+38)),r(".drawer-left").height(r(window).height()-(r(".report-manager-header").height()+40+10)),r(".dashboards-wrapper").length>0&&(r(".dashboards-wrapper").width(r(window).width()-100),e?r(".dashboards-wrapper").height(r(window).height()-300):r(".dashboards-wrapper").height(r(window).height()-120))}if(r("#report-manager").on("removeView",function(e,t){u.removeView(e,t)}),r("#report-manager").on("refreshImageDashboard",function(e,t){r("ul.report-manager li>div[data-item-id='"+t+"'] img").each(function(e,t){r(this).attr("src",r(this).attr("src")+"&"+Math.random())})}),(0,s.registerResizeEvents)("modelSummary",y),y(),l){r("#currentModel").html(m),r("#navigation .modelopened").show(),r("#left .navigation .modelopened").show();var w=r("#navigation li.modelopened[data-key='btnSaveModelAs'] a"),I=r("#navigation li.modelopened[data-key='btnSaveModelAs'] a i"),_=r("#navigation li.modelopened[data-key='btnSaveModel']"),T=r("#navigation li.modelopened[data-key='btnSaveModelAs']");(function(e){(0,s.haveAccess)("change_model")&&!e||(0,s.haveAccess)("change_public_model")&&e?(_.show(),I.removeClass("fa-paste").addClass("fa-save-all"),w.prop("title",(0,s.translate)("save_model_as")),T.show(),__currentSession.modelInfo&&__currentSession.modelInfo.readonly&&(r("#navigation li.modelopened[data-key='btnSaveModel']").hide(),(0,s.showMessage)(__currentSession.modelInfo.readOnlyReason,"","info",!1))):(_.hide(),T.hide())})(__currentSession&&__currentSession.autoopenUri?__currentSession.autoopenUri&&__currentSession.autoopenUri.toLowerCase().indexOf("/public/")>=0:__currentSession.modelInfo.uri&&__currentSession.modelInfo.uri.toLowerCase().indexOf("/public/")>=0),u.initTree(g)}else r("#mainLoading").show(),v.openModel(n,function(e){r("#mainLoading").hide(),e&&(r("#navigation .modelopened").show(),r("#left .navigation .modelopened").show(),u.initTree(g))});function M(e,t,a,n){!function(e,t){var a=!!e.dashItemId,n=(a?p:h)(e);void 0==t?a?r("ul.report-manager.dashboards").prepend(n):r("ul.report-manager.reports").prepend(n):r(n).insertBefore(t)}(t,a),e&&r(a).remove(),void 0!=n&&r.isFunction(n)&&n(t)}function x(e,t,n){var o={userItemId:r(e).attr("user-item-id"),dashboardId:r(e).attr("data-item-id"),name:r(e).find("span.title").text()},i=f(o);r(e).find("span.title").hide(),t?r(e).find(".card-footer").append(i):r(e).find(".card-body").append(i),r(e).find("div.editor input").select(),r(e).find("div.editor input").focus();var s=function(i){var s=r(i).closest("div.card").find("input").val();if(s!=o.name?(t?u.dashboardManagerModel.updateName(o.dashboardId,s):u.reportManagerModel.updateName(o.userItemId,s),r(e).find("span.title").text(s),r(e).find("span.title").show(),r(e).find("span.title").attr("title",s),r(e).attr("data-item-name",s),r(e).hasClass("item-dashboard")&&r(e).find(">img").first().attr("data-title",s)):r(e).find("span.title").show(),r(e).find("div.editor").remove(),r(e).closest("li").select(),r(e).closest("li").click(),"search"===u.breadcrumbItems[0].action){var l=r("ol.breadcrumb li.active").attr("data-item-id");r("#reportsTree").jstree("is_open",l)&&(r("#reportsTree").jstree().create_node(l,{text:s,type:"folder",id:o.userItemId,reportItemId:o.userItemId},"first"),r("#reportsTree").jstree("refresh_node",u.currentNodeId))}else if(!t){l=r("#reportsTree").jstree("get_selected"),r("#reportsTree").jstree("is_open",l);n?r("#reportsTree").jstree().create_node(l,{text:s,type:"folder",id:o.userItemId,reportItemId:o.userItemId},"first"):r("#reportsTree").jstree().rename_node(o.userItemId,s),r("#reportsTree").jstree("refresh_node",u.currentNodeId)}Promise.all([a.e(19),a.e(290)]).then(function(){var e=[a(751)];(function(e){var t=new e,a={dashboardId:o.dashboardId,name:s};t.refreshDashboardName(a)}).apply(null,e)}).catch(a.oe)};r(e).find("div.editor button").click(function(){s(r(this))}),r(e).find("div.editor input").focusout(function(){s(r(this))}),r(e).find("div.editor input").keypress(function(e){13==e.keyCode&&s(r(this))}),r(e).find("div.editor").click(function(e){e.stopPropagation()})}r(".drawer-left").perfectScrollbar(),r("#report-manager").on("fullRefresh",function(e){r("#report-manager").trigger("removeView"),u.render(u.currentFilename,!0)});var k=-1;r("input.searchbox").on("keyup",function(){var e=r(this).val();clearTimeout(k),k=setTimeout(function(){u.reportManagerModel.search(e,function(e){""===r("input.searchbox").val()?r("#"+r("#reportsTree").jstree("get_selected")).find("a:first").click():(u.loadDashboardInfo(d(e.dashboards).concat(d(e.reports)),!0),u.startDraggerInDesktop(),u.breadcrumbItems=[],u.breadcrumbItems.push({name:"Search results: ",itemId:0,action:"search"}),u.updateBreadcrumb(),u.enableCreateBtns())})},400)}),r("#report-manager .btnImport").click(function(){a.e(52).then(function(){var e=[a(767)];(function(e){(new e).showImportReport()}).apply(null,e)}).catch(a.oe)}),r("a[data-rel='view_model']").on("click",function(){r("#left a.btnShowDiagram").click()}),r('.newDashboard, a[data-rel="create_new_dashboard"]').on("click",function(e){r(".reports-view .empty-message").hide(),r(".reports-view .no-results").hide();var t=(0,s.translate)("new_dashboard"),a={};a.name=t;var n=parseInt(r("ol.breadcrumb li.active").attr("data-item-id"),10);a.reportId=n||null,a.reportItemId=n||null,u.dashboardManagerModel.createItem(a,function(e){var t;r('ul.report-manager li[type="file"]').length>0&&(t=r('ul.report-manager li[type="file"]').first()),M(void 0,e,t,function(e){x(r(".report-manager li[type='file']>div[data-item-id='"+e.dashItemId+"']"),!0,!0),u.updateDashboardsOrder(),u.startDraggerInDesktop()})})}),r(".newReport").on("click",function(e){r(".reports-view .empty-message").hide(),r(".reports-view .no-results").hide();var t=(0,s.translate)("_new_report"),a={};a.id=u.reportManagerModel.createTempId(),a.name=t,a.itemType=1;var n=parseInt(r("ol.breadcrumb li.active").attr("data-item-id"),10);a.parentId=n||null,u.reportManagerModel.createReport(a,function(e){var t;a.reportItemId=e.reportItemId,r('ul.report-manager li[type="folder"]').length>0&&(t=r('ul.report-manager li[type="folder"]').first()),M(void 0,a,t,function(e){x(r(".report-manager li[type='folder']>div[data-item-id='"+e.reportItemId+"']"),!1,!0),u.updateReportsOrder(),u.startDraggerInDesktop()})})}),r("ol.breadcrumb").on("click","li",function(e){if(!r(this).hasClass("active")){var t=r(this).index();u.breadcrumbItems=u.breadcrumbItems.slice(0,0===t?1:t+1),u.updateBreadcrumb();var a=r(this).attr("data-item-id"),n=r(this).attr("data-item-action");null!==n&&"null"!==n&&"undefined"!==n?u.returnGetData(n,null,!1,null):u.returnGetData("getMyReports",a,!1,null),r("#reportsTree").jstree("deselect_all"),r("#reportsTree").jstree("select_node",a)}}),r(".reports-view").on("dblclick","ul li",function(e){if(r(this).find("div.editor").length>0)return!1;var t=r(this).find("div").attr("data-item-type"),a=r(this).find("div").attr("data-item-id"),n=r(this).find("div").attr("data-item-name"),o=r(this).find("div").attr("dash-version");if("search"===u.breadcrumbItems[0].action)u.breadcrumbItems.push({name:n,itemId:a,action:null}),u.updateBreadcrumb(),u.returnGetData("getMyReports",a,!1,null);else if("report"===t)r("#reportsTree").jstree("open_node",r("#reportsTree").jstree("get_selected"),function(){r("#reportsTree").jstree("deselect_all"),r("#reportsTree").jstree("open_node",a),r("#reportsTree").jstree("select_node",a),u.returnGetData("getMyReports",a,!1,null)});else if("dashboard"===t){var i=r(this).find("div.card-body span.title").text(),s=parseInt(r(this).children().attr("data-owner"))===__currentSession.userCompanyId;u.openDashboard(a,i,o,s)}u.enableCreateBtns()}),r(".context-menu").on("onContextMenuClick",function(e,t){var n;e.preventDefault();var o,l=!(1===t.itemType);l?(n=r(t.itemEl).attr("data-item-id"),o=r(".report-manager li>div[data-item-id='"+n+"']")):(n=r(t.itemEl).attr("user-item-id"),o=r(".report-manager li>div[user-item-id='"+n+"']"));var d=[],c=[],p=r(".report-manager li>div[data-item-id='"+n+"']").attr("dash-version");switch(r.each(r("ul.report-manager li.ui-selected>div"),function(e,t){var a=parseInt(r(t).attr("data-item-id"),10),n=r(t).attr("data-item-type");a&&("report"===n?d.push(a):c.push(a))}),t.dataAction){case"publishToMy":var h=new i;__currentSession.my_uuid?h.publishToMyPyplanModal({title:(0,s.translate)("publish_dashboard_to_my_pyplan"),okOnEnter:!0,modalClass:"smallModal",itemId:n,itemType:l?"dashboard":"report"}):h.loginInToMyPyplanModal({title:(0,s.translate)("login_to_my_pyplan"),okOnEnter:!0,modalClass:"smallModal",itemId:n,itemType:l?"dashboard":"report"});break;case"share":a.e(46).then(function(){var e=[a(1115)];(function(e){var a=new e;l?a.showSharer(n,function(e){e?(r(t.itemEl).find(".hasShared").show(),r(t.itemEl).attr("data-hasshared",!0),l||r(t.itemEl).find("img").attr("data-hasshared",!0)):(r(t.itemEl).find(".hasShared").hide(),r(t.itemEl).attr("data-hasshared",""),l||r(t.itemEl).find("img").attr("data-hasshared",""))},l,p):a.showReportSharer(n,function(e){e?(r(t.itemEl).find(".hasShared").show(),r(t.itemEl).attr("data-hasshared",!0),l||r(t.itemEl).find("img").attr("data-hasshared",!0)):(r(t.itemEl).find(".hasShared").hide(),r(t.itemEl).attr("data-hasshared",""),l||r(t.itemEl).find("img").attr("data-hasshared",""))},l,p)}).apply(null,e)}).catch(a.oe);break;case"rename":x(o,l,!1);break;case"setFav":u.setAsFav(!0);break;case"unsetFav":u.setAsFav(!1);break;case"copyToMyReports":u.copyToMyReports();break;case"duplicate":u.duplicate();break;case"export":a.e(52).then(function(){var e=[a(767)];(function(e){(new e).showExportReport({dashboard_ids:c,report_ids:d})}).apply(null,e)}).catch(a.oe);break;case"delete":u.deleteReportItems({dashboardIds:c,reportIds:d})}}),r(".reports-view").on("click","button.hasShared",function(e){e.preventDefault(),e.stopPropagation();var t,n=this,o=!r(this).closest("li").hasClass("report-item");t=o?r(this).closest("div").attr("data-item-id"):r(this).closest("div.card-item").attr("data-item-id"),(0,s.haveAccess)("share_dashboard")?a.e(46).then(function(){var e=[a(1115)];(function(e){(new e).showSharer(t,function(e){e||r(n).hide()},o)}).apply(null,e)}).catch(a.oe):a.e(17).then(function(){var e=[a(685)];(function(e){(new e).show({title:"WARNING!",text:(0,s.translate)("share_dashboard_access_denied"),notifyType:"error"})}).apply(null,e)}).catch(a.oe)})},openRootNodes:function(e){var t=setInterval(function(){if(r("#reportsTree .jstree-container-ul li").length===e.length){clearInterval(t);var a=0;r("#reportsTree .jstree-container-ul li").first().each(function(){0===a&&r("#reportsTree").jstree("select_node",r(this),!1,!0),r("#reportsTree").jstree("open_node",r(this)),a++})}},5)},updateBreadcrumb:function(){r("ol.breadcrumb").empty();for(var e=0;e<this.breadcrumbItems.length;e++)"search"===this.breadcrumbItems[e].action?r("ol.breadcrumb").append('<li class="breadcrumbItem" data-item-action="null" data-item-id="">Search results: </li>'):e===this.breadcrumbItems.length-1?r("ol.breadcrumb").append('<li class="breadcrumbItem active" data-item-action="'+this.breadcrumbItems[e].action+'" data-item-id="'+this.breadcrumbItems[e].itemId+'">'+this.breadcrumbItems[e].name+"</li>"):r("ol.breadcrumb").append('<li class="breadcrumbItem" data-item-action="'+this.breadcrumbItems[e].action+'" data-item-id="'+this.breadcrumbItems[e].itemId+'"><a>'+this.breadcrumbItems[e].name+"</a></li>")},setAsFav:function(e){var t={report_ids:[],dashboard_ids:[]};r.each(r("ul.report-manager li.ui-selected>div"),function(e,a){var n=parseInt(r(a).attr("data-item-id"),10),o=r(a).attr("data-item-type");n&&("report"===o?t.report_ids.push(n):t.dashboard_ids.push(n))}),this.reportManagerModel.setAsFav(t,e,function(e){function t(e,t,a){var n=r('ul.report-manager li>div[data-item-id="'.concat(t,'"][data-item-type="').concat(e,'"]'));n.attr("data-is-fav",a),a&&!n.find(".fa-star").hasClass(".isFav")?n.find(".fa-star").addClass("isFav"):n.find(".fa-star").removeClass("isFav")}e.reports.forEach(function(e){t("report",e.reportItemId,e.isFav)}),e.dashboards.forEach(function(e){t("dashboard",e.dashItemId,e.isFav)})})},copyToMyReports:function(){var e={dashboard_ids:[],report_ids:[]};r.each(r("ul.report-manager li.ui-selected>div"),function(t,a){var n=parseInt(r(a).attr("data-item-id"),10),o=r(a).attr("data-item-type");n&&("report"===o?e.report_ids.push(n):e.dashboard_ids.push(n))}),this.reportManagerModel.copyToMyReports(e,function(e){r("#reportsTree").jstree("refresh_node","j1_1_anchor")})},duplicate:function(){var e=[],t=[];r.each(r("ul.report-manager li.ui-selected>div"),function(a,n){var o=parseInt(r(n).attr("data-item-id"),10),i=r(n).attr("data-item-type");o&&("report"===i?e.push(o):t.push(o))});var a={report_ids:e,dashboard_ids:t};this.reportManagerModel.duplicateItems(a,function(e){r("#reportsTree").jstree("refresh_node",r("#reportsTree").jstree("get_selected")),r("#"+r("#reportsTree").jstree("get_selected")).find("a:first").click()})},deleteReportItems:function(e){var t=e.dashboardIds,n=e.reportIds,r=this;a.e(5).then(function(){var e=[a(684)];(function(e){(new e).show({title:(0,s.translate)("Delete"),text:(0,s.translate)("Are you sure you want to delete these item/s?"),buttons:[{title:(0,s.translate)("yes"),css:"primary",code:"yes"},{title:(0,s.translate)("no"),code:"no"}],callback:function(e){"yes"==e&&(n.length>0&&r.reportManagerModel.deleteItems(n,r.deleteReportsCallback),t.length>0&&r.dashboardManagerModel.deleteItems(t,r.deleteDashboardsCallback.bind(r)))}})}).apply(null,e)}).catch(a.oe)},deleteReportsCallback:function(e){if(e){for(var t,a=0;a<e.length;a++)r("ul.report-manager").find('div[user-item-id="'+e[a]+'"]').closest("li").remove(),r("#reportsTree").jstree("delete_node",e[a]);t=r("ol.breadcrumb li.active").attr("data-item-id"),r("#reportsTree").jstree("select_node",t),r("#reportsTree").jstree("refresh_node",t)}0===r("ul.report-manager li").length&&this.showEmptyMsg()},deleteDashboardsCallback:function(e){if(e)for(var t=0;t<e.length;t++)r("ul.report-manager").find('div[data-item-id="'+e[t]+'"]').closest("li").remove(),r("#reportsTree").jstree("delete_node",e[t]);0===r("ul.report-manager li").length&&this.showEmptyMsg()},showEmptyMsg:function(){"My Interfaces"===r("ol.breadcrumb li:first").text()&&r(".reports-view .empty-message").show()},openDashboard:function(e,t,n,r){"0"===n?a.e(86).then(function(){var n=[a(701)];(function(a){(new a).showDashboard(e,null,t,!1,!0)}).apply(null,n)}).catch(a.oe):Promise.resolve().then(function(){var n=[a(702)];(function(a){(new a).showDashboard(e,null,t,!1,!0,null,r)}).apply(null,n)}).catch(a.oe)},loadDashboardInfo:function(e,t){var a=this;if(r(".reports-view ul").remove(),e.length>0)r(".reports-view .empty-message").hide(),r(".reports-view .no-results").hide();else if(t)if(""===r("input.searchbox").val()){r("#reportsTree").jstree("deselect_all");var n=r("#reportsTree ul > li:first").attr("id");r("#reportsTree").jstree("select_node",n)}else r(".reports-view .no-results").show();else a.showEmptyMsg();r("#mainLoading").show();var o=[],i=[];r.each(e,function(e,t){t.isShared="getReportsSharedWithMe"===a.breadcrumbItems[0].action,t.disableSharer=t.owner!=__currentSession.userCompanyId,t.dashItemId?i.push(t):o.push(t)});var s=u({reports:o,dashboards:i});r(".reports-view").append(s),r("ul.folders li:first").click(),r("#mainLoading").hide()},startDraggerInDesktop:function(){var e,t,a=this;r("ul.report-manager.reports li").droppable({hoverClass:"ui-over",tolerance:"pointer",drop:function(e,t){a.itemWasDropped=!0;var n={report_ids:[],dashboard_ids:[],report_id:r(this).find("div").attr("data-item-id")};r.each(r("ul.ui-draggable-helper li"),function(e,t){var a=r(t).find("div"),o=a.attr("data-item-id");switch(a.attr("data-item-type")){case"dashboard":n.dashboard_ids.push(o);break;case"report":n.report_ids.push(o)}}),a.reportManagerModel.dropOnReport(n,function(e){e&&(n.report_ids.forEach(function(e){r('ul.report-manager.reports li>div[data-item-type="report"][data-item-id=\''.concat(e,"']")).parent().remove()}),n.dashboard_ids.forEach(function(e){r('ul.report-manager.dashboards li>div[data-item-type="dashboard"][data-item-id=\''.concat(e,"']")).parent().remove()})),a.itemWasDropped=!1})},over:function(e,t){},out:function(e,t){r(t.item).removeClass("ui-over")}}),r("ul.report-manager.reports").sortable((l(e={placeholder:"report-placeholder",containment:"body",items:'li[type="folder"]',revert:!1,tolerance:0,helper:"clone",zIndex:999999999,dropOnEmpty:!1,scroll:!0},"helper",function(e,t){t.hasClass("ui-selected")||t.addClass("ui-selected");var a=r(".ui-selected").not(".ui-sortable-placeholder").clone(),n=r("<ul/>");return t.siblings(".ui-selected").addClass("ui-hidden"),n.append(a)}),l(e,"start",function(e,t){r(t.helper).addClass("ui-draggable-helper");var a=t.item.siblings(".ui-selected.ui-hidden").not(".ui-sortable-placeholder");t.item.data("items",a)}),l(e,"receive",function(e,t){t.item.before(t.item.data("items"))}),l(e,"stop",function(e,t){r(t.item).removeClass("ui-draggable-helper"),a.itemWasDropped||(t.item.siblings(".ui-selected").removeClass("ui-hidden"),r(".ui-selected").removeClass("ui-selected"),a.updateReportsOrder())}),l(e,"sort",function(e,t){}),e)),r("ul.report-manager.dashboards").sortable((l(t={placeholder:"dash-placeholder",containment:"body",items:'li[type="file"]',revert:!1,tolerance:"intersect",delay:500,dropOnEmpty:!1,helper:"clone",zIndex:999999999,scroll:!0},"helper",function(e,t){t.hasClass("ui-selected")||t.addClass("ui-selected");var a=r(".ui-selected").not(".ui-sortable-placeholder").clone(),n=r("<ul/>");return t.siblings(".ui-selected").addClass("ui-hidden"),n.append(a)}),l(t,"start",function(e,t){r(t.helper).addClass("ui-draggable-helper");var a=t.item.siblings(".ui-selected.ui-hidden").not(".ui-sortable-placeholder");t.item.data("items",a)}),l(t,"receive",function(e,t){t.item.before(t.item.data("items"))}),l(t,"stop",function(e,t){a.itemWasDropped||(t.item.siblings(".ui-selected").removeClass("ui-hidden"),r(".ui-selected").removeClass("ui-selected"),a.updateDashboardsOrder())}),t))},updateReportsOrder:function(){var e=[];r('ul.report-manager li>div[data-item-type="report"]').each(function(){e.push(r(this).attr("data-item-id"))}),this.reportManagerModel.updateOrder(e)},updateDashboardsOrder:function(){var e=[];r('ul.report-manager li>div[data-item-type="dashboard"]').each(function(){e.push(r(this).attr("data-item-id"))}),this.dashboardManagerModel.updateOrder(e)},optimizeStructureForTree:function(e,t){for(var a=[],n=0;n<e.length;n++)if(void 0===e[n].itemType&&(e[n].itemType=e[n].dashItemId?2:1),e[n].text=e[n].name,e[n].type=e[n].itemType,e[n].id=e[n].reportItemId,0===e[n].type||1===e[n].type?(e[n].children=!0,e[n].type="folder"):1===e[n].itemType?(e[n].children=!0,e[n].type="folder"):"tree"===t&&a.push(n),e[n].specialFolderType)switch(e[n].children=!0,e[n].specialFolderType){case 0:e[n].type="folder";break;case 1:e[n].type="myfolder";break;case 2:e[n].type="public";break;case 3:e[n].type="sharedWithMe";break;case 4:e[n].type="modelsPath";break;case 5:e[n].type="shared";break;case 6:e[n].type="recent";break;case 7:e[n].type="favs";break;case 8:e[n].type="trash";break;default:e[n].type="folder"}else e[n].type="folder";if("tree"===t)for(n=0;n<a.length;n++)e.splice(a[a.length-(n+1)],1);return e},initTree:function(e){var t=this;r("#reportsTree").jstree({plugins:["wholerow","types"],types:{default:{icon:"fa fa-folder"},folder:{icon:"fa fa-folder"},sharedWithMe:{icon:"fa fa-user-plus"},shared:{icon:"fa fa-users"},recent:{icon:"fa fa-clock"},favs:{icon:"fa fa-star"},trash:{icon:"fa fa-trash"},myfolder:{icon:"fa fa-user"},public:{icon:"fa fa-globe"}},core:{check_callback:!0,themes:{name:"proton",responsive:!0},data:function(a,n){if("#"===a.id)n.call(this,t.optimizeStructureForTree(e,"tree")),t.openRootNodes(e);else if(a.original.callTo)t.returnGetData(a.original.callTo,null,!0,n);else{var r=a.original.reportItemId;t.returnGetData(a.original.callTo,r,!0,n)}}}}).on("select_node.jstree",function(e,a){var n=a.node.original.callTo;if(a.node.original.callTo)t.returnGetData(n,null,!1,null);else{var o=a.node.original.reportItemId;t.returnGetData(n,o,!1,null)}t.breadcrumbItems=[];for(var i,s=r("#reportsTree").jstree("get_path",a.node,null,!0),l=0;l<s.length;l++){i=r("#reportsTree").jstree("get_text",s[l],!0);var d=r("#reportsTree").jstree("get_node",s[l]).original.callTo;t.breadcrumbItems.push({name:i,itemId:s[l],action:d})}t.updateBreadcrumb(),t.enableCreateBtns()}).on("create_node.jstree",function(e,a){t.droppableTreeItems(this)}).on("after_open.jstree",function(e,a){t.droppableTreeItems(this)})},droppableTreeItems:function(e){var t=this;r(".drawer-left ul>li").first().find("div").droppable({hoverClass:"jstree-wholerow-hovered",intersect:"pointer",drop:function(e,a){t.itemWasDropped=!0;var n,o=[],i=r(this).parent().attr("id"),s={dashboard_ids:[],report_ids:[],report_id:i.indexOf("j")>=0?null:i};n=r("ol.breadcrumb li.active").attr("data-item-id");var l=!1;r.each(r("ul.ui-draggable-helper li"),function(e,t){var a=r(t).find("div"),i=a.attr("data-item-id");switch(a.attr("data-item-type")){case"dashboard":s.dashboard_ids.push(i);break;case"report":s.report_ids.push(i),o=r(this).closest('ul.jstree-children li[id="'+i+'"]'),(s.report_id===i||o.length>0||s.report_id===n)&&(l=!0)}}),l||t.reportManagerModel.dropOnReport(s,function(e){e&&(r("#reportsTree").jstree("deselect_all"),s.dashboard_ids.forEach(function(e){r('ul.report-manager.dashboards li>div[data-item-type="dashboard"][data-item-id=\''.concat(e,"']")).parent().remove()}),s.report_ids.forEach(function(e){var t=r("ul.report-manager li>div[user-item-id='".concat(e,"']")).attr("data-item-name"),a=r("ul.report-manager li>div[user-item-id='".concat(e,"']")).attr("data-item-type");r("ul.report-manager li>div[user-item-id='".concat(e,"']")).parent().remove(),r("#reportsTree").jstree("select_node",i),r("#reportsTree").jstree("is_open",i),"folder"===a&&(r("#reportsTree").jstree("delete_node",e),r("#reportsTree").jstree().create_node(i,{text:t,type:"folder",id:e,reportItemId:e},"last",function(){r("#reportsTree").jstree("refresh_node",e)}))})),t.itemWasDropped=!1})},out:function(e,t){r(t.item).removeClass("ui-over")}})},enableCreateBtns:function(){"My Interfaces"!==r("ol.breadcrumb li:first").text()?(r("#report-manager").find(".dropdown-toggle").enable(!1),r("#report-manager").find(".dropdown-toggle").addClass("disabled")):(r("#report-manager").find(".dropdown-toggle").enable(!0),r("#report-manager").find(".dropdown-toggle").removeClass("disabled"))},returnGetData:function(e,t,a,n){var r,o,i=this,s=this;switch(t&&(r=this.reportManagerModel.getMyReports,o=this.dashboardManagerModel.getMyDashboards),e){case"getMyReports":r=this.reportManagerModel.getMyReports,o=this.dashboardManagerModel.getMyDashboards;break;case"getReportsSharedWithMe":r=this.reportManagerModel.getReportsSharedWithMe,o=this.dashboardManagerModel.getDashboardsSharedWithMe;break;case"getMySharedReports":r=this.reportManagerModel.getMySharedReports,o=this.dashboardManagerModel.getMySharedDashboards;break;case"getRecentsReports":r=this.reportManagerModel.getRecentsReports,o=this.dashboardManagerModel.getRecentsDashboards;break;case"getFavsReports":r=this.reportManagerModel.getFavsReports,o=this.dashboardManagerModel.getFavsDashboards}r(t,function(e){o(t,function(t){!function(e){if(null!==e)if(a){var t=s.optimizeStructureForTree(e,"tree");n.call(i,t)}else(e.length>0||!s.firstLoad)&&(s.loadDashboardInfo(e,!1),s.startDraggerInDesktop(),s.firstLoad=!1)}(d(e).concat(d(t)))})})},registerSelectionEvents:function(){r(".reports-view").on("mousedown",".report-manager li",function(a){r(a.target).hasClass("form-control")||(window.event.ctrlKey&&r(this).toggleClass("ui-selected"),0===window.event.button&&(window.event.ctrlKey||window.event.shiftKey||(r(".ui-selected").find("div.editor button").click(),t(),r(this).toggleClass("ui-selected")),window.event.shiftKey&&e([r(void 0).index(),r(this).index()])))});var e=function(e){var t=r("ul.report-manager li");e.sort(function(e,t){return e-t});for(var a=e[0];a<=e[1];a++)r(t[a]).addClass("ui-selected");return!1},t=function(){for(var e=r("ul.report-manager li"),t=0;t<e.length;t++)r(e[t]).removeClass("ui-selected")}},removeView:function(e,t){r('.mainTask[data-rel="report-manager"]').remove(),r(".context-menu").off("onContextMenuClick"),r("#context-menu").remove()}})}.apply(t,o))||(e.exports=i)}).call(this,a(218),a(1))}}]);