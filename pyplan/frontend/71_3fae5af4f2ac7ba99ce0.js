/*! Copyright Pyplan 2020. All rights reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[71,23,24],{1286:function(n,e,a){"use strict";(function(t,l){var i,s,o=a(18);function c(n){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},t=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(a).filter(function(n){return Object.getOwnPropertyDescriptor(a,n).enumerable}))),t.forEach(function(e){r(n,e,a[e])})}return n}function r(n,e,a){return e in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}i=[a(713),a(725),a(990),a(709),a(723),a(1954),a(1955)],void 0===(s=function(n,e,i,s,r,d,u){return t.View.extend({el:l("#main"),_uId:"",picManagerView:void 0,_userData:{user:{}},companyList:[],deletedUserCompanies:[],render:function(){var e=this;l("#mainLoading").show(),l('div[data-rel="abm-user"]').remove(),this._uId=l.uuid(),this.picManagerView=new i,this.deletedUserCompanies=[];var t=new n,u=new Promise(function(n){var a={userData:null,dataBaseTemplate:{id:e._uId,dataRel:"abm-user",tmpClass:"user-edit",title:(0,o.translate)("_editUser")}};e.options.userId?t.get(e.options.userId,function(t){e._userData={user:t},a.userData=t,n(a)}):n(a)}),p=new Promise(function(n){Promise.resolve().then(function(){var e=[a(725)];(function(e){(new e).list(function(e){n(e)})}).apply(null,e)}).catch(a.oe)});Promise.all([u,p]).then(function(n){var a=n[0],t=a.userData,i=a.dataBaseTemplate;e.companyList=n[1].results;var u=e._userData.user,p=u.groups,m=u.departments,f={user:c({},t,{companies:e._userData.user.companies?e._userData.user.companies.map(function(n){return c({},n,{groups:p.filter(function(e){return e.company.id===n.id}),departments:m.filter(function(e){return e.company.id===n.id})})}):[]}),companies:e.companyList},v=s(i),h=r(),y=d(f);e.$el.append(v);var g=l("div[data-id='".concat(e._uId,"']"));g.find("div.abm-content").append(h),g.find("div.form-content").append(y),e.options.userId?e.initialValues():g.find("div.user-login input").removeAttr("disabled"),(0,o.postRender)(e.$el.find(g)),e.addHandlers(),l("#mainLoading").hide()})},initialValues:function(){var n=this;l("div[data-id='".concat(this._uId,"']")).find("div.user-company-items").each(function(e,a){var t=l(a),i=t.find("div.user-company-assigned").attr("data-value"),s=n.companyList.find(function(n){return n.id==i}),o=s.departments,c=s.groups;if(c){var r=c.map(function(n){return{value:n.id,text:n.name}}),d=n._userData.user.groups.map(function(n){return n.id}),u=t.find("div.user-group a");u.editable({pk:1,value:d,source:r,success:function(n,e){l(this).attr("data-value",e)}}),u.on("shown",function(n){var e=l(n.target).data("editable").input.$input.closest("form"),a=e.parents("form").eq(0);e.data("validator",a.data("validator"))})}if(o){var p=o.map(function(n){return{value:n.id,text:n.name}}),m=n._userData.user.departments.map(function(n){return n.id}),f=t.find("div.user-rol a");f.editable({pk:1,value:m,source:p,success:function(n,e){l(this).attr("data-value",e)}}),f.on("shown",function(n){var e=l(n.target).data("editable").input.$input.closest("form"),a=e.parents("form").eq(0);e.data("validator",a.data("validator"))})}})},getLicencedRoles:function(n,a){(new e).getLicenceKey(n,function(n){var e={};n&&n.currentLicenceValidation&&n.currentLicenceValidation.currentLicence&&n.currentLicenceValidation.currentLicence.roleLicences&&n.currentLicenceValidation.currentLicence.roleLicences.length>0&&n.currentLicenceValidation.currentLicence.roleLicences.forEach(function(n){e[n.roleCode]="".concat(n.totalUsers-n.currentTotalUsers," licences availables")});a(e)})},save:function(){var e=this,t=l("div[data-id='".concat(this._uId,"']")),i=t.find("form");if(this._userData.companies=[],!l(i).validate().errorList.length>0){var s=t.find("div.user-company-items");if(s.length>0){var c=!0;this._userData.user.first_name=t.find("div.first-name input").val(),this._userData.user.last_name=t.find("div.last-name input").val(),this._userData.user.username=t.find("div.user-login input").val();var r=t.find("div.user-password input").val();r&&(this._userData.user.password=r),this._userData.user.email=t.find("div.user-email input").val(),this._userData.user.active=t.find("div.user-state input").is(":checked"),s.each(function(n,a){var t=l(a),i={company_id:t.find("div.user-company-assigned").attr("data-value"),delete:!1},s=t.find("div.user-rol a div").attr("data-value");void 0==s?(s=[],l.each(t.find("div.user-rol a"),function(n,e){s.push(l(e).attr("data-value"))}),s[0]&&(i.departments=s[0].split(","))):i.departments=s.split(",");var r=t.find("div.user-group a div").attr("data-value");void 0==r?(r=[],l.each(t.find("div.user-group a"),function(n,e){r.push(l(e).attr("data-value"))}),r[0]&&(i.groups=r[0].split(","))):i.groups=r.split(","),(!i.departments||i.departments&&1==i.departments.length&&i.departments[0]&&""==i.departments[0])&&(c=!1,l.gritter.add({title:(0,o.translate)("_wait"),text:(0,o.translate)("Please add at least one department all companies"),image:null,time:"3000"})),(!i.groups||i.groups&&1==i.groups.length&&i.groups[0]&&""==i.groups[0])&&(c=!1,l.gritter.add({title:(0,o.translate)("_wait"),text:(0,o.translate)("Please add at least one group to all companies"),image:null,time:"3000"})),e._userData.companies.push(i)}),this.deletedUserCompanies.length>0&&this.deletedUserCompanies.forEach(function(n){e._userData.companies.push({company_id:n,delete:!0})}),c&&(this.options.userId?(new n).partialUpdate(this.options.userId,this._userData,function(){Promise.resolve().then(function(){var n=[a(758)];(function(n){(new n).show()}).apply(null,n)}).catch(a.oe)}):(new n).create(this._userData,function(){Promise.resolve().then(function(){var n=[a(758)];(function(n){(new n).show()}).apply(null,n)}).catch(a.oe)}))}else l.gritter.add({title:(0,o.translate)("_wait"),text:(0,o.translate)("_noCompanyAssigned"),image:null,time:"3000"})}},changeState:function(){this.checked?l(this).attr("value",1):l(this).attr("value",0)},refreshListLabels:function(){var n=l("div[data-id='".concat(this._uId,"']"));n.find("div.cmpy-list").css({display:"0"==n.find("div.user-company-assigned").length?"none":""})},addUserCompany:function(){var n=this,e=l("div[data-id='".concat(this._uId,"']")),a=e.find("div.user-cmpy"),t=e.find("div.user-company-assigned"),i=e.find("div.add-company select").select2("data").id,s=e.find("div.add-company select").select2("data").text;t.each(function(n,e){l(e).attr("data-value")!=i||l.gritter.add({title:(0,o.translate)("_wait"),text:(0,o.translate)("_companyAlreadyAssigned"),image:null,time:"3000"})});var c=this.companyList.find(function(n){return n.id==i}),r=u({groups:[],departments:[],company:{id:i,name:s}});l(a).append(r);var d=l(a).find("div.user-company-items").last();if(c.departments.length>0){var p=l(d).find("div.user-rol a"),m=c.departments.map(function(n){return{value:n.id,text:n.name}});p.editable({pk:1,source:m,success:function(n,e){l(this).attr("data-value",e)}}),p.on("shown",function(n){var e=l(n.target).data("editable").input.$input.closest("form"),a=e.parents("form").eq(0);e.data("validator",a.data("validator"))})}if(c.groups.length>0){var f=l(d).find("div.user-group a"),v=c.groups.map(function(n){return{value:n.id,text:n.name}});f.editable({pk:1,source:v,success:function(n,e){l(this).attr("data-value",e)}}),f.on("shown",function(){var n=l(event.target).data("editable").input.$input.closest("form"),e=n.parents("form").eq(0);n.data("validator",e.data("validator"))})}l(d).find("a.btn-removeCompany").on("click",l.proxy(function(){return n.removeUserCompany(event),!1},this))},removeUserCompany:function(n){var e=this,t=l(n.currentTarget).parent("div").parent("div");a.e(5).then(function(){var n=[a(683)];(function(n){(new n).show({title:(0,o.translate)("_deleteUserCompany"),text:(0,o.translate)("_sure_delete_user_company"),buttons:[{title:(0,o.translate)("yes"),css:"primary",code:"yes"},{title:(0,o.translate)("no"),code:"no"}],callback:function(n){if("yes"==n){l("#mainLoading").show();var a=t.find(".user-company-assigned").attr("data-value");e.deletedUserCompanies.push(a),t.prev("hr").remove(),t.remove(),e.refreshListLabels(),l("#mainLoading").hide()}}})}).apply(null,n)}).catch(a.oe)},cancel:function(){Promise.resolve().then(function(){var n=[a(758)];(function(n){(new n).show()}).apply(null,n)}).catch(a.oe)},addHandlers:function(){var n=this,e=l("div[data-id='".concat(this._uId,"']"));e.find("input.user-state").on("ifToggled",this.changeState),e.find("form").on("submit",l.proxy(function(){return event.preventDefault(),event.stopPropagation(),n.save(),!1},this)),e.find("div.submit button.btn-cancel").on("click",l.proxy(function(){return n.cancel(),!1},this)),e.find("form div.add-company a.btn-add-company").on("click",l.proxy(function(){return n.addUserCompany(),!1},this)),e.find("form div.user-cmpy a.btn-removeCompany").on("click",l.proxy(function(e){return n.removeUserCompany(e),!1},this)),e.find("div.abm-top-options a.btn-close").on("click",this.cancel)}})}.apply(e,i))||(n.exports=s)}).call(this,a(218),a(1))},1954:function(n,e,a){var t=a(690);function l(n){return n&&(n.__esModule?n.default:n)}n.exports=(t.default||t).template({1:function(n,e,a,t,l){return'      <input type="checkbox" class="icheck-me user-state" value="1" data-skin="square" data-color="blue" checked />\n'},3:function(n,e,a,t,l){return'      <input type="checkbox" class="icheck-me user-state" value="0" data-skin="square" data-color="blue" />\n'},5:function(n,e,a,t,l){var i=n.lambda,s=n.escapeExpression;return"            <option value='"+s(i(null!=e?e.id:e,e))+"'>"+s(i(null!=e?e.name:e,e))+"</option>\n"},7:function(n,e,t,i,s){var o,c=n.lambda,r=n.escapeExpression,d=null!=e?e:n.nullContext||{};return'      <div class="container-fluid">\n        <hr />\n        <div class="row user-company-items">\n          <div class="col-sm-3 user-company-assigned" data-value=\''+r(c(null!=e?e.id:e,e))+"'>\n            "+r(c(null!=e?e.name:e,e))+'\n          </div>\n          <div class="col-sm-3 user-rol">\n            <a href="#" class="editable editable-click" data-type="checklist" data-original-title=\''+r(l(a(688)).call(d,"_department",{name:"L",hash:{},data:s,loc:{start:{line:105,column:99},end:{line:105,column:118}}}))+"'>\n"+(null!=(o=l(a(689)).call(d,null!=(o=null!=e?e.departments:e)?o.length:o,"==",0,{name:"ifCond",hash:{},fn:n.program(8,s,0),inverse:n.program(10,s,0),data:s,loc:{start:{line:106,column:14},end:{line:112,column:25}}}))?o:"")+'            </a>\n          </div>\n          <div class="col-sm-3 user-group">\n            <a href="#" class="editable editable-click" data-type="checklist" data-original-title=\''+r(l(a(688)).call(d,"_groups",{name:"L",hash:{},data:s,loc:{start:{line:116,column:99},end:{line:116,column:114}}}))+"'>\n"+(null!=(o=l(a(689)).call(d,null!=(o=null!=e?e.groups:e)?o.length:o,"==",0,{name:"ifCond",hash:{},fn:n.program(8,s,0),inverse:n.program(13,s,0),data:s,loc:{start:{line:117,column:14},end:{line:123,column:25}}}))?o:"")+'            </a>\n          </div>\n          <div class="col-sm-3">\n            <a href="#" class="btn btn-removeCompany"><i class="fa fa-minus"></i></a>\n          </div>\n        </div>\n      </div>\n'},8:function(n,e,a,t,l){return'              <div data-value=""></div>\n'},10:function(n,e,a,t,l){var i;return null!=(i=a.each.call(null!=e?e:n.nullContext||{},null!=e?e.departments:e,{name:"each",hash:{},fn:n.program(11,l,0),inverse:n.noop,data:l,loc:{start:{line:109,column:14},end:{line:111,column:23}}}))?i:""},11:function(n,e,a,t,l){var i=n.lambda,s=n.escapeExpression;return"              <div data-value='"+s(i(null!=e?e.id:e,e))+"'>"+s(i(null!=e?e.name:e,e))+"</div>\n"},13:function(n,e,a,t,l){var i;return null!=(i=a.each.call(null!=e?e:n.nullContext||{},null!=e?e.groups:e,{name:"each",hash:{},fn:n.program(11,l,0),inverse:n.noop,data:l,loc:{start:{line:120,column:14},end:{line:122,column:23}}}))?i:""},compiler:[8,">= 4.3.0"],main:function(n,e,t,i,s){var o,c=null!=e?e:n.nullContext||{},r=n.escapeExpression,d=n.lambda;return'<div class="form-horizontal form-bordered">\n\n  \x3c!--div class="form-group" data-key="picManager">\n  </div--\x3e\n  <div class="form-group">\n    <label for="textfield" class="control-label col-sm-2">'+r(l(a(688)).call(c,"_firstName",{name:"L",hash:{},data:s,loc:{start:{line:6,column:58},end:{line:6,column:76}}}))+'</label>\n    <div class="first-name col-sm-10">\n      <div class="col-sm-6">\n        <input type="text" value="'+r(d(null!=(o=null!=e?e.user:e)?o.first_name:o,e))+'" class="form-control" name="firstName" data-rule-required="true"\n          data-rule-minlength="3">\n      </div>\n    </div>\n  </div>\n  <div class="form-group">\n    <label for="textfield" class="control-label col-sm-2">'+r(l(a(688)).call(c,"_lastName",{name:"L",hash:{},data:s,loc:{start:{line:15,column:58},end:{line:15,column:75}}}))+'</label>\n    <div class="last-name col-sm-10">\n      <div class="col-sm-6">\n        <input type="text" value="'+r(d(null!=(o=null!=e?e.user:e)?o.last_name:o,e))+'" class="form-control" name="lastName" data-rule-required="true"\n          data-rule-minlength="3">\n      </div>\n    </div>\n  </div>\n  <div class="form-group">\n    <label for="textfield" class="control-label col-sm-2">'+r(l(a(688)).call(c,"_login",{name:"L",hash:{},data:s,loc:{start:{line:24,column:58},end:{line:24,column:72}}}))+'</label>\n    <div class="user-login col-sm-10">\n      <div class="col-sm-6">\n        <input type="text" value="'+r(d(null!=(o=null!=e?e.user:e)?o.username:o,e))+'" class="form-control" disabled="disabled">\n      </div>\n    </div>\n  </div>\n  <div class="form-group">\n    <label for="textfield" class="control-label col-sm-2">'+r(l(a(688)).call(c,"_password",{name:"L",hash:{},data:s,loc:{start:{line:32,column:58},end:{line:32,column:75}}}))+'</label>\n    <div class="user-password col-sm-10">\n      <div class="col-sm-6">\n        <input type="password" value="'+r(d(null!=(o=null!=e?e.user:e)?o.password:o,e))+'" class="form-control" name="password" id="user-password"\n          data-rule-minlength="6">\n      </div>\n    </div>\n  </div>\n  <div class="form-group">\n    <label for="textfield" class="control-label col-sm-2">'+r(l(a(688)).call(c,"_confirmPassword",{name:"L",hash:{},data:s,loc:{start:{line:41,column:58},end:{line:41,column:82}}}))+'</label>\n    <div class="user-password-confirm col-sm-10">\n      <div class="col-sm-6">\n        <input type="password" value="'+r(d(null!=(o=null!=e?e.user:e)?o.password:o,e))+'" class="form-control" name="password2" data-rule-minlength="6"\n          data-rule-equalTo="#user-password">\n      </div>\n    </div>\n  </div>\n  <div class="form-group">\n    <label for="textfield" class="control-label col-sm-2">'+r(l(a(688)).call(c,"_email",{name:"L",hash:{},data:s,loc:{start:{line:50,column:58},end:{line:50,column:72}}}))+'</label>\n    <div class="user-email col-sm-10">\n      <div class="col-sm-6">\n        <input type="email" value="'+r(d(null!=(o=null!=e?e.user:e)?o.email:o,e))+'" class="form-control" data-rule-required="true"\n          data-rule-minlength="3">\n      </div>\n    </div>\n  </div>\n  <div class="form-group">\n    <label class="control-label col-sm-2">'+r(l(a(688)).call(c,"active",{name:"L",hash:{},data:s,loc:{start:{line:59,column:42},end:{line:59,column:56}}}))+'</label>\n    <div class="user-state col-sm-10">\n'+(null!=(o=l(a(689)).call(c,null!=(o=null!=e?e.user:e)?o.active:o,"==",!0,{name:"ifCond",hash:{},fn:n.program(1,s,0),inverse:n.program(3,s,0),data:s,loc:{start:{line:61,column:6},end:{line:65,column:17}}}))?o:"")+'    </div>\n  </div>\n  <div class="form-group">\n    <label class="control-label col-sm-2">'+r(l(a(688)).call(c,"_company",{name:"L",hash:{},data:s,loc:{start:{line:69,column:42},end:{line:69,column:58}}}))+"<small>"+r(l(a(688)).call(c,"_multipleAssignment",{name:"L",hash:{},data:s,loc:{start:{line:69,column:65},end:{line:69,column:92}}}))+'</small></label>\n    <div class="user-cmpy col-sm-10">\n\n      <div class="col-sm-12 add-company" style="margin-bottom: 15px;">\n        <div class="col-sm-4">\n          <select class="select2-me" style="width: 100%;">\n'+(null!=(o=t.each.call(c,null!=e?e.companies:e,{name:"each",hash:{},fn:n.program(5,s,0),inverse:n.noop,data:s,loc:{start:{line:75,column:12},end:{line:77,column:21}}}))?o:"")+'          </select>\n        </div>\n        <div class="col-sm-8">\n          <div class="actions user-options">\n            <a href="#" class="btn btn-add-company" style="height:30px; margin-left:10px;">\n              <i class="fa fa-plus"></i></a>\n            <label>'+r(l(a(688)).call(c,"_assignNewCompany",{name:"L",hash:{},data:s,loc:{start:{line:84,column:19},end:{line:84,column:44}}}))+'</label>\n          </div>\n        </div>\n      </div>\n\n      <div class="container-fluid">\n        <div class="row cmpy-list">\n          <div class="col-sm-3">'+r(l(a(688)).call(c,"_name",{name:"L",hash:{},data:s,loc:{start:{line:91,column:32},end:{line:91,column:45}}}))+'</div>\n          <div class="col-sm-3">'+r(l(a(688)).call(c,"_department",{name:"L",hash:{},data:s,loc:{start:{line:92,column:32},end:{line:92,column:51}}}))+'</div>\n          <div class="col-sm-3">'+r(l(a(688)).call(c,"_groups",{name:"L",hash:{},data:s,loc:{start:{line:93,column:32},end:{line:93,column:47}}}))+'</div>\n          <div class="col-sm-3">'+r(l(a(688)).call(c,"_options",{name:"L",hash:{},data:s,loc:{start:{line:94,column:32},end:{line:94,column:48}}}))+"</div>\n        </div>\n      </div>\n"+(null!=(o=t.each.call(c,null!=(o=null!=e?e.user:e)?o.companies:o,{name:"each",hash:{},fn:n.program(7,s,0),inverse:n.noop,data:s,loc:{start:{line:97,column:6},end:{line:131,column:15}}}))?o:"")+"    </div>\n  </div>\n</div>\n"},useData:!0})},1955:function(n,e,a){var t=a(690);function l(n){return n&&(n.__esModule?n.default:n)}n.exports=(t.default||t).template({1:function(n,e,a,t,l){var i=n.lambda,s=n.escapeExpression;return'        <div data-value="'+s(i(null!=e?e.id:e,e))+'">'+s(i(null!=e?e.name:e,e))+"</div>\n"},compiler:[8,">= 4.3.0"],main:function(n,e,t,i,s){var o,c=n.lambda,r=n.escapeExpression,d=null!=e?e:n.nullContext||{};return'<div class="container-fluid">\n  <hr />\n  <div class="row user-company-items">\n    <div class="col-sm-3 user-company-assigned" data-value=\''+r(c(null!=(o=null!=e?e.company:e)?o.id:o,e))+"'>\n      "+r(c(null!=(o=null!=e?e.company:e)?o.name:o,e))+'\n    </div>\n    <div class="col-sm-3 user-rol">\n      <a href="#" class="editable editable-click" data-type="checklist" data-original-title=\''+r(l(a(688)).call(d,"_department",{name:"L",hash:{},data:s,loc:{start:{line:8,column:93},end:{line:8,column:112}}}))+"'>\n"+(null!=(o=t.each.call(d,null!=e?e.department:e,{name:"each",hash:{},fn:n.program(1,s,0),inverse:n.noop,data:s,loc:{start:{line:9,column:8},end:{line:11,column:17}}}))?o:"")+'      </a>\n    </div>\n    <div class="col-sm-3 user-group">\n      <a href="#" class="editable editable-click" data-type="checklist" data-original-title=\''+r(l(a(688)).call(d,"_groups",{name:"L",hash:{},data:s,loc:{start:{line:15,column:93},end:{line:15,column:108}}}))+"'>\n"+(null!=(o=t.each.call(d,null!=e?e.groups:e,{name:"each",hash:{},fn:n.program(1,s,0),inverse:n.noop,data:s,loc:{start:{line:16,column:8},end:{line:18,column:17}}}))?o:"")+'      </a>\n    </div>\n    <div class="col-sm-3">\n      <a href="#" class="btn btn-removeCompany"><i class="fa fa-minus"></i></a>\n    </div>\n  </div>\n</div>'},useData:!0})},709:function(n,e,a){var t=a(690);n.exports=(t.default||t).template({compiler:[8,">= 4.3.0"],main:function(n,e,a,t,l){var i,s=null!=e?e:n.nullContext||{},o=n.hooks.helperMissing,c=n.escapeExpression;return'<div class="abm-base-tmp '+c("function"==typeof(i=null!=(i=a.tmpClass||(null!=e?e.tmpClass:e))?i:o)?i.call(s,{name:"tmpClass",hash:{},data:l,loc:{start:{line:1,column:25},end:{line:1,column:37}}}):i)+' container-fluid mainTask" data-id="'+c("function"==typeof(i=null!=(i=a.id||(null!=e?e.id:e))?i:o)?i.call(s,{name:"id",hash:{},data:l,loc:{start:{line:1,column:73},end:{line:1,column:79}}}):i)+'" data-rel="'+c("function"==typeof(i=null!=(i=a.dataRel||(null!=e?e.dataRel:e))?i:o)?i.call(s,{name:"dataRel",hash:{},data:l,loc:{start:{line:1,column:91},end:{line:1,column:102}}}):i)+'" data-type="tab-content">\n    <div class="row">\n        <div class="col-sm-12">\n            <div class="box">\n                <div class="box-title">\n                    <h3><i class="fa fa-th-list"></i>'+c("function"==typeof(i=null!=(i=a.title||(null!=e?e.title:e))?i:o)?i.call(s,{name:"title",hash:{},data:l,loc:{start:{line:6,column:53},end:{line:6,column:62}}}):i)+'</h3>\n                    <div class="actions abm-top-options">\n                        <a href="#" class="btn btn-close"><i class="fa fa-times"></i></a>\n                    </div>\n                </div>\n        <div class="box-content nopadding abm-content">\n\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'},useData:!0})},713:function(n,e,a){"use strict";(function(t){var l,i=a(693);void 0===(l=function(){return t.Model.extend({list:function(n,e){(0,i.send)("users/?page=1",null,{type:"GET",contentType:"application/json;charset=utf-8",dataType:"text"},e)},listByCompany:function(n){(0,i.send)("usercompanies/list_by_company_id/",null,{type:"GET",contentType:"application/json;charset=utf-8",dataType:"text"},n)},get:function(n,e){(0,i.send)("users/".concat(n,"/"),null,{type:"GET",contentType:"application/json;charset=utf-8",dataType:"text"},e)},update:function(n,e,a){(0,i.send)("users/".concat(n,"/"),e,{type:"PUT",contentType:"application/json;charset=utf-8",dataType:"text"},a)},partialUpdateUser:function(n,e,a){(0,i.send)("users/".concat(n,"/"),JSON.stringify(e),{type:"PATCH",contentType:"application/json;charset=utf-8",dataType:"text"},a)},EditProfile:function(n,e){(0,i.send)("users/".concat(n.id,"/"),JSON.stringify(n),{type:"PATCH",contentType:"application/json;charset=utf-8",dataType:"text"},e)},create:function(n,e){(0,i.send)("usercompanies/",JSON.stringify(n),{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},e)},partialUpdate:function(n,e,a){(0,i.send)("usercompanies/".concat(n,"/"),JSON.stringify(e),{type:"PATCH",contentType:"application/json;charset=utf-8",dataType:"text"},a)},deleteUser:function(n,e){(0,i.send)("users/".concat(n,"/"),null,{type:"DELETE"},e)},deleteUserCompany:function(n,e){(0,i.send)("usercompanies/".concat(n,"/"),null,{type:"DELETE"},e)},getUserCompany:function(n,e){(0,i.send)("usercompanies/".concat(n,"/"),null,{type:"GET",contentType:"application/json;charset=utf-8",dataType:"text"},e)},UpdateUserPreference:function(n,e){var a={userCompanyId:__currentSession.userId,preferenceCode:n,value:e};(0,i.send)("user/UpdateUserPreference",a,{type:"PUT"})},GetUserPreference:function(n,e){(0,i.send)("usercompanies/preference_by_code/?code=".concat(n),null,{type:"GET"},e)},GetRelatedDashboard:function(n){(0,i.send)("user/GetRelatedDashboard",null,null,n)}})}.apply(e,[]))||(n.exports=l)}).call(this,a(218))},723:function(n,e,a){var t=a(690);function l(n){return n&&(n.__esModule?n.default:n)}n.exports=(t.default||t).template({compiler:[8,">= 4.3.0"],main:function(n,e,t,i,s){var o=null!=e?e:n.nullContext||{},c=n.escapeExpression;return'<form action="#" id="baseForm" method="POST" class=\'form-horizontal form-bordered form-validate\' novalidate="novalidate">\n    <div class="form-content">\n\n    </div>\n    <div class="submit form-actions col-sm-12">\n        <button type="submit" class="btn btn-primary btn-save">'+c(l(a(688)).call(o,"_save",{name:"L",hash:{},data:s,loc:{start:{line:6,column:63},end:{line:6,column:76}}}))+'</button>\n        <button type="button" class="btn btn-cancel">'+c(l(a(688)).call(o,"cancel",{name:"L",hash:{},data:s,loc:{start:{line:7,column:53},end:{line:7,column:67}}}))+"</button>\n    </div>\n</form>\n"},useData:!0})},725:function(n,e,a){"use strict";(function(t){var l,i=a(693);void 0===(l=function(){return t.Model.extend({list:function(n){(0,i.send)("companies/?limit=1000&offset=0",null,null,n)},getCompany:function(n,e){(0,i.send)("companies/".concat(n,"/"),null,null,e)},update:function(n,e,a){(0,i.send)("companies/".concat(n,"/"),JSON.stringify(e),{type:"PUT",contentType:"application/json;charset=utf-8",dataType:"text"},a)},partialUpdate:function(n,e,a){(0,i.send)("companies/".concat(n,"/"),JSON.stringify(e),{type:"PATCH",contentType:"application/json;charset=utf-8",dataType:"text"},a)},create:function(n,e){(0,i.send)("companies/",n,{type:"POST"},e)},delete:function(n,e){(0,i.send)("companies/".concat(n,"/"),null,{type:"DELETE"},e)},UpdateCompanyPreference:function(n,e,a){var t={companyId:__currentSession.companyId,preferenceCode:n,value:e};(0,i.send)("company/UpdateCompanyPreference",t,{type:"PUT"},a)},GetCompanyPreference:function(n,e){(0,i.send)("companies/preference_by_code/?code=".concat(n),null,{type:"GET"},e)},sendTestEmail:function(n,e){(0,i.send)("company/SendTestEmail",n,{type:"PUT"},e)},getLicenceKey:function(n,e){(0,i.send)("company/GetLK/"+n,null,null,e)},setLicenceKey:function(n,e){(0,i.send)("company/SetLK/",n,{type:"POST"},e)}})}.apply(e,[]))||(n.exports=l)}).call(this,a(218))},990:function(n,e,a){"use strict";(function(t,l){var i,s;i=[a(991)],void 0===(s=function(n){return t.View.extend({el:l("#main"),imageChange:!1,render:function(e){var a=n(e);this.$el.append(a),this.addHandlers()},addHandlers:function(){var n=this;this.$el.find(".fileupload").on("change.bs.fileinput",function(e){n.imageChange=!0})},getSrc:function(){return this.$el.find(".fileinput-preview.thumbnail img").attr("src")}})}.apply(e,i))||(n.exports=s)}).call(this,a(218),a(1))},991:function(n,e,a){var t=a(690);n.exports=(t.default||t).template({compiler:[8,">= 4.3.0"],main:function(n,e,t,l,i){var s,o=n.escapeExpression;return'<label for="textfield" class="control-label col-sm-2"></label>\n\n<div class="fileinput fileinput-new col-sm-10" data-provides="fileinput">\n  <div class="input-group">\n    <div class="fileinput-preview thumbnail" data-trigger="fileinput" style="width: 113px; height: 150px;">\n      \x3c!--img src="'+o(function(n){return n&&(n.__esModule?n.default:n)}(a(718)).call(null!=e?e:n.nullContext||{},{name:"baseURL",hash:{},data:i,loc:{start:{line:6,column:19},end:{line:6,column:30}}}))+"thumbs/view.ashx?img=users-"+o(n.lambda(null!=(s=null!=e?e.user:e)?s.imageUrl:s,e))+'&w=113&h=150&t=cropt" /--\x3e\n    </div>\n\n    <div>\n\n      <span class="btn btn-default btn-file">\n        <span class="fileinput-new">Select image</span>\n        <span class="fileinput-exists">Change</span>\n        <input type="file" name="imagefile" class="valid fileupload">\n      </span>\n\n      <a href="#" class="btn fileinput-exists" data-dismiss="fileinput">Remove</a>\n    </div>\n  </div>\n</div>'},useData:!0})}}]);