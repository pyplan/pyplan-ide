/*! Copyright Pyplan 2020. All rights reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[72,23,28],{1028:function(e,n,a){"use strict";(function(t,s){var i,l;i=[a(1029)],void 0===(l=function(e){return t.View.extend({el:s("#main"),imageChange:!1,render:function(n){var a=e(n);this.$el.append(a),this.addHandlers()},addHandlers:function(){var e=this;this.$el.find(".fileupload").on("change.bs.fileinput",function(n){e.imageChange=!0})},getSrc:function(){return this.$el.find(".fileinput-preview.thumbnail img").attr("src")}})}.apply(n,i))||(e.exports=l)}).call(this,a(218),a(1))},1029:function(e,n,a){var t=a(690);e.exports=(t.default||t).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,s,i){var l,r=e.escapeExpression;return'<label for="textfield" class="control-label col-sm-2"></label>\n\n<div class="fileinput fileinput-new col-sm-10" data-provides="fileinput">\n  <div class="input-group">\n    <div class="fileinput-preview thumbnail" data-trigger="fileinput" style="width: 113px; height: 150px;">\n      \x3c!--img src="'+r(function(e){return e&&(e.__esModule?e.default:e)}(a(718)).call(null!=n?n:e.nullContext||{},{name:"baseURL",hash:{},data:i}))+"thumbs/view.ashx?img=users-"+r(e.lambda(null!=(l=null!=n?n.user:n)?l.imageUrl:l,n))+'&w=113&h=150&t=cropt" /--\x3e\n    </div>\n\n    <div>\n\n      <span class="btn btn-default btn-file">\n        <span class="fileinput-new">Select image</span>\n        <span class="fileinput-exists">Change</span>\n        <input type="file" name="imagefile" class="valid fileupload">\n      </span>\n\n      <a href="#" class="btn fileinput-exists" data-dismiss="fileinput">Remove</a>\n    </div>\n  </div>\n</div>'},useData:!0})},1318:function(e,n,a){"use strict";(function(t,s){var i,l,r=a(18);function o(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{},t=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),t.forEach(function(n){c(e,n,a[n])})}return e}function c(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}i=[a(719),a(726),a(1028),a(710),a(725),a(1928),a(1929)],void 0===(l=function(e,n,i,l,c,d,u){return t.View.extend({el:s("#main"),_uId:"",picManagerView:void 0,_userData:{user:{}},companyList:[],deletedUserCompanies:[],render:function(){var n=this;s("#mainLoading").show(),s('div[data-rel="abm-user"]').remove(),this._uId=s.uuid(),this.picManagerView=new i,this.deletedUserCompanies=[];var t=new e,u=new Promise(function(e){var a={userData:null,dataBaseTemplate:{id:n._uId,dataRel:"abm-user",tmpClass:"user-edit",title:(0,r.translate)("_editUser")}};n.options.userId?t.get(n.options.userId,function(t){n._userData={user:t},a.userData=t,e(a)}):e(a)}),p=new Promise(function(e){Promise.resolve().then(function(){var n=[a(726)];(function(n){(new n).list(function(n){e(n)})}).apply(null,n)}).catch(a.oe)});Promise.all([u,p]).then(function(e){var a=e[0],t=a.userData,i=a.dataBaseTemplate;n.companyList=e[1].results;var u=n._userData.user,p=u.groups,m=u.departments,f={user:o({},t,{companies:n._userData.user.companies?n._userData.user.companies.map(function(e){return o({},e,{groups:p.filter(function(n){return n.company.id===e.id}),departments:m.filter(function(n){return n.company.id===e.id})})}):[]}),companies:n.companyList},v=l(i),h=c(),y=d(f);n.$el.append(v);var g=s("div[data-id='".concat(n._uId,"']"));g.find("div.abm-content").append(h),g.find("div.form-content").append(y),n.options.userId?n.initialValues():g.find("div.user-login input").removeAttr("disabled"),(0,r.postRender)(n.$el.find(g)),n.addHandlers(),s("#mainLoading").hide()})},initialValues:function(){var e=this;s("div[data-id='".concat(this._uId,"']")).find("div.user-company-items").each(function(n,a){var t=s(a),i=t.find("div.user-company-assigned").attr("data-value"),l=e.companyList.find(function(e){return e.id==i}),r=l.departments,o=l.groups;if(o){var c=o.map(function(e){return{value:e.id,text:e.name}}),d=e._userData.user.groups.map(function(e){return e.id}),u=t.find("div.user-group a");u.editable({pk:1,value:d,source:c,success:function(e,n){s(this).attr("data-value",n)}}),u.on("shown",function(e){var n=s(e.target).data("editable").input.$input.closest("form"),a=n.parents("form").eq(0);n.data("validator",a.data("validator"))})}if(r){var p=r.map(function(e){return{value:e.id,text:e.name}}),m=e._userData.user.departments.map(function(e){return e.id}),f=t.find("div.user-rol a");f.editable({pk:1,value:m,source:p,success:function(e,n){s(this).attr("data-value",n)}}),f.on("shown",function(e){var n=s(e.target).data("editable").input.$input.closest("form"),a=n.parents("form").eq(0);n.data("validator",a.data("validator"))})}})},getLicencedRoles:function(e,a){(new n).getLicenceKey(e,function(e){var n={};e&&e.currentLicenceValidation&&e.currentLicenceValidation.currentLicence&&e.currentLicenceValidation.currentLicence.roleLicences&&e.currentLicenceValidation.currentLicence.roleLicences.length>0&&e.currentLicenceValidation.currentLicence.roleLicences.forEach(function(e){n[e.roleCode]="".concat(e.totalUsers-e.currentTotalUsers," licences availables")});a(n)})},save:function(){var n=this,t=s("div[data-id='".concat(this._uId,"']")),i=t.find("form");if(this._userData.companies=[],!s(i).validate().errorList.length>0){var l=t.find("div.user-company-items");if(l.length>0){var o=!0;this._userData.user.first_name=t.find("div.first-name input").val(),this._userData.user.last_name=t.find("div.last-name input").val(),this._userData.user.username=t.find("div.user-login input").val();var c=t.find("div.user-password input").val();c&&(this._userData.user.password=c),this._userData.user.email=t.find("div.user-email input").val(),this._userData.user.active=t.find("div.user-state input").is(":checked"),l.each(function(e,a){var t=s(a),i={company_id:t.find("div.user-company-assigned").attr("data-value"),delete:!1},l=t.find("div.user-rol a div").attr("data-value");void 0==l?(l=[],s.each(t.find("div.user-rol a"),function(e,n){l.push(s(n).attr("data-value"))}),l[0]&&(i.departments=l[0].split(","))):i.departments=l.split(",");var c=t.find("div.user-group a div").attr("data-value");void 0==c?(c=[],s.each(t.find("div.user-group a"),function(e,n){c.push(s(n).attr("data-value"))}),c[0]&&(i.groups=c[0].split(","))):i.groups=c.split(","),(!i.departments||i.departments&&1==i.departments.length&&i.departments[0]&&""==i.departments[0])&&(o=!1,s.gritter.add({title:(0,r.translate)("_wait"),text:(0,r.translate)("Please add at least one department all companies"),image:null,time:"3000"})),(!i.groups||i.groups&&1==i.groups.length&&i.groups[0]&&""==i.groups[0])&&(o=!1,s.gritter.add({title:(0,r.translate)("_wait"),text:(0,r.translate)("Please add at least one group to all companies"),image:null,time:"3000"})),n._userData.companies.push(i)}),this.deletedUserCompanies.length>0&&this.deletedUserCompanies.forEach(function(e){n._userData.companies.push({company_id:e,delete:!0})}),o&&(this.options.userId?(new e).partialUpdate(this.options.userId,this._userData,function(){Promise.resolve().then(function(){var e=[a(766)];(function(e){(new e).show()}).apply(null,e)}).catch(a.oe)}):(new e).create(this._userData,function(){Promise.resolve().then(function(){var e=[a(766)];(function(e){(new e).show()}).apply(null,e)}).catch(a.oe)}))}else s.gritter.add({title:(0,r.translate)("_wait"),text:(0,r.translate)("_noCompanyAssigned"),image:null,time:"3000"})}},changeState:function(){this.checked?s(this).attr("value",1):s(this).attr("value",0)},refreshListLabels:function(){var e=s("div[data-id='".concat(this._uId,"']"));e.find("div.cmpy-list").css({display:"0"==e.find("div.user-company-assigned").length?"none":""})},addUserCompany:function(){var e=this,n=s("div[data-id='".concat(this._uId,"']")),a=n.find("div.user-cmpy"),t=n.find("div.user-company-assigned"),i=n.find("div.add-company select").select2("data").id,l=n.find("div.add-company select").select2("data").text;t.each(function(e,n){s(n).attr("data-value")!=i||s.gritter.add({title:(0,r.translate)("_wait"),text:(0,r.translate)("_companyAlreadyAssigned"),image:null,time:"3000"})});var o=this.companyList.find(function(e){return e.id==i}),c=u({groups:[],departments:[],company:{id:i,name:l}});s(a).append(c);var d=s(a).find("div.user-company-items").last();if(o.departments.length>0){var p=s(d).find("div.user-rol a"),m=o.departments.map(function(e){return{value:e.id,text:e.name}});p.editable({pk:1,source:m,success:function(e,n){s(this).attr("data-value",n)}}),p.on("shown",function(e){var n=s(e.target).data("editable").input.$input.closest("form"),a=n.parents("form").eq(0);n.data("validator",a.data("validator"))})}if(o.groups.length>0){var f=s(d).find("div.user-group a"),v=o.groups.map(function(e){return{value:e.id,text:e.name}});f.editable({pk:1,source:v,success:function(e,n){s(this).attr("data-value",n)}}),f.on("shown",function(){var e=s(event.target).data("editable").input.$input.closest("form"),n=e.parents("form").eq(0);e.data("validator",n.data("validator"))})}s(d).find("a.btn-removeCompany").on("click",s.proxy(function(){return e.removeUserCompany(event),!1},this))},removeUserCompany:function(e){var n=this,t=s(e.currentTarget).parent("div").parent("div");a.e(5).then(function(){var e=[a(684)];(function(e){(new e).show({title:(0,r.translate)("_deleteUserCompany"),text:(0,r.translate)("_sure_delete_user_company"),buttons:[{title:(0,r.translate)("yes"),css:"primary",code:"yes"},{title:(0,r.translate)("no"),code:"no"}],callback:function(e){if("yes"==e){s("#mainLoading").show();var a=t.find(".user-company-assigned").attr("data-value");n.deletedUserCompanies.push(a),t.prev("hr").remove(),t.remove(),n.refreshListLabels(),s("#mainLoading").hide()}}})}).apply(null,e)}).catch(a.oe)},cancel:function(){Promise.resolve().then(function(){var e=[a(766)];(function(e){(new e).show()}).apply(null,e)}).catch(a.oe)},addHandlers:function(){var e=this,n=s("div[data-id='".concat(this._uId,"']"));n.find("input.user-state").on("ifToggled",this.changeState),n.find("form").on("submit",s.proxy(function(){return event.preventDefault(),event.stopPropagation(),e.save(),!1},this)),n.find("div.submit button.btn-cancel").on("click",s.proxy(function(){return e.cancel(),!1},this)),n.find("form div.add-company a.btn-add-company").on("click",s.proxy(function(){return e.addUserCompany(),!1},this)),n.find("form div.user-cmpy a.btn-removeCompany").on("click",s.proxy(function(n){return e.removeUserCompany(n),!1},this)),n.find("div.abm-top-options a.btn-close").on("click",this.cancel)}})}.apply(n,i))||(e.exports=l)}).call(this,a(218),a(1))},1928:function(e,n,a){var t=a(690);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(t.default||t).template({1:function(e,n,a,t,s){return'      <input type="checkbox" class="icheck-me user-state" value="1" data-skin="square" data-color="blue" checked />\n'},3:function(e,n,a,t,s){return'      <input type="checkbox" class="icheck-me user-state" value="0" data-skin="square" data-color="blue" />\n'},5:function(e,n,a,t,s){var i=e.lambda,l=e.escapeExpression;return"            <option value='"+l(i(null!=n?n.id:n,n))+"'>"+l(i(null!=n?n.name:n,n))+"</option>\n"},7:function(e,n,t,i,l){var r,o=e.lambda,c=e.escapeExpression,d=null!=n?n:e.nullContext||{};return'      <div class="container-fluid">\n        <hr />\n        <div class="row user-company-items">\n          <div class="col-sm-3 user-company-assigned" data-value=\''+c(o(null!=n?n.id:n,n))+"'>\n            "+c(o(null!=n?n.name:n,n))+'\n          </div>\n          <div class="col-sm-3 user-rol">\n            <a href="#" class="editable editable-click" data-type="checklist" data-original-title=\''+c(s(a(688)).call(d,"_department",{name:"L",hash:{},data:l}))+"'>\n"+(null!=(r=s(a(689)).call(d,null!=(r=null!=n?n.departments:n)?r.length:r,"==",0,{name:"ifCond",hash:{},fn:e.program(8,l,0),inverse:e.program(10,l,0),data:l}))?r:"")+'            </a>\n          </div>\n          <div class="col-sm-3 user-group">\n            <a href="#" class="editable editable-click" data-type="checklist" data-original-title=\''+c(s(a(688)).call(d,"_groups",{name:"L",hash:{},data:l}))+"'>\n"+(null!=(r=s(a(689)).call(d,null!=(r=null!=n?n.groups:n)?r.length:r,"==",0,{name:"ifCond",hash:{},fn:e.program(8,l,0),inverse:e.program(13,l,0),data:l}))?r:"")+'            </a>\n          </div>\n          <div class="col-sm-3">\n            <a href="#" class="btn btn-removeCompany"><i class="fa fa-minus"></i></a>\n          </div>\n        </div>\n      </div>\n'},8:function(e,n,a,t,s){return'              <div data-value=""></div>\n'},10:function(e,n,a,t,s){var i;return null!=(i=a.each.call(null!=n?n:e.nullContext||{},null!=n?n.departments:n,{name:"each",hash:{},fn:e.program(11,s,0),inverse:e.noop,data:s}))?i:""},11:function(e,n,a,t,s){var i=e.lambda,l=e.escapeExpression;return"              <div data-value='"+l(i(null!=n?n.id:n,n))+"'>"+l(i(null!=n?n.name:n,n))+"</div>\n"},13:function(e,n,a,t,s){var i;return null!=(i=a.each.call(null!=n?n:e.nullContext||{},null!=n?n.groups:n,{name:"each",hash:{},fn:e.program(11,s,0),inverse:e.noop,data:s}))?i:""},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,l){var r,o=null!=n?n:e.nullContext||{},c=e.escapeExpression,d=e.lambda;return'<div class="form-horizontal form-bordered">\n\n  \x3c!--div class="form-group" data-key="picManager">\n  </div--\x3e\n  <div class="form-group">\n    <label for="textfield" class="control-label col-sm-2">'+c(s(a(688)).call(o,"_firstName",{name:"L",hash:{},data:l}))+'</label>\n    <div class="first-name col-sm-10">\n      <div class="col-sm-6">\n        <input type="text" value="'+c(d(null!=(r=null!=n?n.user:n)?r.first_name:r,n))+'" class="form-control" name="firstName" data-rule-required="true"\n          data-rule-minlength="3">\n      </div>\n    </div>\n  </div>\n  <div class="form-group">\n    <label for="textfield" class="control-label col-sm-2">'+c(s(a(688)).call(o,"_lastName",{name:"L",hash:{},data:l}))+'</label>\n    <div class="last-name col-sm-10">\n      <div class="col-sm-6">\n        <input type="text" value="'+c(d(null!=(r=null!=n?n.user:n)?r.last_name:r,n))+'" class="form-control" name="lastName" data-rule-required="true"\n          data-rule-minlength="3">\n      </div>\n    </div>\n  </div>\n  <div class="form-group">\n    <label for="textfield" class="control-label col-sm-2">'+c(s(a(688)).call(o,"_login",{name:"L",hash:{},data:l}))+'</label>\n    <div class="user-login col-sm-10">\n      <div class="col-sm-6">\n        <input type="text" value="'+c(d(null!=(r=null!=n?n.user:n)?r.username:r,n))+'" class="form-control" disabled="disabled">\n      </div>\n    </div>\n  </div>\n  <div class="form-group">\n    <label for="textfield" class="control-label col-sm-2">'+c(s(a(688)).call(o,"_password",{name:"L",hash:{},data:l}))+'</label>\n    <div class="user-password col-sm-10">\n      <div class="col-sm-6">\n        <input type="password" value="'+c(d(null!=(r=null!=n?n.user:n)?r.password:r,n))+'" class="form-control" name="password" id="user-password"\n          data-rule-minlength="6">\n      </div>\n    </div>\n  </div>\n  <div class="form-group">\n    <label for="textfield" class="control-label col-sm-2">'+c(s(a(688)).call(o,"_confirmPassword",{name:"L",hash:{},data:l}))+'</label>\n    <div class="user-password-confirm col-sm-10">\n      <div class="col-sm-6">\n        <input type="password" value="'+c(d(null!=(r=null!=n?n.user:n)?r.password:r,n))+'" class="form-control" name="password2" data-rule-minlength="6"\n          data-rule-equalTo="#user-password">\n      </div>\n    </div>\n  </div>\n  <div class="form-group">\n    <label for="textfield" class="control-label col-sm-2">'+c(s(a(688)).call(o,"_email",{name:"L",hash:{},data:l}))+'</label>\n    <div class="user-email col-sm-10">\n      <div class="col-sm-6">\n        <input type="email" value="'+c(d(null!=(r=null!=n?n.user:n)?r.email:r,n))+'" class="form-control" data-rule-required="true"\n          data-rule-minlength="3">\n      </div>\n    </div>\n  </div>\n  <div class="form-group">\n    <label class="control-label col-sm-2">'+c(s(a(688)).call(o,"active",{name:"L",hash:{},data:l}))+'</label>\n    <div class="user-state col-sm-10">\n'+(null!=(r=s(a(689)).call(o,null!=(r=null!=n?n.user:n)?r.active:r,"==",!0,{name:"ifCond",hash:{},fn:e.program(1,l,0),inverse:e.program(3,l,0),data:l}))?r:"")+'    </div>\n  </div>\n  <div class="form-group">\n    <label class="control-label col-sm-2">'+c(s(a(688)).call(o,"_company",{name:"L",hash:{},data:l}))+"<small>"+c(s(a(688)).call(o,"_multipleAssignment",{name:"L",hash:{},data:l}))+'</small></label>\n    <div class="user-cmpy col-sm-10">\n\n      <div class="col-sm-12 add-company" style="margin-bottom: 15px;">\n        <div class="col-sm-4">\n          <select class="select2-me" style="width: 100%;">\n'+(null!=(r=t.each.call(o,null!=n?n.companies:n,{name:"each",hash:{},fn:e.program(5,l,0),inverse:e.noop,data:l}))?r:"")+'          </select>\n        </div>\n        <div class="col-sm-8">\n          <div class="actions user-options">\n            <a href="#" class="btn btn-add-company" style="height:30px; margin-left:10px;">\n              <i class="fa fa-plus"></i></a>\n            <label>'+c(s(a(688)).call(o,"_assignNewCompany",{name:"L",hash:{},data:l}))+'</label>\n          </div>\n        </div>\n      </div>\n\n      <div class="container-fluid">\n        <div class="row cmpy-list">\n          <div class="col-sm-3">'+c(s(a(688)).call(o,"_name",{name:"L",hash:{},data:l}))+'</div>\n          <div class="col-sm-3">'+c(s(a(688)).call(o,"_department",{name:"L",hash:{},data:l}))+'</div>\n          <div class="col-sm-3">'+c(s(a(688)).call(o,"_groups",{name:"L",hash:{},data:l}))+'</div>\n          <div class="col-sm-3">'+c(s(a(688)).call(o,"_options",{name:"L",hash:{},data:l}))+"</div>\n        </div>\n      </div>\n"+(null!=(r=t.each.call(o,null!=(r=null!=n?n.user:n)?r.companies:r,{name:"each",hash:{},fn:e.program(7,l,0),inverse:e.noop,data:l}))?r:"")+"    </div>\n  </div>\n</div>\n"},useData:!0})},1929:function(e,n,a){var t=a(690);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(t.default||t).template({1:function(e,n,a,t,s){var i=e.lambda,l=e.escapeExpression;return'        <div data-value="'+l(i(null!=n?n.id:n,n))+'">'+l(i(null!=n?n.name:n,n))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,l){var r,o=e.lambda,c=e.escapeExpression,d=null!=n?n:e.nullContext||{};return'<div class="container-fluid">\n  <hr />\n  <div class="row user-company-items">\n    <div class="col-sm-3 user-company-assigned" data-value=\''+c(o(null!=(r=null!=n?n.company:n)?r.id:r,n))+"'>\n      "+c(o(null!=(r=null!=n?n.company:n)?r.name:r,n))+'\n    </div>\n    <div class="col-sm-3 user-rol">\n      <a href="#" class="editable editable-click" data-type="checklist" data-original-title=\''+c(s(a(688)).call(d,"_department",{name:"L",hash:{},data:l}))+"'>\n"+(null!=(r=t.each.call(d,null!=n?n.department:n,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?r:"")+'      </a>\n    </div>\n    <div class="col-sm-3 user-group">\n      <a href="#" class="editable editable-click" data-type="checklist" data-original-title=\''+c(s(a(688)).call(d,"_groups",{name:"L",hash:{},data:l}))+"'>\n"+(null!=(r=t.each.call(d,null!=n?n.groups:n,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?r:"")+'      </a>\n    </div>\n    <div class="col-sm-3">\n      <a href="#" class="btn btn-removeCompany"><i class="fa fa-minus"></i></a>\n    </div>\n  </div>\n</div>'},useData:!0})},710:function(e,n,a){var t=a(690);e.exports=(t.default||t).template({compiler:[7,">= 4.0.0"],main:function(e,n,a,t,s){var i,l=null!=n?n:e.nullContext||{},r=a.helperMissing,o=e.escapeExpression;return'<div class="abm-base-tmp '+o("function"==typeof(i=null!=(i=a.tmpClass||(null!=n?n.tmpClass:n))?i:r)?i.call(l,{name:"tmpClass",hash:{},data:s}):i)+' container-fluid mainTask" data-id="'+o("function"==typeof(i=null!=(i=a.id||(null!=n?n.id:n))?i:r)?i.call(l,{name:"id",hash:{},data:s}):i)+'" data-rel="'+o("function"==typeof(i=null!=(i=a.dataRel||(null!=n?n.dataRel:n))?i:r)?i.call(l,{name:"dataRel",hash:{},data:s}):i)+'" data-type="tab-content">\n    <div class="row">\n        <div class="col-sm-12">\n            <div class="box">\n                <div class="box-title">\n                    <h3><i class="fa fa-th-list"></i>'+o("function"==typeof(i=null!=(i=a.title||(null!=n?n.title:n))?i:r)?i.call(l,{name:"title",hash:{},data:s}):i)+'</h3>\n                    <div class="actions abm-top-options">\n                        <a href="#" class="btn btn-close"><i class="fa fa-times"></i></a>\n                    </div>\n                </div>\n        <div class="box-content nopadding abm-content">\n\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'},useData:!0})},719:function(e,n,a){"use strict";(function(t){var s,i=a(693);void 0===(s=function(){return t.Model.extend({list:function(e,n){(0,i.send)("users/?page=1",null,{type:"GET",contentType:"application/json;charset=utf-8",dataType:"text"},n)},listByCompany:function(e){(0,i.send)("usercompanies/list_by_company_id/",null,{type:"GET",contentType:"application/json;charset=utf-8",dataType:"text"},e)},get:function(e,n){(0,i.send)("users/".concat(e,"/"),null,{type:"GET",contentType:"application/json;charset=utf-8",dataType:"text"},n)},update:function(e,n,a){(0,i.send)("users/".concat(e,"/"),n,{type:"PUT",contentType:"application/json;charset=utf-8",dataType:"text"},a)},EditProfile:function(e,n){(0,i.send)("users/".concat(e.id,"/"),JSON.stringify(e),{type:"PATCH",contentType:"application/json;charset=utf-8",dataType:"text"},n)},create:function(e,n){(0,i.send)("usercompanies/",JSON.stringify(e),{type:"POST",contentType:"application/json;charset=utf-8",dataType:"text"},n)},partialUpdate:function(e,n,a){(0,i.send)("usercompanies/".concat(e,"/"),JSON.stringify(n),{type:"PATCH",contentType:"application/json;charset=utf-8",dataType:"text"},a)},deleteUser:function(e,n){(0,i.send)("users/".concat(e,"/"),null,{type:"DELETE"},n)},deleteUserCompany:function(e,n){(0,i.send)("usercompanies/".concat(e,"/"),null,{type:"DELETE"},n)},UpdateUserPreference:function(e,n){var a={userCompanyId:__currentSession.userId,preferenceCode:e,value:n};(0,i.send)("user/UpdateUserPreference",a,{type:"PUT"})},GetUserPreference:function(e,n){(0,i.send)("usercompanies/preference_by_code/?code=".concat(e),null,{type:"GET"},n)},GetRelatedDashboard:function(e){(0,i.send)("user/GetRelatedDashboard",null,null,e)}})}.apply(n,[]))||(e.exports=s)}).call(this,a(218))},725:function(e,n,a){var t=a(690);function s(e){return e&&(e.__esModule?e.default:e)}e.exports=(t.default||t).template({compiler:[7,">= 4.0.0"],main:function(e,n,t,i,l){var r=null!=n?n:e.nullContext||{},o=e.escapeExpression;return'<form action="#" id="baseForm" method="POST" class=\'form-horizontal form-bordered form-validate\' novalidate="novalidate">\n    <div class="form-content">\n\n    </div>\n    <div class="submit form-actions col-sm-12">\n        <button type="submit" class="btn btn-primary btn-save">'+o(s(a(688)).call(r,"_save",{name:"L",hash:{},data:l}))+'</button>\n        <button type="button" class="btn btn-cancel">'+o(s(a(688)).call(r,"cancel",{name:"L",hash:{},data:l}))+"</button>\n    </div>\n</form>\n"},useData:!0})},726:function(e,n,a){"use strict";(function(t){var s,i=a(693);void 0===(s=function(){return t.Model.extend({list:function(e){(0,i.send)("companies/?limit=1000&offset=0",null,null,e)},getCompany:function(e,n){(0,i.send)("companies/".concat(e,"/"),null,null,n)},update:function(e,n,a){(0,i.send)("companies/".concat(e,"/"),JSON.stringify(n),{type:"PUT",contentType:"application/json;charset=utf-8",dataType:"text"},a)},partialUpdate:function(e,n,a){(0,i.send)("companies/".concat(e,"/"),JSON.stringify(n),{type:"PATCH",contentType:"application/json;charset=utf-8",dataType:"text"},a)},create:function(e,n){(0,i.send)("companies/",e,{type:"POST"},n)},delete:function(e,n){(0,i.send)("companies/".concat(e,"/"),null,{type:"DELETE"},n)},UpdateCompanyPreference:function(e,n,a){var t={companyId:__currentSession.companyId,preferenceCode:e,value:n};(0,i.send)("company/UpdateCompanyPreference",t,{type:"PUT"},a)},GetCompanyPreference:function(e,n){(0,i.send)("companies/preference_by_code/?code=".concat(e),null,{type:"GET"},n)},sendTestEmail:function(e,n){(0,i.send)("company/SendTestEmail",e,{type:"PUT"},n)},getLicenceKey:function(e,n){(0,i.send)("company/GetLK/"+e,null,null,n)},setLicenceKey:function(e,n){(0,i.send)("company/SetLK/",e,{type:"POST"},n)}})}.apply(n,[]))||(e.exports=s)}).call(this,a(218))}}]);