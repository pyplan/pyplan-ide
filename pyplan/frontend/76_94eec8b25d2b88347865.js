/*! Copyright Pyplan 2020. All rights reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[76,32],{1002:function(t,n,e){"use strict";(function(o,a){var l,i,d=e(18);l=[e(704),e(707),e(2043)],void 0===(i=function(t,n,l){return o.View.extend({el:a("#main"),_uId:"",workflowModel:new n,workflowController:new t,edit:!1,render:function(t){a("#mainLoading").show(),a("div[data-rel='abm-states']").remove();var n=this;this._uId=a.uuid();var e={id:this._uId,title:"New Status"};t&&(e.title="Edit Status",e.edit=!0,this.edit=!0);var o=l(e);n.$el.append(o),a("div[data-id='"+n._uId+"']").find(".colorpicker").spectrum({color:"#f00",preferredFormat:"hex"}),this.edit&&this.workflowModel.getState(t,function(t){a("div[data-id='"+n._uId+"']").find("#txtId").val(t.taskStateId),a("div[data-id='"+n._uId+"']").find("#txtName").val(t.name),a("div[data-id='"+n._uId+"']").find(".colorpicker").spectrum({color:t.color})}),a("div[data-id='"+n._uId+"']").find("#txtName").focus(),(0,d.postRender)(n.$el.find("div[data-id='"+n._uId+"']")),n.addHandlers(),a("#mainLoading").hide()},save:function(){var t=this._uId,n=this,e=a("div[data-id='"+t+"']").find("form");if(!a(e).validate().errorList.length>0){var o={taskStateId:a("div[data-id='"+t+"']").find("#txtId").val(),name:a("div[data-id='"+t+"']").find("#txtName").val(),color:a("div[data-id='"+t+"']").find("#txtColor").spectrum("get").toHex()};a('.container-fluid.mainTask[data-id="'+n._uId+'"]').remove(),this.edit?this.workflowModel.updateState(o,function(t){n.workflowController.showStatesManager()}):this.workflowModel.createState(o,function(t){n.workflowController.showStatesManager()})}},cancel:function(t){a('.container-fluid.mainTask[data-id="'+t._uId+'"]').remove(),Promise.resolve().then(function(){var t=[e(704)];(function(t){(new t).showStatesManager()}).apply(null,t)}).catch(e.oe)},addHandlers:function(){var t=this;a("div[data-id='"+this._uId+"']").find("form").on("submit",a.proxy(function(){return this.save(),!1},this)),a("div[data-id='"+this._uId+"']").find(" button.btn-cancel").on("click",function(){return t.cancel(t),!1}),a("div[data-id='"+this._uId+"']").find("div.abm-top-options a.btn-close").on("click",function(){return t.cancel(t),!1})}})}.apply(n,l))||(t.exports=i)}).call(this,e(218),e(1))},2043:function(t,n,e){var o=e(690);function a(t){return t&&(t.__esModule?t.default:t)}t.exports=(o.default||o).template({1:function(t,n,e,o,a){return'\n              <div class="form-group" >\n                <label for="textfield" class="control-label col-sm-2">Id</label>\n                <div class="user-name col-sm-10">\n                  <div class="input-group">\n                  <input type="text" class="form-control"\n                    name="txtId"\n                    id="txtId" readonly="true" disabled="true">\n                  </div>\n                </div>\n              </div>\n\n'},compiler:[7,">= 4.0.0"],main:function(t,n,o,l,i){var d,s=t.lambda,r=t.escapeExpression,u=null!=n?n:t.nullContext||{};return'<div class="container-fluid mainTask" data-rel="abm-state" data-id="'+r(s(null!=n?n.id:n,n))+'" data-type="tab-content">\n\n  <div class="page-header">\n  </div>\n\n  <div class="row">\n\n    <div class="col-sm-12">\n      <div class="box">\n        <div class="box-title">\n\n          <h3><i class="fa fa-th-list"></i>'+r(s(null!=n?n.title:n,n))+'</h3>\n          <div class="actions abm-top-options">\n            <a href="#" class="btn btn-close"><i class="fa fa-times"></i></a>\n          </div>\n        </div>\n\n        <div id="state-manager-content" data-id="'+r(s(null!=n?n.id:n,n))+'" class="box-content nopadding abm-content">\n          <form action="#" id="stateForm" method="POST" class=\'form-horizontal form-bordered form-validate\' novalidate="novalidate">\n\n'+(null!=(d=o.if.call(u,null!=n?n.edit:n,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?d:"")+'\n              <div class="form-group">\n                <label for="textfield" class="control-label col-sm-2">Status</label>\n                <div class="user-login col-sm-10">\n                  <div class="input-group">\n                  <input type="text" placeholder="Status..." class="form-control"\n                    name="txtName"\n                    id="txtName"\n                    data-rule-required="true" data-rule-minlength="3">\n                </div>\n                </div>\n              </div>\n\n              <div class="form-group">\n                <label for="textfield" class="control-label col-sm-2">Color</label>\n                <div class="user-password col-sm-10">\n                <div class="input-group">\n                  <input type="text" placeholder="Color..." class="form-control colorpicker"\n                    name="txtColor"\n                    id="txtColor">\n                </div>\n                </div>\n              </div>\n\n              <div class="form-group">\n                <label for="textfield" class="control-label col-sm-2"></label>\n                <div class="user-password col-sm-10">\n                  <button type="submit" class="btn btn-primary btn-save">'+r(a(e(688)).call(u,"_save",{name:"L",hash:{},data:i}))+'</button>\n                  <button type="button" class="btn btn-cancel">'+r(a(e(688)).call(u,"cancel",{name:"L",hash:{},data:i}))+"</button>\n                </div>\n              </div>\n\n          </form>\n\n\n        </div>\n\n      </div>\n    </div>\n  </div>\n</div>\n"},useData:!0})},707:function(t,n,e){"use strict";(function(o){var a,l=e(693);void 0===(a=function(){return o.Model.extend({url:"myFileManager",getWorkflow:function(t,n){var e="Workflow/getWorkflow";t&&(e="Workflow/getWorkflow/"+t),(0,l.send)(e,null,{type:"GET"},n)},createTask:function(t,n){(0,l.send)("Workflow/createTask",t,{type:"POST"},n)},updateTask:function(t,n){(0,l.send)("Workflow/updateTask",t,{type:"PUT"},n)},updateTasksProperty:function(t,n){(0,l.send)("Workflow/updateTasksProperty",t,{type:"PUT"},n)},deleteTask:function(t,n){(0,l.send)("Workflow/deleteTask/"+t,null,{type:"DELETE"},n)},getTask:function(t,n){(0,l.send)("Workflow/getTask/"+t,null,null,n)},createState:function(t,n){(0,l.send)("Workflow/createState/",t,{type:"POST"},n)},listStates:function(t){(0,l.send)("Workflow/listStates",null,{type:"GET"},t)},getState:function(t,n){(0,l.send)("Workflow/getState/"+t,null,{type:"GET"},n)},updateState:function(t,n){(0,l.send)("Workflow/updateState",t,{type:"PUT"},n)},deleteState:function(t,n){(0,l.send)("Workflow/deleteState/"+t,null,{type:"DELETE"},n)},listTransitions:function(t){(0,l.send)("Workflow/listTransitions",null,{type:"GET"},t)},createTransition:function(t,n){(0,l.send)("Workflow/createTransition",t,{type:"POST"},n)},updateTransition:function(t,n){(0,l.send)("Workflow/updateTransition",t,{type:"PUT"},n)},deleteTransition:function(t,n){(0,l.send)("Workflow/deleteTransition/"+t,null,{type:"DELETE"},n)},listUsers:function(t){(0,l.send)("Workflow/listUsers",null,null,t)},getTaskGroup:function(t,n){(0,l.send)("Workflow/getTaskGroup/"+t,null,{type:"GET"},n)},listTaskGroups:function(t){(0,l.send)("Workflow/listTaskGroups",null,{type:"GET"},t)},createTaskGroup:function(t,n){(0,l.send)("Workflow/createTaskGroup",t,{type:"POST"},n)},updateTaskGroup:function(t,n){(0,l.send)("Workflow/updateTaskGroup",t,{type:"PUT"},n)},deleteTaskGroup:function(t,n){(0,l.send)("Workflow/DeleteTaskGroup/"+t,null,{type:"DELETE"},n)},updateOrder:function(t,n){(0,l.send)("Workflow/ChangeOrder",{values:t},{type:"PUT"},n)},updateRolTransitions:function(t,n){(0,l.send)("Workflow/updateRolTransitions",t,{type:"PUT"},n)},getWorkflowByGroups:function(t,n){(0,l.send)("Workflow/getWorkflowByGroups/",{values:t},{type:"POST"},n)},createComment:function(t,n){(0,l.send)("Workflow/createComment/",t,{type:"POST"},n)}})}.apply(n,[]))||(t.exports=a)}).call(this,e(218))}}]);