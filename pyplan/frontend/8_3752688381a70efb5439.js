/*! Copyright Pyplan 2020. All rights reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{707:function(t,e){t.exports=function(){return""}},729:function(t,e,i){"use strict";(function(r,s,a){var n,l,o=i(18);n=[i(720),i(707)],void 0===(l=function(t,e){return t.extend({el:r("#n_o_n_e"),chart:void 0,drilldownData:void 0,inDrillUp:!1,preventDrilldown:!1,sizeDic:{0:{w:0,h:60,hideDetail:!0,hideLegend:!0,hideXTitle:!0,hideXAxis:!0},1:{w:0,h:170,hideDetail:!0,hideLegend:!0,hideXTitle:!0},2:{w:300,h:180,hideDetail:!0,hideLegend:!0},3:{w:220,h:220,hideDetail:!0},99:{w:9999,h:9999}},sizeTransition:{default:{reload:!0}},getColumnLimits:function(){return{1:5e3,5:3e3,10:1e3,1000:500}},render:function(t){this.baseRender(t),this.drawItem()},baseUpdateSize:function(){r(this.tagId).find(".detail-area").is(":visible")&&(r(this.tagId).find(".detail-area").height(),r(this.tagId).find(".detail-area").css("font-size",11*this.maxScaleFactorW+"px")),r(this.tagId).find(".item-area").hasClass("fullSize")||r(this.tagId).find(".item-area").hasClass("extrafullSize");var t=Math.min(this.maxScaleFactorH,this.maxScaleFactorW);r(this.tagId).find(".item-title").css("font-size",15*t+"px"),r(this.tagId).find(".item-area").css("top",23*t+"px"),r(this.tagId).find(".time-frame .fa-calendar").css("font-size",12*t+"px"),r(this.tagId).find(".item-title .knowledge-arrow").css("line-height",21*t+"px"),this.checkSizeDic()},updateSize:function(t,e,i){if(void 0!=this.chart&&r(this.tagId).length>0){if(void 0==t&&(t=r(this.tagId).width()),void 0==e){var s=r(this.tagId).find(".ui-sortable").height()>15?35:20;e=r(this.tagId).height()-s}void 0==i&&(i=!1),this.chart.setSize(t,e-35,i),this.positionHideAllButton()}},updateValues:function(t){for(this.resetDrilldown(),this.currentResult&&this.currentResult.itemProperties&&this.currentResult.itemProperties.emptyTotal&&this.filterEmptyData(t);this.chart.series.length;)this.chart.series[0].remove(!1);this.chart.hasOwnProperty("counters")?(this.chart.counters.color=0,this.chart.counters.symbol=0):this.chart.hasOwnProperty("colorCounter")&&(this.chart.colorCounter=0,this.chart.symbolCounter=0),t.series.length>200&&(t.series=t.series.slice(0,200)),this.applyColorSeries(t.series),this.applyStyleSeries(t),this.chart.xAxis.length>0&&this.chart.xAxis[0].setCategories(t.columns.categories);for(var e=0;e<t.series.length;e++)this.chart.addSeries(t.series[e],!1,!1);if(this.currentResult.itemProperties.axes.xAxesAsValues)try{this.chart.axes[0].categories=null,this.chart.xAxis[0].categories=null}catch(t){}this.applyAxisTitles(),this.chart.redraw(),this.addHideAllButton(),this.isReady=!0},onRemoveItemView:function(){this.chart&&this.chart.destroy(),this.drilldownData=null},onEndFullScreenAnimation:function(){this.recreateChart()},onEndNormalScreenAnimation:function(){this.recreateChart()},editModeChanged:function(){this.editMode&&this.resetDrilldown()},recreateItemDash:function(){this.recreateChart()},getOptionsMenu:function(){var t=this,e={callback:function(e){switch(e){case"_full":t.fullScreen();break;case"_view_detail":t.toggleViewDetail(!0);break;case"_export":t.exportItem();break;case"_exportpng":if(void 0!=t.chart){var i="chart";try{i=t.currentResult.itemProperties.title.text}catch(t){}i=i.replace('"',"").replace(":","");var s={chart:{backgroundColor:"#ffffff"}};t.preventDrilldown&&(s.legend={enabled:!1}),t.chart.exportChartLocal({filename:i},s)}break;case"_knowledge":t.openDocumentationModal();break;case"_workflow":t.addTask();break;case"_view_in_diagram":t.viewInDiagram();break;case"_tableToRight":case"_tableToBottom":r(t.tagId).find(".splitWidgetRight").attr("graph","table"),r(t.tagId).find(".splitWidgetBottom").attr("graph","table"),"_tableToRight"==e?r(t.tagId).find(".splitWidgetRight").click():r(t.tagId).find(".splitWidgetBottom").click()}},items:{_full:{type:"icon_text",name:(0,o.translate)("fullscreen"),iconClass:"fa fa-expand"},_view_detail:{type:"icon_text",name:(0,o.translate)("toggle_index_detail"),iconClass:"fa fa-info-circle"},sep1:"---------",_export:{type:"icon_text",name:(0,o.translate)("_export"),iconClass:"fa fa-download"},_exportpng:{type:"icon_text",name:(0,o.translate)("generate_png"),iconClass:"fa fa-image"},sep2:"---------",_splitBy:{name:(0,o.translate)("split_table"),iconClass:"fa fa-bar-table",items:{_tableToRight:{type:"icon_text",name:(0,o.translate)("to_right"),iconClass:"fa fa-caret-square-o-right"},_tableToBottom:{type:"icon_text",name:(0,o.translate)("to_bottom"),iconClass:"fa fa-caret-square-o-down"}}}}};return e.items._knowledge={type:"icon_text",name:(0,o.translate)("documentation"),iconClass:"fa fa-graduation-cap"},(0,o.haveAnyAccess)("LISTASSIGNEDWORKFLOWTASKS,LISTALLWORKFLOWTASKS")&&(e.items._workflow={type:"icon_text",name:(0,o.translate)("workflow"),iconClass:"fa fa-tasks"}),(0,o.haveAccess)("view_influence_diagram")&&(e.items._view_in_diagram={type:"icon_text",name:(0,o.translate)("view_in_diagram"),iconClass:"fa fa-sitemap"}),t.fromEmbedded&&(delete e.items.sep2,delete e.items._splitBy,delete e.items._knowledge,delete e.items._workflow,delete e.items._view_in_diagram),e},addTask:function(){var t=this;i.e(10).then(function(){var e=[i(703)];(function(e){(new e).showAddTaskForNode(t.currentNodeId)}).apply(null,e)}).catch(i.oe)},getStylesUsed:function(){var t=[];return this.currentResult&&this.currentResult.itemProperties&&this.currentResult.itemProperties.colorSerie&&"-1"!=this.currentResult.itemProperties.colorSerie&&t.push(this.currentResult.itemProperties.colorSerie),t},exportItem:function(){var t,e=this.currentNodeId;this.currentResult.itemProperties&&(t=this.currentResult.itemProperties.summaryBy);var r={dims:this.currentResult.dims,rows:this.currentResult.rows,columns:this.currentResult.columns,summaryBy:t};i.e(11).then(function(){var t=[i(696)];(function(t){(new t).exportNode(e,r)}).apply(null,t)}).catch(i.oe)},drawItem:function(){var t=e();r(this.tagId).find(".item-area").empty(),r(this.tagId).find(".item-area").html(t),this.drawChart(r(this.tagId).find(".item-area").first()),this.chart=r(this.tagId).find(".item-area").highcharts(),this.addHideAllButton()},drawChart:function(t){},applyDefaultProperties:function(t){},setAxesRange:function(t){return void 0!=t.categories&&("string"==typeof t.min&&(t.min=-1!=t.categories.indexOf(t.min)?t.categories.indexOf(t.min):null),"string"==typeof t.max&&(t.max=-1!=t.categories.indexOf(t.max)?t.categories.indexOf(t.max):null)),t},getExtraChartOptions:function(t){return{}},updateItemProperties:function(){this.chart&&this.currentResult&&this.currentResult.itemProperties&&(this.chart.destroy(),this.drawItem())},recreateChart:function(){this.chart.destroy(),this.drawItem(),r(this.tagId).trigger("evaluateNodeFromCurrentResult")},setCustomColorSerie:function(t){this.currentResult.itemProperties.colorSerie=t,this.recreateChart()},updateStyleLibraries:function(t){this.recreateChart()},setChartZoom:function(t){this.currentResult.itemProperties.zoom=t,this.recreateChart()},setEmptyTotal:function(t){this.currentResult&&this.currentResult.itemProperties&&(this.currentResult.itemProperties.emptyTotal=t,this.recreateChart())},setChartMarkers:function(t){this.currentResult.itemProperties.hasOwnProperty("markers")?this.currentResult.itemProperties.markers.enabled=t:this.currentResult.itemProperties.markers={enabled:t},this.recreateChart()},setChartLabel:function(t,e){this.currentResult.itemProperties.hasOwnProperty("labels")?this.currentResult.itemProperties.labels.enabled=t:this.currentResult.itemProperties.labels={enabled:t},void 0!=e&&(this.currentResult.itemProperties.labels.inside=e),this.recreateChart()},setChartLegend:function(t){},setChartLegendPosition:function(t,e){this.currentResult.itemProperties.hasOwnProperty("legend")?this.currentResult.itemProperties.legend.enabled=t:this.currentResult.itemProperties.legend={enabled:t},this.chart.options.legend.enabled=t;var i="vertical",r="right",s="middle";switch(e){case"top":i="horizontal",r="center",s="top";break;case"bottom":i="horizontal",r="center",s="bottom";break;case"left":r="left"}this.chart.options.legend.layout=i,this.chart.options.legend.align=r,this.chart.options.legend.verticalAlign=s,this.chart.options.legend.y=0,this.currentResult.itemProperties.legend.layout=i,this.currentResult.itemProperties.legend.align=r,this.currentResult.itemProperties.legend.verticalAlign=s,this.currentResult.itemProperties.legend.y=0,this.recreateChart()},setAxisRange:function(t){var e,i,s,a,n=!1;e=r(t).find("input.axis-xmin").val(),i=r(t).find("input.axis-xmax").val(),s=r(t).find("input.axis-ymin").val(),a=r(t).find("input.axis-ymax").val(),e=""==e?null:e,i=""==i?null:i,s=""==s?null:s,a=""==a?null:a,e||i||s||a?n=!0:e=i=s=a=null,this.currentResult.itemProperties.axes.enabled=n,this.currentResult.itemProperties.axes.xAxis.min=e,this.currentResult.itemProperties.axes.xAxis.max=i,this.currentResult.itemProperties.axes.yAxis.min=s,this.currentResult.itemProperties.axes.yAxis.max=a,this.chart.options.xAxis[0].min=e,this.chart.options.xAxis[0].max=i,this.chart.options.yAxis[0].min=s,this.chart.options.yAxis[0].max=a,this.recreateChart()},setAxisLabelsAngle:function(t,e,i){var r,s,a,n=this.chart.options,l=this.currentResult.itemProperties.axes;"x"==i?(r=n.xAxis[0].labels,s=l.xAxis.labels,t?(a="center",e=0):a=e>0?"left":"right"):(r=n.yAxis[0].labels,s=l.yAxis.labels,a="right",t&&(e=0)),r.align=a,r.rotation=e,s.align=a,s.rotation=e,this.recreateChart()},setAxisLabelsVisibility:function(t,e){var i,r,s=this.chart.options,a=this.currentResult.itemProperties.axes;"x"==t?(i=s.xAxis[0].labels,r=a.xAxis.labels,s.xAxis[0].labels.enabled=e):(i=s.yAxis[0].labels,r=a.yAxis.labels,s.yAxis[0].labels.enabled=e),i.enabled=e,r.enabled=e,this.recreateChart()},setAxisTitleVisibility:function(t,e){var i=this.currentResult.itemProperties.axes;"x"==t?i.xAxis.showTitle=e:i.yAxis.showTitle=e,this.recreateChart()},setXAsValues:function(t){this.currentResult.itemProperties.axes.xAxesAsValues=t,this.recreateChart()},changeToTimeGraph:function(t){this.currentResult.itemProperties.timeChart.active=t,this.recreateChart()},setDonut:function(t){this.currentResult.itemProperties.donut=t,this.recreateChart()},setSubtitle:function(t){this.currentResult.itemProperties.hasOwnProperty("subtitle")?this.currentResult.itemProperties.subtitle.enabled=t:this.currentResult.itemProperties.subtitle={enabled:t},this.chart.options.subtitle.enabled=t,this.recreateChart()},setYAxisTitle:function(t){if(this.chart)if(this.chart.length>0)for(var e=0;e<this.chart.length;e++)this.chart[e].options.yAxis[0].title.text=t;else this.chart.options.yAxis[0].title.text=t;this.currentResult.itemProperties.axes.yAxis.title.text=t,this.recreateChart()},setChartDrilldown:function(t){this.currentResult.itemProperties.drilldown=t},setChartGrouping:function(t){this.currentResult.itemProperties.grouping=t,this.recreateChart()},setIndexEvent:function(t,e){this.currentResult.itemProperties.indexEvents||(this.currentResult.itemProperties.indexEvents={}),e?delete this.currentResult.itemProperties.indexEvents[t]:this.currentResult.itemProperties.indexEvents[t]=!0},configCategories:function(){var t=this;i.e(79).then(function(){var e=[i(1303)];(function(e){(new e).showConfigCategoriesPopup(t)}).apply(null,e)}).catch(i.oe)},applyColorSeries:function(t){if(this.currentResult&&this.currentResult.itemProperties&&this.currentResult.itemProperties.colorSerie&&"-1"!=this.currentResult.itemProperties.colorSerie){var e=this.model.getStyleLibrary(this.currentResult.itemProperties.colorSerie);if(e){var i={};r.each(e,function(t,e){i[e.value.toLowerCase()]=e.color});for(var s=0;s<t.length;s++){var a=t[s].name.toString().toLowerCase();i[a]?t[s].color=i[a]:delete t[s].color}}}},applyStyleSeries:function(t){var e=this.currentResult.itemType,i=this,s=.48/t.series.length,a=!1;"scatterchart"!==e&&"linechart"!==e&&"barchart"!==e&&"columnchart"!==e&&"barchartstacked"!==e&&"columnchartstacked"!==e&&"columnchartpercent"!==e||this.currentResult&&this.currentResult.itemProperties&&this.currentResult.itemProperties.axes&&this.currentResult.itemProperties.axes.xAxesAsValues&&(a=!0),r.each(t.series,function(e,r){r.turboThreshold=0,!0===i.currentResult.itemProperties.grouping&&(r.pointPadding=s*e);for(var n=0;n<r.data.length;n++)r.data[n]={y:null===r.data[n]?null:parseFloat(r.data[n]),name:t.columns.categories[n],drilldown:!0},a&&(delete r.data[n].name,r.data[n].x=t.columns.categories[n])})},drilldown:function(t){if(this.preventDrilldown)return!1;if(this.currentResult&&this.currentResult.itemProperties&&this.currentResult.itemProperties.drilldown&&!(this.currentResult.itemProperties.timeChart&&this.currentResult.itemProperties.timeChart.active||t.seriesOptions||t.points)){var e=this,i=[],a=this.getIndexes();r.each(a,function(t,r){if(r.field!=e.getRowIndexField()&&r.field!=e.getColumnIndexField()){var s=!1;if(e.drilldownData&&e.drilldownData.length>0)for(var a=0;a<e.drilldownData.length;a++)if(e.drilldownData[a].index.field==r.field){s=!0;break}s||i.push(r)}});var n=this.getCategoryDrilldown(t),l=this.getSerieDrilldown(t);if(i.length>0)if((i=s.sortBy(i,"name")).length>1){var h=this.tagId;r.contextMenu("destroy",h),r.contextMenu({selector:h,className:"context-menu-data-title",callback:function(r,s){e.queryForDrilldown(t,i[r],n,l),e=null},items:i,events:{hide:function(t){r.contextMenu("destroy",h)}},zIndex:0});var d=(t.clientY?t.clientY:t.originalEvent.clientY)-document.body.getBoundingClientRect().top;r(h).contextMenu({x:window.__mouseEvent.clientX,y:d}),r(".context-menu-data-title").attr("data-menutitle",(0,o.translate)("drilldown_by"))}else this.queryForDrilldown(t,i[0],n,l)}},drillup:function(t){if(this.drilldownData&&this.drilldownData.length>0){var e=this.drilldownData.pop();this.updateDrilldownBreadcrumbs(!0),this.inDrillUp||this.model.syncDrillUp(e.index.field,this.tagId)}},queryForDrilldown:function(t,e,i,s,a){if(this.chart.xAxis.length>0){var n={index:e,breadcrumbs:""},l=[],h=[],d=[];if(h.push(r.extend({},e)),this.drilldownData&&this.drilldownData.length>0){(c=r.extend({},this.drilldownData[this.drilldownData.length-1].index)).values=[{value:i,selected:!0}],l.push(c),d.push(c),n.breadcrumbs=c.name+" ("+i+")"}else{var c;if(this.getColumnIndex())(c=r.extend({},this.getColumnIndex())).values=[{value:i,selected:!0}],d.push(c),l.push(c),n.breadcrumbs+=c.name+" ("+i+")";if(this.getRowIndex())(c=r.extend({},this.getRowIndex())).values=[{value:s,selected:!0}],l.push(c),d.push(c),""!=n.breadcrumbs&&(n.breadcrumbs+=" > "),n.breadcrumbs+=c.name+" ("+s+")"}if(this.drilldownData&&this.drilldownData.length>0){var u=this.drilldownData[this.drilldownData.length-1];r.each(u.dims,function(t,e){l.push(e)})}n.dims=r.extend({},l);var p=this.getIndexes();r.each(p,function(t,e){var i=!1;if(h[0].field!=e.field){for(var r=0;r<l.length;r++)if(l[r].field==e.field){i=!0;break}i||l.push(e)}}),a||this.model.syncDrilldown(d,e.field,this.tagId);var m="sum";this.currentResult&&this.currentResult.itemProperties&&this.currentResult.itemProperties.summaryBy&&(m=this.currentResult.itemProperties.summaryBy);var f=this.getTimeFrame();this.chart.showLoading((0,o.translate)("loading"));var g=this;this.model.evaluateNode(this.currentNodeId,l,[],h,function(i){if(g.currentResult.itemProperties.emptyTotal&&g.filterEmptyData(i),g.chart.hideLoading(),g.drilldownData||(g.drilldownData=[]),g.drilldownData.push(n),i&&i.columns&&i.columns.categories&&i.series.length>0&&i.columns.categories.length==i.series[0].data.length){for(var r={name:e.name,data:[]},s=0;s<i.columns.categories.length;s++){var a={name:i.columns.categories[s],y:i.series[0].data[s],drilldown:!0};r.data.push(a)}g.chart.xAxis.length>0&&g.chart.xAxis[0].setCategories(null),g.chart.addSeriesAsDrilldown(t.point,r),g.updateDrilldownBreadcrumbs()}},!1,null,m,-1,-1,!1,!1,f.timeFormat,f.timeFormatType,f.calendarType)}},updateDrilldownBreadcrumbs:function(t){var e="";if(r(this.tagId).find(".info-area").empty(""),this.drilldownData&&this.drilldownData.length>0){var i=[];r.each(this.drilldownData,function(t,s){""!=e&&(e+=" > "),e+=s.breadcrumbs,i.push(s.index.field),r.each(s.dims,function(t,e){i.push(e.field)})});var s="",a=this.getIndexes();a&&(r.each(a,function(t,e){if(-1==i.indexOf(e.field)){var a=0,n="",l=(0,o.translate)("all");r.each(e.values,function(t,e){e.selected&&(a++,""!=n&&(n+=", "),n+=e.value)}),1==a?l=n:a>0&&(l=(0,o.translate)("multiple")),s+=" ",s+=e.name+"("+l+")"}}),s&&(e+=" | "+s)),r(this.tagId).find(".info-area").html(e)}""==e?r(this.tagId).find(".detail-area ul").show():r(this.tagId).find(".detail-area ul").hide(),this.applyAxisTitles(!t);var n=this;setTimeout(function(){n.positionHideAllButton(),n=null},450)},resetDrilldown:function(){if(this.drilldownData&&this.drilldownData.length>0){if(this.chart)for(;this.chart.drilldownLevels.length>0;)this.chart.drillUp();this.drilldownData=null,this.updateDrilldownBreadcrumbs()}},setPositionForDropDetails:function(){var t=r(this.tagId).find(".drop-area"),e=t.find(".for-column"),i=t.find(".for-row");e.find("span").text((0,o.translate)("drop_axis_here")),i.find("span").text((0,o.translate)("drop_serie_here"));var s=r(this.tagId).height()-45;r(this.tagId).find("g.highcharts-xaxis-labels").length,i.css("left","10px").css("top","26px"),i.width(t.width()-20),i.height(s-26),e.css("left","10px").css("top",s+"px"),e.width(t.width()-20);var a=26;this.chart&&this.chart.xAxis&&this.chart.xAxis.length>0&&this.chart.xAxis[0].axisTitle&&this.chart.xAxis[0].axisTitle.textStr&&(a=50),e.height(a)},showHideAllSeries:function(){var t=!1;if(this.chart){var e=this.chart;if(e.series&&e.series.length>0){var i=e.series;"pie"==this.chart.options.chart.type&&(i=e.series[0].points);var s=i[0];s.visible?(r(i).each(function(){this.setVisible(!1,!1)}),e.redraw()):(t=!0,r(i).each(function(){this.setVisible(!0,!1)}),e.redraw()),s=null,i=null}this.prepareForSyncShowHideLegend(),e=null}return t},addHideAllButton:function(){var t=r(this.tagId).find(".item-area");r(this.tagId).find(".item-area .highcharts-legend-title"),r(this.tagId).find(".highcharts-legend div div");if(0==t.find(".showhideserie").length){r("<i class='showhideserie fa fa-eye'></i>").appendTo(t);var e=this;t.find(".showhideserie").on("click",function(){var t=e.showHideAllSeries();r(this).removeClass("fa-eye").removeClass("fa-eye-slash"),t?r(this).addClass("fa-eye"):r(this).addClass("fa-eye-slash")})}else t.find(".showhideserie").addClass("fa-eye").removeClass("fa-eye-slash");t=null,this.positionHideAllButton()},positionHideAllButton:function(){var t=r(this.tagId).find(".item-area .showhideserie");if(t.length>0){0==r(this.tagId).find(".item-area g.highcharts-legend").length||"hidden"==r(this.tagId).find(".item-area g.highcharts-legend").attr("visibility")?t.hide():t.show();var e=r(this.tagId).find(".item-area:first div.highcharts-legend-item:first").parent().parent().parent().position();e&&(t.css("top",e.top+7),t.css("right",0))}},getCategoryDrilldown:function(t){return t.point.name},getSerieDrilldown:function(t){return t.point.series.name},getLabelStyle:function(){var t=a.theme.extraStyles.chartLabels.fontSize.replace("px","");return this.maxScaleFactorW>1&&(t*=this.maxScaleFactorW),{color:"contrast",fontSize:t+"px",fontWeight:"normal",textShadow:"none"}},applyNumberFormat:function(){this.recreateChart()},formatLabel:function(t){return this.createFormatter(),this.numberFormatter.format(t.point.y)},formatTooltip:function(t){this.createFormatter();var e=10;this.maxScaleFactorW>1&&(e*=this.maxScaleFactorW);var i=t.key;this.columnFormatter&&(i=this.columnFormatter.format(i));var r="";return t&&t.series&&(r=t.series.name),r&&this.rowFormatter&&(r=this.rowFormatter.format(r)),'<span style="font-size:'+e+'px">'+i+'</span><br/><span style="color:'+t.point.color+'">‚óè</span> '+r+": <b>"+this.numberFormatter.format(t.point.y)+"</b><br/>"},syncDrilldown:function(t,e,i){if(this.chart){if(this.preventDrilldown)return!1;var r=this.getIndexByField(e);if(r&&t&&t.length>0&&t[0].values&&t[0].values.length>0&&!this.isUnlinkedIndex(e)){var s,a,n;if(1==t.length)if(this.drilldownData&&this.drilldownData.length>0)s=t[0].values[0].value,a=t[0].name,n=!0;else{var l=this.getRowIndexField(),o=this.getColumnIndexField();l!=t[0].field&&l||o!=t[0].field&&o||o==l||(n=!0,s="Total",a=t[0].values[0].value)}else{l=this.getRowIndexField(),o=this.getColumnIndexField();l!=t[0].field&&l!=t[1].field||o!=t[0].field&&o!=t[1].field||(n=!0,s=t[0].values[0].value,a=t[1].values[0].value)}if(n){for(var h={point:!1,category:void 0,points:!1,preventDefault:function(){},seriesOptions:void 0,target:this.chart,type:"drilldown"},d=0;d<this.chart.series.length;d++){if(this.chart.series[d].name==a||this.chart.series[d].name==s||"pie"==this.chart.options.chart.type){if(this.chart.series[d].name==s){var c=a;a=s,s=c}for(var u=0;u<this.chart.series[d].points.length;u++)if(this.chart.series[d].points[u].name==s||this.chart.series[d].points[u].name==a){h.point=this.chart.series[d].points[u];break}}if(h.point)break}h.point&&this.queryForDrilldown(h,r,s,a,!0)}}}},syncDrillup:function(t,e){if(this.chart&&(this.getIndexByField(t)&&!this.isUnlinkedIndex(t)&&this.drilldownData&&this.drilldownData.length>0&&this.drilldownData[this.drilldownData.length-1].index.field==t)){if(this.inDrillUp=!0,this.chart.drilldownLevels.length>0)try{this.chart.drillUp()}catch(t){}this.inDrillUp=!1}},legendClick:function(){var t=this;setTimeout(function(){t.prepareForSyncShowHideLegend(),t=null},100)},prepareForSyncShowHideLegend:function(){if(this.chart){var t=this.chart,e={};if(t.series&&t.series.length>0){var i=t.series;"pie"==this.chart.options.chart.type&&(i=t.series[0].points),r(i).each(function(){e[this.name]=this.visible}),i=null}t=null;var s=this.getRowIndexField();this.model.syncShowHideLegend(s,e,this.tagId)}},syncShowHideLegend:function(t,e,i){var s=this.getRowIndexField();if(this.chart&&s==t&&!this.isUnlinkedIndex(t)){var a=this.chart;if(a.series&&a.series.length>0){var n=a.series;"pie"==this.chart.options.chart.type&&(n=a.series[0].points),r(n).each(function(){e[this.name]?this.setVisible(!0,!1):this.setVisible(!1,!1)}),a.redraw(!0),n=null}a=null}},applyAxisTitles:function(t){if(this.chart){var e=this.getXTitle(),i=this.getLegendTitle();this.chart.xAxis&&this.chart.xAxis.length>0&&this.chart.xAxis[0].setTitle(e,!1),this.chart.legend&&this.chart.legend.title&&this.chart.legend.title.attr({text:i.text});var s=this.chart.legend;this.drilldownData&&this.drilldownData.length>0?s&&s.group&&(s.group.hide(),r(this.tagId).find(".item-area .showhideserie").hide()):this.currentResult&&this.currentResult.itemProperties&&this.currentResult.itemProperties.legend&&this.currentResult.itemProperties.legend.enabled&&s&&s.group&&s.group.show(),t&&this.chart.redraw()}},getXTitle:function(){var t={text:"",style:{color:"#707070",fontWeight:"bold",fontSize:a.theme.extraStyles.legendLabels.fontSize.replace("px","")*this.maxScaleFactorW+"px"}};return this.getSizeKeyProp("hideXTitle")||(this.drilldownData&&this.drilldownData.length>0?t.text=this.drilldownData[this.drilldownData.length-1].index.name:this.getColumnIndex()&&this.currentResult&&this.currentResult.itemProperties&&this.currentResult.itemProperties.axes&&this.currentResult.itemProperties.axes.xAxis&&this.currentResult.itemProperties.axes.xAxis.showTitle&&(t.text=this.getColumnIndex().name)),t},getLabelsStyle:function(){return{fontSize:a.theme.extraStyles.axisLabels.fontSize.replace("px","")*this.maxScaleFactorW+"px"}},getLegendTitle:function(){var t={text:"",style:{color:"#707070",fontWeight:"bold",fontSize:a.theme.extraStyles.legendLabels.fontSize.replace("px","")*this.maxScaleFactorW+"px"}};return this.drilldownData&&0!=this.drilldownData.length||this.getRowIndex()&&this.currentResult&&this.currentResult.itemProperties&&this.currentResult.itemProperties.axes&&this.currentResult.itemProperties.axes.yAxis&&this.currentResult.itemProperties.axes.yAxis.showTitle&&(t.text=this.getRowIndex().name),t},getChartLegend:function(t){t=t?r.extend({},t):{},this.needHideLegend()?(t.enabled=!1,this.hidingLegendBySize=!0):(this.hidingLegendBySize=!1,t.title=this.getLegendTitle(),t.itemStyle={fontSize:11*this.maxScaleFactorW+"px"});var e=this;return t.labelFormatter=function(){return e.rowFormatter?e.rowFormatter.format(this.name):this.name},t.useHTML=!0,t},getSizeKeyProp:function(t){return!!(this.lastSizeKey&&this.sizeDic[this.lastSizeKey]&&this.sizeDic[this.lastSizeKey][t])&&this.sizeDic[this.lastSizeKey][t]},needHideLegend:function(){return this.getSizeKeyProp("hideLegend")}})}.apply(e,n))||(t.exports=l)}).call(this,i(1),i(220),i(26))}}]);