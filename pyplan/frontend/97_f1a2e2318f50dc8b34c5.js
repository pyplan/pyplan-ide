/*! Copyright Pyplan 2020. All rights reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[97],{694:function(e,t,n){var r,i;!function(o,u){if(!o.BackboneMVC){var c=o.BackboneMVC={};r=[n(218),n(220),n(1)],void 0===(i=function(e,t,n){return function(e,t,n,r,i){"use strict";if(void 0===n||void 0===r)return;var o=function(){function e(){this._created=(new Date).getTime()}return r.extend(e.prototype,{_created:null}),e.extend=function(t){var n,i=function(){return void 0!==n?n:(e.apply(this,arguments),void 0!==this.initialize&&this.initialize.apply(this,arguments),n=this)};return i.prototype=new e,r.extend(i.prototype,t),i.prototype.constructor=i,i.prototype.classId=r.uniqueId("controller_"),i},e}();r.extend(t,{namespace:function(t){for(var n=t.split("."),r=e,i=0,o=n.length;i<o;i++)void 0===r[n[i]]&&(r[n[i]]={}),r=r[n[i]]},Controller:{beforeFilter:function(){return(new i.Deferred).resolve()},afterRender:function(){return(new i.Deferred).resolve()},checkSession:function(){return(new i.Deferred).resolve(!0)},default:function(){return!0}},Router:function(){var e={_history:[],routes:{"*components":"dispatch"},dispatch:function(e){var t,n=(e||"").replace(/\/+$/g,"").split("/");if(u[n[0]]?t=n[0]:void 0!==u[l(n[0])]?t=l(n[0]):void 0!==u[f(n[0])]&&(t=f(n[0])),void 0===t)return this[404]();var o=new u[t],c=n.length>1?n[1]:"default";if("function"!=typeof o._actions[c])return this[404]();var p=n.length>2?r.rest(n,2):[];return function(e,t,n,i){e._history.length>888&&(e._history=r.last(e._history,888));e._history.push([t,n,i])}(this,t,c,p),function(e,t,n){var r=new u[e],o=[t].concat(n),c=i.Deferred(),l=r.beforeFilter.apply(r,o);s(l)?c=l:a(c,l);"function"==typeof r._secureActions[t]&&(c=c.pipe(function(){var e=r.checkSession.apply(r,n);return s(e)?e:a(new i.Deferred,e)}));return c=(c=c.pipe(function(){var e=r[t].apply(r,n);return s(e)?e:a(new i.Deferred,e)})).pipe(function(){var e=r.afterRender.apply(r,o);return s(e)?e:a(new i.Deferred,e)})}(t,c,p)},404:function(){},getLastAction:function(){return r.last(this._history,1)[0]},navigate:function(e,t){t&&!0!==t||(t={trigger:t});var o=r.extend({},t);return o.trigger=!1,n.Router.prototype.navigate.call(this,e,o),t.trigger?this.dispatch(e):(new i.Deferred).resolve()}};function t(t){var i=r.extend(t.routes||{},e.routes);return n.Router.extend(r.extend({},e,t,{routes:i}))}var o=n.Router.extend(r.extend({extend:t},e));return o.extend=t,o}(),Model:{extend:function(e){return e=r.extend({__fetchSuccessCallback:null,__fetchErrorCallback:null,fetch:function(e){var t=(e=e||{}).success;e.success=function(e,n){if(t&&t(e,n),e.__fetchSuccessCallback){var r=e.__fetchSuccessCallback;e.__fetchSuccessCallback=null,r.apply(e)}};var i=e.error;e.error=function(e,t){i&&i(e,t),e.trigger("error",i)},n.Model.prototype.fetch.apply(this,[e].concat(r.rest(arguments)))},parse:function(e){return this.__fetchSuccessCallback=null,this.__fetchErrorCallback=null,!e||e.error?(this.trigger("error",e&&e.error||e),{}):(this.__fetchSuccessCallback=function(){this.trigger("read",e.data)}.bind(this),e.data)}},e),n.Model.extend(e)}}}),t.Controller.extend=function e(n,i){return function(n){var s=n.name;if(void 0===s)throw"'name' property is mandatory ";n=r.extend({},i,n);var a=r.extend({},t.Controller),l={},f={};r.each(n,function(e,t){if(a[t]=e,"function"!=typeof e||"_"===t[0]||r.indexOf(c,t)>=0)return!1;if(l[t]=e,t.match(/^user_/i)){f[t]=e;var i=t.replace(/^user_/i,"");"function"!=typeof n[i]&&(f[i]=e,l[i]=e)}}),r.extend(a,l,{_actions:l,_secureActions:f}),"extend"in a&&delete a.extend;var p=o.extend(a);return r.extend(p,{extend:e(p,r.extend({},i,n))}),u[s]=p,p}}(t.Controller,{});var u={},c=["initialize","beforeFilter","afterRender","checkSession"];function s(e){return r.isObject(e)&&e.promise&&"function"==typeof e.promise}function a(e,t){return void 0===t&&(t=!0),e[t?"resolve":"reject"](t)}function l(e){return"string"!=typeof e?null:(e=e.replace(/\s{2,}/g," "),r.map(e.split(" "),function(e){return e.replace(/(^|_)[a-z]/gi,function(e){return e.toUpperCase()}).replace(/_/g,"")}).join(" "))}function f(e){return"string"!=typeof e?null:(e=e.replace(/\s{2,}/g," "),r.map(e.split(" "),function(e){return e.replace(/^[A-Z]/g,function(e){return e.toLowerCase()}).replace(/([a-z])([A-Z])/g,function(e,t,n){return t+"_"+n.toLowerCase()})}).join(" "))}}(o,c,e,t,n),c}.apply(t,r))||(e.exports=i)}}(this)},917:function(e,t,n){"use strict";(function(r,i){var o;void 0===(o=function(){return r.Controller.extend({name:"pluginManager",pluginList:[],loadPlugins:function(){var e=this;window.location.href.indexOf("/#shared/")<0&&i.ajax({url:"".concat(window.location.origin).concat(window.location.pathname,"pluginsConfig.json"),contentType:"application/json;charset=utf-8",dataType:"json",success:function(t){try{if(t&&t.length>0)for(var r=0;r<t.length;r++){var i=t[r];if(n.e(115).then(function(){var t=[n(1162)("./"+i.file)];(function(t){e.pluginList.push({name:i.name,plugin:new t})}).apply(null,t)}).catch(n.oe),void 0!=i.css)if("string"==typeof i.css)e.loadPluginCSS(i.css);else for(var o=0;o<i.css.length;o++)e.loadPluginCSS(i.css[o])}}catch(e){console.log(e)}},error:function(e){console.log(e)},async:!0})},addMenuEditor:function(e){for(var t=0;t<this.pluginList.length;t++)void 0!=this.pluginList[t].plugin.addMenuEditor&&this.pluginList[t].plugin.addMenuEditor(e)},loadLanguage:function(e){for(var t=0;t<this.pluginList.length;t++)this.pluginList[t].plugin.loadLanguage(e)},addWidget:function(e,t,n){for(var r=0;r<this.pluginList.length;r++)this.pluginList[r].plugin.addWidget(e,t,n)},addView:function(e){for(var t=!1,n=0;n<this.pluginList.length;n++)this.pluginList[n].plugin.addView(e)&&(t=!0);return t},loadPluginCSS:function(e){if(void 0==document.getElementById(e)){e+="?bust=0";var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href","Plugins/"+e),t.setAttribute("id",e),document.getElementsByTagName("head")[0].appendChild(t)}},getModuleList:function(){for(var e=[],t=0;t<this.pluginList.length;t++)void 0!=this.pluginList[t].plugin.getModuleList&&(e=e.concat(this.pluginList[t].plugin.getModuleList()));return e}})}.apply(t,[]))||(e.exports=o)}).call(this,n(694),n(1))}}]);