/*! Copyright Pyplan 2020. All rights reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{707:function(e,t){e.exports=function(){return""}},727:function(e,t,i){"use strict";(function(r,s,a){var n,l,o=i(18);n=[i(728),i(707)],void 0===(l=function(e,t){return e.extend({el:r("#n_o_n_e"),chart:void 0,drilldownData:void 0,inDrillUp:!1,preventDrilldown:!1,sizeDic:{0:{w:0,h:60,hideDetail:!0,hideLegend:!0,hideXTitle:!0,hideXAxis:!0},1:{w:0,h:170,hideDetail:!0,hideLegend:!0,hideXTitle:!0},2:{w:300,h:180,hideDetail:!0,hideLegend:!0},3:{w:220,h:220,hideDetail:!0},99:{w:9999,h:9999}},sizeTransition:{default:{reload:!0}},render:function(e){this.baseRender(e),this.drawItem()},updateSize:function(e,t,i){void 0!=this.chart&&r(this.tagId).length>0&&(void 0==e&&(e=r(this.tagId).find(".item-area").width()),void 0==t&&(t=r(this.tagId).find(".item-area").height()),void 0==i&&(i=!1),this.chart.setSize(e,t-3,i),this.positionHideAllButton())},updateValues:function(e){for(this.resetDrilldown(),this.currentResult&&this.currentResult.itemProperties&&this.currentResult.itemProperties.emptyTotal&&this.filterEmptyData(e);this.chart.series.length;)this.chart.series[0].remove(!1);this.chart.hasOwnProperty("counters")?(this.chart.counters.color=0,this.chart.counters.symbol=0):this.chart.hasOwnProperty("colorCounter")&&(this.chart.colorCounter=0,this.chart.symbolCounter=0),e.series.length>200&&(e.series=e.series.slice(0,200)),this.applyColorSeries(e.series),this.applyStyleSeries(e),this.chart.xAxis.length>0&&this.chart.xAxis[0].setCategories(e.columns.categories);for(var t=0;t<e.series.length;t++)this.chart.addSeries(e.series[t],!1,!1);if(this.currentResult.itemProperties.axes.xAxesAsValues)try{this.chart.axes[0].categories=null,this.chart.xAxis[0].categories=null}catch(e){}this.applyAxisTitles(),this.chart.redraw(),this.addHideAllButton(),this.isReady=!0},onRemoveItemView:function(){this.chart&&this.chart.destroy(),this.drilldownData=null},onEndFullScreenAnimation:function(){this.recreateChart()},onEndNormalScreenAnimation:function(){this.recreateChart()},editModeChanged:function(){this.editMode&&this.resetDrilldown()},recreateItemDash:function(){this.recreateChart()},getOptionsMenu:function(){var e=this,t={callback:function(t){switch(t){case"_full":e.fullScreen();break;case"_view_detail":e.toggleViewDetail(!0);break;case"_export":e.exportItem();break;case"_exportpng":if(void 0!=e.chart){var i="chart";try{i=e.currentResult.itemProperties.title.text}catch(e){}i=i.replace('"',"").replace(":","");var s={chart:{backgroundColor:"#ffffff"}};e.preventDrilldown&&(s.legend={enabled:!1}),e.chart.exportChartLocal({filename:i},s)}break;case"_knowledge":e.addDocumetation();break;case"_workflow":e.addTask();break;case"_view_in_diagram":e.viewInDiagram();break;case"_tableToRight":case"_tableToBottom":e.splitPane("_tableToRight"==t?"splith":"splitv",function(t){e.model.updateSizes(!0,!0),setTimeout(function(){var i=r.extend({},e.currentResult);i.itemId=r.uuid(),i.itemType="table",t.createNewView(i,!1),t.$el.closest(".mainTask").trigger("updateScaleFactor")},100)})}},items:{_full:{type:"icon_text",name:(0,o.translate)("fullscreen"),iconClass:"fa fa-expand"},_view_detail:{type:"icon_text",name:(0,o.translate)("toggle_index_detail"),iconClass:"fa fa-info-circle"},sep1:"---------",_export:{type:"icon_text",name:(0,o.translate)("_export"),iconClass:"fa fa-download"},_exportpng:{type:"icon_text",name:(0,o.translate)("generate_png"),iconClass:"fa fa-image"},sep2:"---------",_splitBy:{name:(0,o.translate)("split_table"),iconClass:"fa fa-bar-table",items:{_tableToRight:{type:"icon_text",name:(0,o.translate)("to_right"),iconClass:"fa fa-caret-square-o-right"},_tableToBottom:{type:"icon_text",name:(0,o.translate)("to_bottom"),iconClass:"fa fa-caret-square-o-down"}}}}};return t.items._knowledge={type:"icon_text",name:(0,o.translate)("knowledge_base"),iconClass:"fa fa-graduation-cap"},(0,o.haveAnyAccess)("LISTASSIGNEDWORKFLOWTASKS,LISTALLWORKFLOWTASKS")&&(t.items._workflow={type:"icon_text",name:(0,o.translate)("workflow"),iconClass:"fa fa-tasks"}),(0,o.haveAccess)("view_influence_diagram")&&(t.items._view_in_diagram={type:"icon_text",name:(0,o.translate)("view_in_diagram"),iconClass:"fa fa-sitemap"}),e.fromEmbedded&&(delete t.items.sep2,delete t.items._splitBy,delete t.items._knowledge,delete t.items._workflow,delete t.items._view_in_diagram),t},addDocumetation:function(){var e=this;i.e(15).then(function(){var t=[i(751)];(function(t){(new t).show(e.currentNodeId)}).apply(null,t)}).catch(i.oe)},addTask:function(){var e=this;i.e(10).then(function(){var t=[i(703)];(function(t){(new t).showAddTaskForNode(e.currentNodeId)}).apply(null,t)}).catch(i.oe)},getStylesUsed:function(){var e=[];return this.currentResult&&this.currentResult.itemProperties&&this.currentResult.itemProperties.colorSerie&&"-1"!=this.currentResult.itemProperties.colorSerie&&e.push(this.currentResult.itemProperties.colorSerie),e},exportItem:function(){var e,t=this.currentNodeId;this.currentResult.itemProperties&&(e=this.currentResult.itemProperties.summaryBy);var r={dims:this.currentResult.dims,rows:this.currentResult.rows,columns:this.currentResult.columns,summaryBy:e};i.e(11).then(function(){var e=[i(696)];(function(e){(new e).exportNode(t,r)}).apply(null,e)}).catch(i.oe)},drawItem:function(){var e=t();r(this.tagId).find(".item-area").empty(),r(this.tagId).find(".item-area").html(e),this.drawChart(r(this.tagId).find(".item-area").first()),this.chart=r(this.tagId).find(".item-area").highcharts(),this.addHideAllButton()},drawChart:function(e){},applyDefaultProperties:function(e){},setAxesRange:function(e){return void 0!=e.categories&&("string"==typeof e.min&&(e.min=-1!=e.categories.indexOf(e.min)?e.categories.indexOf(e.min):null),"string"==typeof e.max&&(e.max=-1!=e.categories.indexOf(e.max)?e.categories.indexOf(e.max):null)),e},getExtraChartOptions:function(e){return{}},updateItemProperties:function(){this.chart&&this.currentResult&&this.currentResult.itemProperties&&(this.chart.destroy(),this.drawItem())},recreateChart:function(){this.chart.destroy(),this.drawItem(),r(this.tagId).trigger("evaluateNodeFromCurrentResult")},setCustomColorSerie:function(e){this.currentResult.itemProperties.colorSerie=e,this.recreateChart()},updateStyleLibraries:function(e){this.recreateChart()},setChartZoom:function(e){this.currentResult.itemProperties.zoom=e,this.recreateChart()},setEmptyTotal:function(e){this.currentResult&&this.currentResult.itemProperties&&(this.currentResult.itemProperties.emptyTotal=e,this.recreateChart())},setChartMarkers:function(e){this.currentResult.itemProperties.hasOwnProperty("markers")?this.currentResult.itemProperties.markers.enabled=e:this.currentResult.itemProperties.markers={enabled:e},this.recreateChart()},setChartLabel:function(e,t){this.currentResult.itemProperties.hasOwnProperty("labels")?this.currentResult.itemProperties.labels.enabled=e:this.currentResult.itemProperties.labels={enabled:e},void 0!=t&&(this.currentResult.itemProperties.labels.inside=t),this.recreateChart()},setChartLegend:function(e){},setChartLegendPosition:function(e,t){this.currentResult.itemProperties.hasOwnProperty("legend")?this.currentResult.itemProperties.legend.enabled=e:this.currentResult.itemProperties.legend={enabled:e},this.chart.options.legend.enabled=e;var i="vertical",r="right",s="middle";switch(t){case"top":i="horizontal",r="center",s="top";break;case"bottom":i="horizontal",r="center",s="bottom";break;case"left":r="left"}this.chart.options.legend.layout=i,this.chart.options.legend.align=r,this.chart.options.legend.verticalAlign=s,this.chart.options.legend.y=0,this.currentResult.itemProperties.legend.layout=i,this.currentResult.itemProperties.legend.align=r,this.currentResult.itemProperties.legend.verticalAlign=s,this.currentResult.itemProperties.legend.y=0,this.recreateChart()},setAxisRange:function(e){var t,i,s,a,n=!1;t=r(e).find("input.axis-xmin").val(),i=r(e).find("input.axis-xmax").val(),s=r(e).find("input.axis-ymin").val(),a=r(e).find("input.axis-ymax").val(),t=""==t?null:t,i=""==i?null:i,s=""==s?null:s,a=""==a?null:a,t||i||s||a?n=!0:t=i=s=a=null,this.currentResult.itemProperties.axes.enabled=n,this.currentResult.itemProperties.axes.xAxis.min=t,this.currentResult.itemProperties.axes.xAxis.max=i,this.currentResult.itemProperties.axes.yAxis.min=s,this.currentResult.itemProperties.axes.yAxis.max=a,this.chart.options.xAxis[0].min=t,this.chart.options.xAxis[0].max=i,this.chart.options.yAxis[0].min=s,this.chart.options.yAxis[0].max=a,this.recreateChart()},setAxisLabelsAngle:function(e,t,i){var r,s,a,n=this.chart.options,l=this.currentResult.itemProperties.axes;"x"==i?(r=n.xAxis[0].labels,s=l.xAxis.labels,e?(a="center",t=0):a=t>0?"left":"right"):(r=n.yAxis[0].labels,s=l.yAxis.labels,a="right",e&&(t=0)),r.align=a,r.rotation=t,s.align=a,s.rotation=t,this.recreateChart()},setAxisLabelsVisibility:function(e,t){var i,r,s=this.chart.options,a=this.currentResult.itemProperties.axes;"x"==e?(i=s.xAxis[0].labels,r=a.xAxis.labels,s.xAxis[0].labels.enabled=t):(i=s.yAxis[0].labels,r=a.yAxis.labels,s.yAxis[0].labels.enabled=t),i.enabled=t,r.enabled=t,this.recreateChart()},setAxisTitleVisibility:function(e,t){var i=this.currentResult.itemProperties.axes;"x"==e?i.xAxis.showTitle=t:i.yAxis.showTitle=t,this.recreateChart()},setXAsValues:function(e){this.currentResult.itemProperties.axes.xAxesAsValues=e,this.recreateChart()},changeToTimeGraph:function(e){this.currentResult.itemProperties.timeChart.active=e,this.recreateChart()},setDonut:function(e){this.currentResult.itemProperties.donut=e,this.recreateChart()},setSubtitle:function(e){this.currentResult.itemProperties.hasOwnProperty("subtitle")?this.currentResult.itemProperties.subtitle.enabled=e:this.currentResult.itemProperties.subtitle={enabled:e},this.chart.options.subtitle.enabled=e,this.recreateChart()},setYAxisTitle:function(e){if(this.chart)if(this.chart.length>0)for(var t=0;t<this.chart.length;t++)this.chart[t].options.yAxis[0].title.text=e;else this.chart.options.yAxis[0].title.text=e;this.currentResult.itemProperties.axes.yAxis.title.text=e,this.recreateChart()},setChartDrilldown:function(e){this.currentResult.itemProperties.drilldown=e},setChartGrouping:function(e){this.currentResult.itemProperties.grouping=e,this.recreateChart()},setIndexEvent:function(e,t){this.currentResult.itemProperties.indexEvents||(this.currentResult.itemProperties.indexEvents={}),t?delete this.currentResult.itemProperties.indexEvents[e]:this.currentResult.itemProperties.indexEvents[e]=!0},configCategories:function(){var e=this;i.e(79).then(function(){var t=[i(1303)];(function(t){(new t).showConfigCategoriesPopup(e)}).apply(null,t)}).catch(i.oe)},applyColorSeries:function(e){if(this.currentResult&&this.currentResult.itemProperties&&this.currentResult.itemProperties.colorSerie&&"-1"!=this.currentResult.itemProperties.colorSerie){var t=this.model.getStyleLibrary(this.currentResult.itemProperties.colorSerie);if(t){var i={};r.each(t,function(e,t){i[t.value.toLowerCase()]=t.color});for(var s=0;s<e.length;s++){var a=e[s].name.toString().toLowerCase();i[a]?e[s].color=i[a]:delete e[s].color}}}},applyStyleSeries:function(e){var t=this.currentResult.itemType,i=this,s=.48/e.series.length,a=!1;"scatterchart"!==t&&"linechart"!==t&&"barchart"!==t&&"columnchart"!==t&&"barchartstacked"!==t&&"columnchartstacked"!==t&&"columnchartpercent"!==t||this.currentResult&&this.currentResult.itemProperties&&this.currentResult.itemProperties.axes&&this.currentResult.itemProperties.axes.xAxesAsValues&&(a=!0),r.each(e.series,function(t,r){r.turboThreshold=0,!0===i.currentResult.itemProperties.grouping&&(r.pointPadding=s*t);for(var n=0;n<r.data.length;n++)r.data[n]={y:null===r.data[n]?null:parseFloat(r.data[n]),name:e.columns.categories[n],drilldown:!0},a&&(delete r.data[n].name,r.data[n].x=e.columns.categories[n])})},drilldown:function(e){if(this.preventDrilldown)return!1;if(this.currentResult&&this.currentResult.itemProperties&&this.currentResult.itemProperties.drilldown&&!(this.currentResult.itemProperties.timeChart&&this.currentResult.itemProperties.timeChart.active||e.seriesOptions||e.points)){var t=this,i=[],a=this.getIndexes();r.each(a,function(e,r){if(r.field!=t.getRowIndexField()&&r.field!=t.getColumnIndexField()){var s=!1;if(t.drilldownData&&t.drilldownData.length>0)for(var a=0;a<t.drilldownData.length;a++)if(t.drilldownData[a].index.field==r.field){s=!0;break}s||i.push(r)}});var n=this.getCategoryDrilldown(e),l=this.getSerieDrilldown(e);if(i.length>0)if((i=s.sortBy(i,"name")).length>1){var h=this.tagId;r.contextMenu("destroy",h),r.contextMenu({selector:h,className:"context-menu-data-title",callback:function(r,s){t.queryForDrilldown(e,i[r],n,l),t=null},items:i,events:{hide:function(e){r.contextMenu("destroy",h)}},zIndex:0}),r(h).contextMenu({x:window.__mouseEvent.clientX,y:window.__mouseEvent.clientY}),r(".context-menu-data-title").attr("data-menutitle",(0,o.translate)("drilldown_by"))}else this.queryForDrilldown(e,i[0],n,l)}},drillup:function(e){if(this.drilldownData&&this.drilldownData.length>0){var t=this.drilldownData.pop();this.updateDrilldownBreadcrumbs(!0),this.inDrillUp||this.model.syncDrillUp(t.index.field,this.tagId)}},queryForDrilldown:function(e,t,i,s,a){if(this.chart.xAxis.length>0){var n={index:t,breadcrumbs:""},l=[],h=[],d=[];if(h.push(r.extend({},t)),this.drilldownData&&this.drilldownData.length>0){(c=r.extend({},this.drilldownData[this.drilldownData.length-1].index)).values=[{value:i,selected:!0}],l.push(c),d.push(c),n.breadcrumbs=c.name+" ("+i+")"}else{var c;if(this.getColumnIndex())(c=r.extend({},this.getColumnIndex())).values=[{value:i,selected:!0}],d.push(c),l.push(c),n.breadcrumbs+=c.name+" ("+i+")";if(this.getRowIndex())(c=r.extend({},this.getRowIndex())).values=[{value:s,selected:!0}],l.push(c),d.push(c),""!=n.breadcrumbs&&(n.breadcrumbs+=" > "),n.breadcrumbs+=c.name+" ("+s+")"}if(this.drilldownData&&this.drilldownData.length>0){var u=this.drilldownData[this.drilldownData.length-1];r.each(u.dims,function(e,t){l.push(t)})}n.dims=r.extend({},l);var p=this.getIndexes();r.each(p,function(e,t){var i=!1;if(h[0].field!=t.field){for(var r=0;r<l.length;r++)if(l[r].field==t.field){i=!0;break}i||l.push(t)}}),a||this.model.syncDrilldown(d,t.field,this.tagId);var m="sum";this.currentResult&&this.currentResult.itemProperties&&this.currentResult.itemProperties.summaryBy&&(m=this.currentResult.itemProperties.summaryBy);var f=this.getTimeFrame();this.chart.showLoading((0,o.translate)("loading"));var g=this;this.model.evaluateNode(this.currentNodeId,l,[],h,function(i){if(g.currentResult.itemProperties.emptyTotal&&g.filterEmptyData(i),g.chart.hideLoading(),g.drilldownData||(g.drilldownData=[]),g.drilldownData.push(n),i&&i.columns&&i.columns.categories&&i.series.length>0&&i.columns.categories.length==i.series[0].data.length){for(var r={name:t.name,data:[]},s=0;s<i.columns.categories.length;s++){var a={name:i.columns.categories[s],y:i.series[0].data[s],drilldown:!0};r.data.push(a)}g.chart.xAxis.length>0&&g.chart.xAxis[0].setCategories(null),g.chart.addSeriesAsDrilldown(e.point,r),g.updateDrilldownBreadcrumbs()}},!1,null,m,-1,-1,!1,!1,f.timeFormat,f.timeFormatType,f.calendarType)}},updateDrilldownBreadcrumbs:function(e){var t="";if(r(this.tagId).find(".info-area").empty(""),this.drilldownData&&this.drilldownData.length>0){var i=[];r.each(this.drilldownData,function(e,s){""!=t&&(t+=" > "),t+=s.breadcrumbs,i.push(s.index.field),r.each(s.dims,function(e,t){i.push(t.field)})});var s="",a=this.getIndexes();a&&(r.each(a,function(e,t){if(-1==i.indexOf(t.field)){var a=0,n="",l=(0,o.translate)("all");r.each(t.values,function(e,t){t.selected&&(a++,""!=n&&(n+=", "),n+=t.value)}),1==a?l=n:a>0&&(l=(0,o.translate)("multiple")),s+=" ",s+=t.name+"("+l+")"}}),s&&(t+=" | "+s)),r(this.tagId).find(".info-area").html(t)}""==t?r(this.tagId).find(".detail-area ul").show():r(this.tagId).find(".detail-area ul").hide(),this.applyAxisTitles(!e);var n=this;setTimeout(function(){n.positionHideAllButton(),n=null},450)},resetDrilldown:function(){if(this.drilldownData&&this.drilldownData.length>0){if(this.chart)for(;this.chart.drilldownLevels.length>0;)this.chart.drillUp();this.drilldownData=null,this.updateDrilldownBreadcrumbs()}},setPositionForDropDetails:function(){var e=r(this.tagId).find(".drop-area"),t=e.find(".for-column"),i=e.find(".for-row");t.find("span").text((0,o.translate)("drop_axis_here")),i.find("span").text((0,o.translate)("drop_serie_here"));var s=r(this.tagId).height()-45;r(this.tagId).find("g.highcharts-xaxis-labels").length,i.css("left","10px").css("top","26px"),i.width(e.width()-20),i.height(s-26),t.css("left","10px").css("top",s+"px"),t.width(e.width()-20);var a=26;this.chart&&this.chart.xAxis&&this.chart.xAxis.length>0&&this.chart.xAxis[0].axisTitle&&this.chart.xAxis[0].axisTitle.textStr&&(a=50),t.height(a)},showHideAllSeries:function(){var e=!1;if(this.chart){var t=this.chart;if(t.series&&t.series.length>0){var i=t.series;"pie"==this.chart.options.chart.type&&(i=t.series[0].points);var s=i[0];s.visible?(r(i).each(function(){this.setVisible(!1,!1)}),t.redraw()):(e=!0,r(i).each(function(){this.setVisible(!0,!1)}),t.redraw()),s=null,i=null}this.prepareForSyncShowHideLegend(),t=null}return e},addHideAllButton:function(){var e=r(this.tagId).find(".item-area");r(this.tagId).find(".item-area .highcharts-legend-title"),r(this.tagId).find(".highcharts-legend div div");if(0==e.find(".showhideserie").length){r("<i class='showhideserie fa fa-eye'></i>").appendTo(e);var t=this;e.find(".showhideserie").on("click",function(){var e=t.showHideAllSeries();r(this).removeClass("fa-eye").removeClass("fa-eye-slash"),e?r(this).addClass("fa-eye"):r(this).addClass("fa-eye-slash")})}else e.find(".showhideserie").addClass("fa-eye").removeClass("fa-eye-slash");e=null,this.positionHideAllButton()},positionHideAllButton:function(){var e=r(this.tagId).find(".item-area .showhideserie");if(e.length>0){0==r(this.tagId).find(".item-area g.highcharts-legend").length||"hidden"==r(this.tagId).find(".item-area g.highcharts-legend").attr("visibility")?e.hide():e.show();var t=r(this.tagId).find(".item-area:first div.highcharts-legend-item:first").parent().parent().parent().position();t&&(e.css("top",t.top+7),e.css("right",0))}},getCategoryDrilldown:function(e){return e.point.name},getSerieDrilldown:function(e){return e.point.series.name},getLabelStyle:function(){var e=a.theme.extraStyles.chartLabels.fontSize.replace("px","");return this.maxScaleFactorW>1&&(e*=this.maxScaleFactorW),{color:"contrast",fontSize:e+"px",fontWeight:"normal",textShadow:"none"}},applyNumberFormat:function(){this.recreateChart()},formatLabel:function(e){return this.createFormatter(),this.numberFormatter.format(e.point.y)},formatTooltip:function(e){this.createFormatter();var t=10;this.maxScaleFactorW>1&&(t*=this.maxScaleFactorW);var i=e.key;this.columnFormatter&&(i=this.columnFormatter.format(i));var r="";return e&&e.series&&(r=e.series.name),r&&this.rowFormatter&&(r=this.rowFormatter.format(r)),'<span style="font-size:'+t+'px">'+i+'</span><br/><span style="color:'+e.point.color+'">●</span> '+r+": <b>"+this.numberFormatter.format(e.point.y)+"</b><br/>"},syncDrilldown:function(e,t,i){if(this.chart){if(this.preventDrilldown)return!1;var r=this.getIndexByField(t);if(r&&e&&e.length>0&&e[0].values&&e[0].values.length>0&&!this.isUnlinkedIndex(t)){var s,a,n;if(1==e.length)if(this.drilldownData&&this.drilldownData.length>0)s=e[0].values[0].value,a=e[0].name,n=!0;else{var l=this.getRowIndexField(),o=this.getColumnIndexField();l!=e[0].field&&l||o!=e[0].field&&o||o==l||(n=!0,s="Total",a=e[0].values[0].value)}else{l=this.getRowIndexField(),o=this.getColumnIndexField();l!=e[0].field&&l!=e[1].field||o!=e[0].field&&o!=e[1].field||(n=!0,s=e[0].values[0].value,a=e[1].values[0].value)}if(n){for(var h={point:!1,category:void 0,points:!1,preventDefault:function(){},seriesOptions:void 0,target:this.chart,type:"drilldown"},d=0;d<this.chart.series.length;d++){if(this.chart.series[d].name==a||this.chart.series[d].name==s||"pie"==this.chart.options.chart.type){if(this.chart.series[d].name==s){var c=a;a=s,s=c}for(var u=0;u<this.chart.series[d].points.length;u++)if(this.chart.series[d].points[u].name==s||this.chart.series[d].points[u].name==a){h.point=this.chart.series[d].points[u];break}}if(h.point)break}h.point&&this.queryForDrilldown(h,r,s,a,!0)}}}},syncDrillup:function(e,t){if(this.chart&&(this.getIndexByField(e)&&!this.isUnlinkedIndex(e)&&this.drilldownData&&this.drilldownData.length>0&&this.drilldownData[this.drilldownData.length-1].index.field==e)){if(this.inDrillUp=!0,this.chart.drilldownLevels.length>0)try{this.chart.drillUp()}catch(e){}this.inDrillUp=!1}},legendClick:function(){var e=this;setTimeout(function(){e.prepareForSyncShowHideLegend(),e=null},100)},prepareForSyncShowHideLegend:function(){if(this.chart){var e=this.chart,t={};if(e.series&&e.series.length>0){var i=e.series;"pie"==this.chart.options.chart.type&&(i=e.series[0].points),r(i).each(function(){t[this.name]=this.visible}),i=null}e=null;var s=this.getRowIndexField();this.model.syncShowHideLegend(s,t,this.tagId)}},syncShowHideLegend:function(e,t,i){var s=this.getRowIndexField();if(this.chart&&s==e&&!this.isUnlinkedIndex(e)){var a=this.chart;if(a.series&&a.series.length>0){var n=a.series;"pie"==this.chart.options.chart.type&&(n=a.series[0].points),r(n).each(function(){t[this.name]?this.setVisible(!0,!1):this.setVisible(!1,!1)}),a.redraw(!0),n=null}a=null}},applyAxisTitles:function(e){if(this.chart){var t=this.getXTitle(),i=this.getLegendTitle();this.chart.xAxis&&this.chart.xAxis.length>0&&this.chart.xAxis[0].setTitle(t,!1),this.chart.legend&&this.chart.legend.title&&this.chart.legend.title.attr({text:i.text});var s=this.chart.legend;this.drilldownData&&this.drilldownData.length>0?s&&s.group&&(s.group.hide(),r(this.tagId).find(".item-area .showhideserie").hide()):this.currentResult&&this.currentResult.itemProperties&&this.currentResult.itemProperties.legend&&this.currentResult.itemProperties.legend.enabled&&s&&s.group&&s.group.show(),e&&this.chart.redraw()}},getXTitle:function(){var e={text:"",style:{color:"#707070",fontWeight:"bold",fontSize:a.theme.extraStyles.legendLabels.fontSize.replace("px","")*this.maxScaleFactorW+"px"}};return this.getSizeKeyProp("hideXTitle")||(this.drilldownData&&this.drilldownData.length>0?e.text=this.drilldownData[this.drilldownData.length-1].index.name:this.getColumnIndex()&&this.currentResult&&this.currentResult.itemProperties&&this.currentResult.itemProperties.axes&&this.currentResult.itemProperties.axes.xAxis&&this.currentResult.itemProperties.axes.xAxis.showTitle&&(e.text=this.getColumnIndex().name)),e},getLabelsStyle:function(){return{fontSize:a.theme.extraStyles.axisLabels.fontSize.replace("px","")*this.maxScaleFactorW+"px"}},getLegendTitle:function(){var e={text:"",style:{color:"#707070",fontWeight:"bold",fontSize:a.theme.extraStyles.legendLabels.fontSize.replace("px","")*this.maxScaleFactorW+"px"}};return this.drilldownData&&0!=this.drilldownData.length||this.getRowIndex()&&this.currentResult&&this.currentResult.itemProperties&&this.currentResult.itemProperties.axes&&this.currentResult.itemProperties.axes.yAxis&&this.currentResult.itemProperties.axes.yAxis.showTitle&&(e.text=this.getRowIndex().name),e},getChartLegend:function(e){e=e?r.extend({},e):{},this.needHideLegend()?(e.enabled=!1,this.hidingLegendBySize=!0):(this.hidingLegendBySize=!1,e.title=this.getLegendTitle(),e.itemStyle={fontSize:11*this.maxScaleFactorW+"px"});var t=this;return e.labelFormatter=function(){return t.rowFormatter?t.rowFormatter.format(this.name):this.name},e.useHTML=!0,e},getSizeKeyProp:function(e){return!!(this.lastSizeKey&&this.sizeDic[this.lastSizeKey]&&this.sizeDic[this.lastSizeKey][e])&&this.sizeDic[this.lastSizeKey][e]},needHideLegend:function(){return this.getSizeKeyProp("hideLegend")}})}.apply(t,n))||(e.exports=l)}).call(this,i(1),i(220),i(26))}}]);